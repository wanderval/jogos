// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var t,aa,ba,ea,fa,ga,ja,ka,v,la,ma,na,oa,pa,qa,ra,va,wa,xa,ya,za,Aa,Ba,Ca,Da,w,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub={},Vb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function c(){this.ne=this.me=this.pe=this.oe=this.He=this.Ge=this.Rc=this.Qc=0}function b(a,b,c,d){a<b?c<d?(s=a<c?a:c,u=b>d?b:d):(s=a<d?a:d,u=b>c?b:c):c<d?(s=b<c?b:c,u=a>d?a:d):(s=b<d?b:d,u=a>c?a:c)}function d(){this.items=this.Lf=null;this.zk=0;z&&(this.Lf=new Set);this.fl=[];this.Ph=!0}function e(a){B[C++]=a}function f(){this.Pc=this.Np=this.y=this.u=0}function g(a){this.bb=[];this.Kn=this.Mn=this.Nn=this.Ln=0;this.$n=null;this.Xm(a)}function k(a,
b){this.Jc=a;this.Ic=b;this.cells={}}function n(a,b){this.Jc=a;this.Ic=b;this.cells={}}function m(a,b,c){var d;return y.length?(d=y.pop(),d.Er=a,d.x=b,d.y=c,d):new aa(a,b,c)}function l(a,b,c){this.Er=a;this.x=b;this.y=c;this.Dc=new ba}function h(a,b,c){var d;return G.length?(d=G.pop(),d.Er=a,d.x=b,d.y=c,d):new ea(a,b,c)}function q(a,b,c){this.Er=a;this.x=b;this.y=c;this.Dc=[];this.yk=!0;this.xg=new ba;this.Hl=!1}function r(a,b){return a.Uf-b.Uf}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ga=function(a){window.console&&window.console.error&&window.console.error(a)};ja=function(a){return"undefined"===typeof a};ka=function(a){return"number"===typeof a};v=function(a){return"string"===typeof a};la=function(a){return 0<a&&0===(a-1&a)};ma=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};na=function(a){return 0>a?-a:a};oa=function(a,b){return a<b?a:b};pa=Math.PI;qa=function(a){return 0<=a?a|0:(a|0)-1};ra=function(a){var b=a|0;return b===a?b:b+1};va=function(a,b,c,d,f,h,g,l){var z,
k,e,p;a<c?(k=a,z=c):(k=c,z=a);f<g?(p=f,e=g):(p=g,e=f);if(z<p||k>e)return!1;b<d?(k=b,z=d):(k=d,z=b);h<l?(p=h,e=l):(p=l,e=h);if(z<p||k>e)return!1;z=f-a+g-c;k=h-b+l-d;a=c-a;b=d-b;f=g-f;h=l-h;l=na(b*f-h*a);return na(f*k-h*z)>l?!1:na(a*k-b*z)<=l};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.ao=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-this.left};a.prototype.height=
function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.dC=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.eC=function(a,b,c){return!(a.right+b<this.left||a.bottom+
c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.Rd=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.lo=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};wa=a;c.prototype.Wm=function(a){this.Qc=a.left;this.Rc=a.top;this.Ge=a.right;this.He=a.top;this.oe=a.right;this.pe=a.bottom;this.me=a.left;this.ne=a.bottom};c.prototype.Dx=function(a,b){if(0===b)this.Wm(a);else{var c=Math.sin(b),d=Math.cos(b),
f=a.left*c,h=a.top*c,g=a.right*c,c=a.bottom*c,l=a.left*d,z=a.top*d,k=a.right*d,d=a.bottom*d;this.Qc=l-h;this.Rc=z+f;this.Ge=k-h;this.He=z+g;this.oe=k-c;this.pe=d+g;this.me=l-c;this.ne=d+f}};c.prototype.offset=function(a,b){this.Qc+=a;this.Rc+=b;this.Ge+=a;this.He+=b;this.oe+=a;this.pe+=b;this.me+=a;this.ne+=b;return this};var s=0,u=0;c.prototype.$u=function(a){b(this.Qc,this.Ge,this.oe,this.me);a.left=s;a.right=u;b(this.Rc,this.He,this.pe,this.ne);a.top=s;a.bottom=u};c.prototype.Rd=function(a,b){var c=
this.Ge-this.Qc,d=this.He-this.Rc,f=this.oe-this.Qc,h=this.pe-this.Rc,g=a-this.Qc,l=b-this.Rc,z=c*c+d*d,k=c*f+d*h,d=c*g+d*l,e=f*f+h*h,p=f*g+h*l,q=1/(z*e-k*k),c=(e*d-k*p)*q,z=(z*p-k*d)*q;if(0<=c&&0<z&&1>c+z)return!0;c=this.me-this.Qc;d=this.ne-this.Rc;z=c*c+d*d;k=c*f+d*h;d=c*g+d*l;q=1/(z*e-k*k);c=(e*d-k*p)*q;z=(z*p-k*d)*q;return 0<=c&&0<z&&1>c+z};c.prototype.Lh=function(a,b){if(b)switch(a){case 0:return this.Qc;case 1:return this.Ge;case 2:return this.oe;case 3:return this.me;case 4:return this.Qc;
default:return this.Qc}else switch(a){case 0:return this.Rc;case 1:return this.He;case 2:return this.pe;case 3:return this.ne;case 4:return this.Rc;default:return this.Rc}};c.prototype.ki=function(){return(this.Qc+this.Ge+this.oe+this.me)/4};c.prototype.li=function(){return(this.Rc+this.He+this.pe+this.ne)/4};c.prototype.Vv=function(a){var b=a.ki(),c=a.li();if(this.Rd(b,c))return!0;b=this.ki();c=this.li();if(a.Rd(b,c))return!0;var d,f,h,g,l,z,k,e;for(k=0;4>k;k++)for(e=0;4>e;e++)if(b=this.Lh(k,!0),
c=this.Lh(k,!1),d=this.Lh(k+1,!0),f=this.Lh(k+1,!1),h=a.Lh(e,!0),g=a.Lh(e,!1),l=a.Lh(e+1,!0),z=a.Lh(e+1,!1),va(b,c,d,f,h,g,l,z))return!0;return!1};xa=c;ya=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};za=function(a,b){var c,d;b=qa(b);if(!(0>b||b>=a.length)){c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};Aa=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};Ba=function(a,b){a.push.apply(a,b)};Ca=function(a,b){var c,d;c=0;for(d=a.length;c<
d;++c)if(a[c]===b)return c;return-1};Da=function(a,b){var c=Ca(a,b);-1!==c&&za(a,c)};w=function(a){return a/(180/pa)};Ea=function(a){return 180/pa*a};Fa=function(a){a%=360;0>a&&(a+=360);return a};Ga=function(a){a%=2*pa;0>a&&(a+=2*pa);return a};Ha=function(a){return Fa(Ea(a))};Ia=function(a){return Ga(w(a))};Ja=function(a,b,c,d){return Math.atan2(d-b,c-a)};Ka=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),f=Math.sin(b),h=Math.cos(b),c=c*f+d*h;return 1<=c?0:-1>=c?pa:Math.acos(c)};La=
function(a,b,c){var d=Math.sin(a),f=Math.cos(a),h=Math.sin(b),g=Math.cos(b);return Math.acos(d*h+f*g)>c?0<f*h-d*g?Ga(a+c):Ga(a-c):Ga(b)};Ma=function(a,b){var c=Math.sin(a),d=Math.cos(a),f=Math.sin(b),h=Math.cos(b);return 0>=d*f-c*h};Na=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Oa=function(a,b){return!a!==!b};Pa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Qa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var p=+new Date;Ra=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-p};var A=!1,D=A=!1,L=!1;"undefined"!==typeof window&&(A=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),A=!A&&/safari/i.test(navigator.userAgent),D=/(iphone|ipod|ipad)/i.test(navigator.userAgent),L=window.c2ejecta);
var z=!A&&!L&&!D&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.ah()?!1:z?this.Lf.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(z)this.Lf.has(a)||(this.Lf.add(a),this.Ph=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.zk++,this.Ph=!1):(this.items={},this.items[b]=a,this.zk=1,this.Ph=!1)}};d.prototype.remove=function(a){if(!this.ah())if(z)this.Lf.has(a)&&(this.Lf["delete"](a),
this.Ph=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.zk--,this.Ph=!1)}};d.prototype.clear=function(){this.ah()||(z?this.Lf.clear():(this.items=null,this.zk=0),this.fl.length=0,this.Ph=!0)};d.prototype.ah=function(){return 0===this.count()};d.prototype.count=function(){return z?this.Lf.size:this.zk};var B=null,C=0;d.prototype.HD=function(){if(!this.Ph){if(z)this.fl.length=this.Lf.size,B=this.fl,C=0,this.Lf.forEach(e),B=null,C=0;else{var a=this.fl;a.length=
this.zk;var b,c=0,d=this.items;if(d)for(b in d)d.hasOwnProperty(b)&&(a[c++]=d[b])}this.Ph=!0}};d.prototype.Tf=function(){this.HD();return this.fl};ba=d;new ba;Sa=function(a,b){z?Ta(a,b.Lf):Ua(a,b.Tf())};Ta=function(a,b){var c,d,f,h;d=c=0;for(f=a.length;c<f;++c)h=a[c],b.has(h)||(a[d++]=h);a.length=d};Ua=function(a,b){var c,d,f,h;d=c=0;for(f=a.length;c<f;++c)h=a[c],-1===Ca(b,h)&&(a[d++]=h);a.length=d};f.prototype.add=function(a){this.y=a-this.u;this.Np=this.Pc+this.y;this.u=this.Np-this.Pc-this.y;this.Pc=
this.Np};f.prototype.reset=function(){this.Pc=this.Np=this.y=this.u=0};Va=f;Wa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};g.prototype.Xm=function(a){this.lx=a;this.Ad=a.length/2;this.bb.length=a.length;this.Tn=this.Un=-1;this.cv=0};g.prototype.oj=function(){return!this.lx.length};g.prototype.gb=function(){for(var a=this.bb,b=a[0],c=b,d=a[1],f=d,h,g,l=1,z=this.Ad;l<z;++l)g=2*l,h=a[g],g=a[g+1],h<b&&(b=h),h>c&&(c=h),g<d&&(d=g),g>f&&(f=g);this.Ln=b;this.Mn=c;this.Nn=d;this.Kn=f};
g.prototype.Wm=function(a,b,c){this.bb.length=8;this.Ad=4;var d=this.bb;d[0]=a.left-b;d[1]=a.top-c;d[2]=a.right-b;d[3]=a.top-c;d[4]=a.right-b;d[5]=a.bottom-c;d[6]=a.left-b;d[7]=a.bottom-c;this.Un=a.right-a.left;this.Tn=a.bottom-a.top;this.gb()};g.prototype.bl=function(a,b,c,d,f){this.bb.length=8;this.Ad=4;var h=this.bb;h[0]=a.Qc-b;h[1]=a.Rc-c;h[2]=a.Ge-b;h[3]=a.He-c;h[4]=a.oe-b;h[5]=a.pe-c;h[6]=a.me-b;h[7]=a.ne-c;this.Un=d;this.Tn=f;this.gb()};g.prototype.Cx=function(a){this.Ad=a.Ad;Aa(this.bb,a.bb);
this.Ln=a.Ln;this.Nn-a.Nn;this.Mn=a.Mn;this.Kn=a.Kn};g.prototype.Oh=function(a,b,c){if(this.Un!==a||this.Tn!==b||this.cv!==c){this.Un=a;this.Tn=b;this.cv=c;var d,f,h,g,l,z=0,k=1,e=this.lx,p=this.bb;0!==c&&(z=Math.sin(c),k=Math.cos(c));c=0;for(h=this.Ad;c<h;c++)d=2*c,f=d+1,g=e[d]*a,l=e[f]*b,p[d]=g*k-l*z,p[f]=l*k+g*z;this.gb()}};g.prototype.Rd=function(a,b){var c=this.bb;if(a===c[0]&&b===c[1])return!0;var d,f,h,g=this.Ad,l=this.Ln-110,z=this.Nn-101,k=this.Mn+131,e=this.Kn+120,p,q,r=0,m=0;for(d=0;d<
g;d++)f=2*d,h=(d+1)%g*2,p=c[f],f=c[f+1],q=c[h],h=c[h+1],va(l,z,a,b,p,f,q,h)&&r++,va(k,e,a,b,p,f,q,h)&&m++;return 1===r%2||1===m%2};g.prototype.gm=function(a,b,c){var d=a.bb,f=this.bb;if(this.Rd(d[0]+b,d[1]+c)||a.Rd(f[0]-b,f[1]-c))return!0;var h,g,l,z,k,e,p,q,r,m,n,B;h=0;for(z=this.Ad;h<z;h++)for(g=2*h,l=(h+1)%z*2,q=f[g],g=f[g+1],r=f[l],m=f[l+1],l=0,p=a.Ad;l<p;l++)if(k=2*l,e=(l+1)%p*2,n=d[k]+b,k=d[k+1]+c,B=d[e]+b,e=d[e+1]+c,va(q,g,r,m,n,k,B,e))return!0;return!1};g.prototype.WC=function(a){var b,c,
d;b=0;for(c=this.Ad;b<c;++b)d=2*b,this.bb[d]=2*a-this.bb[d]};g.prototype.kB=function(a){var b,c,d;b=0;for(c=this.Ad;b<c;++b)d=2*b+1,this.bb[d]=2*a-this.bb[d]};g.prototype.gA=function(){var a,b,c,d,f;a=0;for(b=this.Ad;a<b;++a)c=2*a,d=c+1,f=this.bb[c],this.bb[c]=this.bb[d],this.bb[d]=f};Xa=g;k.prototype.Uh=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=m(this,a,b),this.cells[a][b]=d):null:c?(d=m(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};k.prototype.ie=function(a){return qa(a/
this.Jc)};k.prototype.je=function(a){return qa(a/this.Ic)};k.prototype.update=function(a,b,c){var d,f,h,g,l;if(b)for(d=b.left,f=b.right;d<=f;++d)for(h=b.top,g=b.bottom;h<=g;++h)if(!c||!c.Rd(d,h))if(l=this.Uh(d,h,!1))l.remove(a),l.ah()&&(l.Dc.clear(),1E3>y.length&&y.push(l),this.cells[d][h]=null);if(c)for(d=c.left,f=c.right;d<=f;++d)for(h=c.top,g=c.bottom;h<=g;++h)b&&b.Rd(d,h)||this.Uh(d,h,!0).Mr(a)};k.prototype.zp=function(a,b){var c,d,f,h,g,l;c=this.ie(a.left);f=this.je(a.top);d=this.ie(a.right);
for(g=this.je(a.bottom);c<=d;++c)for(h=f;h<=g;++h)(l=this.Uh(c,h,!1))&&l.dump(b)};Ya=k;n.prototype.Uh=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=h(this,a,b),this.cells[a][b]=d):null:c?(d=h(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};n.prototype.ie=function(a){return qa(a/this.Jc)};n.prototype.je=function(a){return qa(a/this.Ic)};n.prototype.update=function(a,b,c){var d,f,h,g,l;if(b)for(d=b.left,f=b.right;d<=f;++d)for(h=b.top,g=b.bottom;h<=g;++h)if(!c||!c.Rd(d,h))if(l=
this.Uh(d,h,!1))l.remove(a),l.ah()&&(l.reset(),1E3>G.length&&G.push(l),this.cells[d][h]=null);if(c)for(d=c.left,f=c.right;d<=f;++d)for(h=c.top,g=c.bottom;h<=g;++h)b&&b.Rd(d,h)||this.Uh(d,h,!0).Mr(a)};n.prototype.zp=function(a,b,c,d,f){var h,g;a=this.ie(a);b=this.je(b);c=this.ie(c);for(h=this.je(d);a<=c;++a)for(d=b;d<=h;++d)(g=this.Uh(a,d,!1))&&g.dump(f)};n.prototype.OC=function(a){var b,c,d,f,h;b=a.left;d=a.top;c=a.right;for(f=a.bottom;b<=c;++b)for(a=d;a<=f;++a)if(h=this.Uh(b,a,!1))h.yk=!1};Za=n;
var y=[];l.prototype.ah=function(){return this.Dc.ah()};l.prototype.Mr=function(a){this.Dc.add(a)};l.prototype.remove=function(a){this.Dc.remove(a)};l.prototype.dump=function(a){Ba(a,this.Dc.Tf())};aa=l;var G=[];q.prototype.ah=function(){if(!this.Dc.length)return!0;if(this.Dc.length>this.xg.count())return!1;this.rr();return!0};q.prototype.Mr=function(a){this.xg.contains(a)?(this.xg.remove(a),this.xg.ah()&&(this.Hl=!1)):this.Dc.length?(this.Dc[this.Dc.length-1].lg()>a.lg()&&(this.yk=!1),this.Dc.push(a)):
(this.Dc.push(a),this.yk=!0)};q.prototype.remove=function(a){this.xg.add(a);this.Hl=!0;30<=this.xg.count()&&this.rr()};q.prototype.rr=function(){this.Hl&&(this.xg.count()===this.Dc.length?this.reset():(Sa(this.Dc,this.xg),this.xg.clear(),this.Hl=!1))};q.prototype.KA=function(){this.yk||(this.Dc.sort(r),this.yk=!0)};q.prototype.reset=function(){this.Dc.length=0;this.yk=!0;this.xg.clear();this.Hl=!1};q.prototype.dump=function(a){this.rr();this.KA();this.Dc.length&&a.push(this.Dc)};ea=q;var E="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
$a=function(a){return 0>=a||11<=a?"source-over":E[a-1]};ab=function(a,b,c){if(c)switch(a.fd=c.ONE,a.Zc=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.fd=c.ONE;a.Zc=c.ONE;break;case 3:a.fd=c.ONE;a.Zc=c.ZERO;break;case 4:a.fd=c.ONE_MINUS_DST_ALPHA;a.Zc=c.ONE;break;case 5:a.fd=c.DST_ALPHA;a.Zc=c.ZERO;break;case 6:a.fd=c.ZERO;a.Zc=c.SRC_ALPHA;break;case 7:a.fd=c.ONE_MINUS_DST_ALPHA;a.Zc=c.ZERO;break;case 8:a.fd=c.ZERO;a.Zc=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.fd=c.DST_ALPHA;a.Zc=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.fd=
c.ONE_MINUS_DST_ALPHA,a.Zc=c.SRC_ALPHA}};bb=function(a){return Math.round(1E6*a)/1E6};cb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};db=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||cb(a.tagName,"canvas")?!0:!1}})();var Wb="undefined"!==typeof Float32Array?Float32Array:Array;function Xb(a){var c=new Wb(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function Yb(a){var c=new Wb(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function Zb(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function $b(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function ac(a,c,b,d){d||(d=Yb());var e,f,g,k,n,m,l,h,q=a[0],r=a[1];a=a[2];f=b[0];g=b[1];e=b[2];b=c[1];m=c[2];q===c[0]&&r===b&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],m=r-c[1],l=a-c[2],h=1/Math.sqrt(b*b+m*m+l*l),b*=h,m*=h,l*=h,c=g*l-e*m,e=e*b-f*l,f=f*m-g*b,(h=Math.sqrt(c*c+e*e+f*f))?(h=1/h,c*=h,e*=h,f*=h):f=e=c=0,g=m*f-l*e,k=l*c-b*f,n=b*e-m*c,(h=Math.sqrt(g*g+k*k+n*n))?(h=1/h,g*=h,k*=h,n*=h):n=k=g=0,
d[0]=c,d[1]=g,d[2]=b,d[3]=0,d[4]=e,d[5]=k,d[6]=m,d[7]=0,d[8]=f,d[9]=n,d[10]=l,d[11]=0,d[12]=-(c*q+e*r+f*a),d[13]=-(g*q+k*r+n*a),d[14]=-(b*q+m*r+l*a),d[15]=1)}
(function(){function a(a){this.Yh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.dv=Xb([0,0,100]);this.rw=Xb([0,0,0]);this.$x=Xb([0,1,0]);this.$t=Xb([1,1,1]);this.tv=!0;this.Ls=Yb();this.Ze=Yb();this.hw=Yb();this.br=Yb();this.T=a;this.Rv()}function c(a,b,c){this.T=a;this.Ym=b;this.name=c;this.Ve=a.getAttribLocation(b,"aPos");this.bi=a.getAttribLocation(b,"aTex");this.pw=a.getUniformLocation(b,"matP");this.cp=a.getUniformLocation(b,"matMV");this.Fk=
a.getUniformLocation(b,"opacity");this.qw=a.getUniformLocation(b,"samplerFront");this.vm=a.getUniformLocation(b,"samplerBack");this.xj=a.getUniformLocation(b,"destStart");this.wj=a.getUniformLocation(b,"destEnd");this.rs=a.getUniformLocation(b,"seconds");this.qs=a.getUniformLocation(b,"pixelWidth");this.ps=a.getUniformLocation(b,"pixelHeight");this.um=a.getUniformLocation(b,"layerScale");this.tm=a.getUniformLocation(b,"layerAngle");this.xm=a.getUniformLocation(b,"viewOrigin");this.wm=a.getUniformLocation(b,
"scrollPos");this.$B=!!(this.qs||this.ps||this.rs||this.vm||this.xj||this.wj||this.um||this.tm||this.xm||this.wm);this.zw=this.Aw=-999;this.ep=1;this.vw=this.uw=0;this.xw=this.tw=this.sw=1;this.Cw=this.Bw=this.Ew=this.Dw=this.ww=0;this.$r=[];this.yw=Yb();this.Fk&&a.uniform1f(this.Fk,1);this.qw&&a.uniform1i(this.qw,0);this.vm&&a.uniform1i(this.vm,1);this.xj&&a.uniform2f(this.xj,0,0);this.wj&&a.uniform2f(this.wj,1,1);this.um&&a.uniform1f(this.um,1);this.tm&&a.uniform1f(this.tm,0);this.xm&&a.uniform2f(this.xm,
0,0);this.wm&&a.uniform2f(this.wm,0,0);this.hj=!1}function b(a,b){this.type=a;this.ca=b;this.T=b.T;this.te=this.Fe=this.Yw=0;this.ab=this.Of=null;this.Ex=[]}a.prototype.Rv=function(){var a=this.T,b;this.iw=1;this.sj=this.ai=null;this.fo=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.jw=a.ONE;this.gw=a.ONE_MINUS_SRC_ALPHA;this.Ys=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ys);
this.kn=Array(4);this.an=Array(4);for(b=0;4>b;b++)this.kn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.kn[b]),this.an[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.an[b]);this.Qg=0;this.bC=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.bC);this.bq=new Float32Array(16E3);this.Op=new Float32Array(16E3);this.dD=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,
c,a.STATIC_DRAW);this.Zs=this.Je=0;this.tc=[];b=this.$q({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.tc.push(b);b=this.$q({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.tc.push(b);for(var e in bc)bc.hasOwnProperty(e)&&this.tc.push(this.$q(bc[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.cg=[];this.qf=0;this.rd=!1;this.pv=this.nm=-1;this.Ql=null;this.iB=a.createFramebuffer();this.rx=null;this.Ei=Xb([0,0,0]);this.Pw=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Pw&&
(this.Pw=2048);this.Cg(0)};c.prototype.Tt=function(a){var b=this.yw;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])Zb(a,this.yw),this.T.uniformMatrix4fv(this.cp,!1,a)};a.prototype.$q=function(a,b,d){var e=this.T,m=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(m,a.src);e.compileShader(m);if(!e.getShaderParameter(m,e.COMPILE_STATUS))return e.deleteShader(m),
null;var l=e.createShader(e.VERTEX_SHADER);e.shaderSource(l,b);e.compileShader(l);if(!e.getShaderParameter(l,e.COMPILE_STATUS))return e.deleteShader(m),e.deleteShader(l),null;b=e.createProgram();e.attachShader(b,m);e.attachShader(b,l);e.linkProgram(b);if(!e.getProgramParameter(b,e.LINK_STATUS))return e.deleteShader(m),e.deleteShader(l),e.deleteProgram(b),null;e.useProgram(b);e.deleteShader(m);e.deleteShader(l);d=new c(e,b,d);d.lr=a.lr||0;d.mr=a.mr||0;d.nv=!!a.nv;d.Su=!!a.Su;d.ua=a.ua||[];a=0;for(m=
d.ua.length;a<m;a++)d.ua[a][1]=e.getUniformLocation(b,d.ua[a][0]),d.$r.push(0),e.uniform1f(d.ua[a][1],0);return d};a.prototype.Dr=function(a){var b,c;b=0;for(c=this.tc.length;b<c;b++)if(this.tc[b].name===a)return b;return-1};a.prototype.kx=function(a,b,c){var d=this.Ze,e=this.Ls,l=[0,0,0,0,0,0,0,0];l[0]=d[0]*a+d[4]*b+d[12];l[1]=d[1]*a+d[5]*b+d[13];l[2]=d[2]*a+d[6]*b+d[14];l[3]=d[3]*a+d[7]*b+d[15];l[4]=e[0]*l[0]+e[4]*l[1]+e[8]*l[2]+e[12]*l[3];l[5]=e[1]*l[0]+e[5]*l[1]+e[9]*l[2]+e[13]*l[3];l[6]=e[2]*
l[0]+e[6]*l[1]+e[10]*l[2]+e[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],c[0]=(.5*l[4]+.5)*this.width,c[1]=(.5*l[5]+.5)*this.height)};a.prototype.al=function(a,b,c){if(this.width!==a||this.height!==b||c){this.Ug();this.width=a;this.height=b;this.T.viewport(0,0,a,b);b=a/b;var d=this.Ls,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=Yb());var l=b-a,h=e-c;d[0]=2/l;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/h;d[6]=0;d[7]=0;d[8]=(b+a)/l;d[9]=(e+c)/h;d[10]=-1001/999;d[11]=-1;
d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;ac(this.dv,this.rw,this.$x,this.Ze);a=[0,0];b=[0,0];this.kx(0,0,a);this.kx(1,1,b);this.$t[0]=1/(b[0]-a[0]);this.$t[1]=-1/(b[1]-a[1]);a=0;for(b=this.tc.length;a<b;a++)c=this.tc[a],c.hj=!1,c.pw&&(this.T.useProgram(c.Ym),this.T.uniformMatrix4fv(c.pw,!1,this.Ls));this.T.useProgram(this.tc[this.nm].Ym);this.T.bindTexture(this.T.TEXTURE_2D,null);this.T.activeTexture(this.T.TEXTURE1);this.T.bindTexture(this.T.TEXTURE_2D,null);this.T.activeTexture(this.T.TEXTURE0);this.sj=
this.ai=null}};a.prototype.ti=function(){ac(this.dv,this.rw,this.$x,this.Ze);$b(this.Ze,this.$t)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Ei[0]=a;this.Ei[1]=b;this.Ei[2]=0;var c=this.Ze,d=this.Ei,e=d[0],l=d[1],d=d[2];c[12]=c[0]*e+c[4]*l+c[8]*d+c[12];c[13]=c[1]*e+c[5]*l+c[9]*d+c[13];c[14]=c[2]*e+c[6]*l+c[10]*d+c[14];c[15]=c[3]*e+c[7]*l+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ei[0]=a,this.Ei[1]=b,this.Ei[2]=1,$b(this.Ze,this.Ei)};a.prototype.tx=function(a){if(0!==
a){var b=this.Ze,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],l=b[1],h=b[2],q=b[3],r=b[4],s=b[5],u=b[6],p=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+r*d;c[1]=l*a+s*d;c[2]=h*a+u*d;c[3]=q*a+p*d;c[4]=e*-d+r*a;c[5]=l*-d+s*a;c[6]=h*-d+u*a;c[7]=q*-d+p*a}};a.prototype.Gi=function(){for(var a=!1,b=0;16>b;b++)if(this.hw[b]!==this.Ze[b]){a=!0;break}a&&(a=this.df(),a.type=5,a.ab?Zb(this.Ze,a.ab):a.ab=Yb(this.Ze),Zb(this.Ze,this.hw),this.rd=
!1)};b.prototype.tA=function(){this.T.bindTexture(this.T.TEXTURE_2D,this.Of)};b.prototype.uA=function(){var a=this.T;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Of);a.activeTexture(a.TEXTURE0)};b.prototype.qA=function(){var a=this.Yw,b=this.ca;b.fo=a;b=b.Ql;b.Fk&&b.ep!==a&&(b.ep=a,this.T.uniform1f(b.Fk,a))};b.prototype.nA=function(){this.T.drawElements(this.T.TRIANGLES,this.te,this.T.UNSIGNED_SHORT,2*this.Fe)};b.prototype.pA=function(){this.T.blendFunc(this.Fe,this.te)};b.prototype.vA=
function(){var a,b,c,d=this.ca.tc,e=this.ca.pv;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.cp?(c.Tt(this.ab),c.hj=!0):c.hj=!1;Zb(this.ab,this.ca.br)};b.prototype.oA=function(){var a=this.T,b=this.ca;this.Of?(b.sj===this.Of&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.sj=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.iB),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Of,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.iA=function(){var a=this.T;0===this.Fe?(a.clearColor(this.ab[0],this.ab[1],this.ab[2],this.ab[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.ab[0],this.ab[1],this.ab[2],this.ab[3]),a.clearColor(0,0,0,0),a.clear(this.T.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};b.prototype.mA=function(){var a=this.T,b=this.ca,c=b.tc[1];a.useProgram(c.Ym);!c.hj&&c.cp&&(c.Tt(b.br),c.hj=!0);a.enableVertexAttribArray(c.Ve);
a.bindBuffer(a.ARRAY_BUFFER,b.Ys);a.vertexAttribPointer(c.Ve,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Fe/4,this.te);c=b.Ql;a.useProgram(c.Ym);0<=c.Ve&&(a.enableVertexAttribArray(c.Ve),a.bindBuffer(a.ARRAY_BUFFER,b.kn[b.Qg]),a.vertexAttribPointer(c.Ve,2,a.FLOAT,!1,0,0));0<=c.bi&&(a.enableVertexAttribArray(c.bi),a.bindBuffer(a.ARRAY_BUFFER,b.an[b.Qg]),a.vertexAttribPointer(c.bi,2,a.FLOAT,!1,0,0))};b.prototype.rA=function(){var a=this.T,b=this.ca,c=b.tc[this.Fe];b.pv=this.Fe;b.Ql=c;a.useProgram(c.Ym);
!c.hj&&c.cp&&(c.Tt(b.br),c.hj=!0);c.Fk&&c.ep!==b.fo&&(c.ep=b.fo,a.uniform1f(c.Fk,b.fo));0<=c.Ve&&(a.enableVertexAttribArray(c.Ve),a.bindBuffer(a.ARRAY_BUFFER,b.kn[b.Qg]),a.vertexAttribPointer(c.Ve,2,a.FLOAT,!1,0,0));0<=c.bi&&(a.enableVertexAttribArray(c.bi),a.bindBuffer(a.ARRAY_BUFFER,b.an[b.Qg]),a.vertexAttribPointer(c.bi,2,a.FLOAT,!1,0,0))};b.prototype.sA=function(){var a,b,c=this.ca.Ql,d=this.T;a=this.ab;c.vm&&this.ca.sj!==this.Of&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Of),
this.ca.sj=this.Of,d.activeTexture(d.TEXTURE0));var e=a[0];c.qs&&e!==c.Aw&&(c.Aw=e,d.uniform1f(c.qs,e));e=a[1];c.ps&&e!==c.zw&&(c.zw=e,d.uniform1f(c.ps,e));e=a[2];b=a[3];!c.xj||e===c.uw&&b===c.vw||(c.uw=e,c.vw=b,d.uniform2f(c.xj,e,b));e=a[4];b=a[5];!c.wj||e===c.sw&&b===c.tw||(c.sw=e,c.tw=e,d.uniform2f(c.wj,e,b));e=a[6];c.um&&e!==c.xw&&(c.xw=e,d.uniform1f(c.um,e));e=a[7];c.tm&&e!==c.ww&&(c.ww=e,d.uniform1f(c.tm,e));e=a[8];b=a[9];!c.xm||e===c.Dw&&b===c.Ew||(c.Dw=e,c.Ew=b,d.uniform2f(c.xm,e,b));e=a[10];
b=a[11];!c.wm||e===c.Bw&&b===c.Cw||(c.Bw=e,c.Cw=b,d.uniform2f(c.wm,e,b));c.rs&&d.uniform1f(c.rs,Ra()/1E3);if(c.ua.length)for(a=0,b=c.ua.length;a<b;a++)e=this.Ex[a],e!==c.$r[a]&&(c.$r[a]=e,d.uniform1f(c.ua[a][1],e))};a.prototype.df=function(){this.qf===this.cg.length&&this.cg.push(new b(0,this));return this.cg[this.qf++]};a.prototype.Ug=function(){if(0!==this.qf&&!this.T.isContextLost()){var a=this.T;0<this.Zs&&(a.bindBuffer(a.ARRAY_BUFFER,this.Ys),a.bufferData(a.ARRAY_BUFFER,this.dD.subarray(0,this.Zs),
a.STREAM_DRAW),b&&0<=b.Ve&&"<point>"===b.name&&a.vertexAttribPointer(b.Ve,4,a.FLOAT,!1,0,0));if(0<this.Je){var b=this.Ql;a.bindBuffer(a.ARRAY_BUFFER,this.kn[this.Qg]);a.bufferData(a.ARRAY_BUFFER,this.bq.subarray(0,this.Je),a.STREAM_DRAW);b&&0<=b.Ve&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ve,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.an[this.Qg]);a.bufferData(a.ARRAY_BUFFER,this.Op.subarray(0,this.Je),a.STREAM_DRAW);b&&0<=b.bi&&"<point>"!==b.name&&a.vertexAttribPointer(b.bi,2,a.FLOAT,
!1,0,0)}for(var c,a=0,b=this.qf;a<b;a++)switch(c=this.cg[a],c.type){case 1:c.nA();break;case 2:c.tA();break;case 3:c.qA();break;case 4:c.pA();break;case 5:c.vA();break;case 6:c.oA();break;case 7:c.iA();break;case 8:c.mA();break;case 9:c.rA();break;case 10:c.sA();break;case 11:c.uA()}this.Zs=this.Je=this.qf=0;this.rd=!1;this.Qg++;4<=this.Qg&&(this.Qg=0)}};a.prototype.Zk=function(a){if(a!==this.iw){var b=this.df();b.type=3;this.iw=b.Yw=a;this.rd=!1}};a.prototype.De=function(a){if(a!==this.ai){var b=
this.df();b.type=2;this.ai=b.Of=a;this.rd=!1}};a.prototype.wi=function(a,b){if(a!==this.jw||b!==this.gw){var c=this.df();c.type=4;c.Fe=a;c.te=b;this.jw=a;this.gw=b;this.rd=!1}};a.prototype.zx=function(){this.wi(this.T.ONE,this.T.ONE_MINUS_SRC_ALPHA)};a.prototype.yp=function(a,b,c,d,e,l,h,q){15992<=this.Je&&this.Ug();var r=this.Je,s=this.bq,u=this.Op;if(this.rd)this.cg[this.qf-1].te+=6;else{var p=this.df();p.type=1;p.Fe=r/4*3;p.te=6;this.rd=!0}s[r]=a;u[r++]=0;s[r]=b;u[r++]=0;s[r]=c;u[r++]=1;s[r]=d;
u[r++]=0;s[r]=e;u[r++]=1;s[r]=l;u[r++]=1;s[r]=h;u[r++]=0;s[r]=q;u[r++]=1;this.Je=r};a.prototype.qi=function(a,b,c,d,e,l,h,q,r){15992<=this.Je&&this.Ug();var s=this.Je,u=this.bq,p=this.Op;if(this.rd)this.cg[this.qf-1].te+=6;else{var A=this.df();A.type=1;A.Fe=s/4*3;A.te=6;this.rd=!0}var A=r.left,D=r.top,L=r.right;r=r.bottom;u[s]=a;p[s++]=A;u[s]=b;p[s++]=D;u[s]=c;p[s++]=L;u[s]=d;p[s++]=D;u[s]=e;p[s++]=L;u[s]=l;p[s++]=r;u[s]=h;p[s++]=A;u[s]=q;p[s++]=r;this.Je=s};a.prototype.lD=function(a,b,c,d,e,l,h,
q,r,s,u,p,A,D,L,z){15992<=this.Je&&this.Ug();var B=this.Je,C=this.bq,y=this.Op;if(this.rd)this.cg[this.qf-1].te+=6;else{var G=this.df();G.type=1;G.Fe=B/4*3;G.te=6;this.rd=!0}C[B]=a;y[B++]=r;C[B]=b;y[B++]=s;C[B]=c;y[B++]=u;C[B]=d;y[B++]=p;C[B]=e;y[B++]=A;C[B]=l;y[B++]=D;C[B]=h;y[B++]=L;C[B]=q;y[B++]=z;this.Je=B};a.prototype.Cg=function(a){if(this.nm!==a){if(!this.tc[a]){if(0===this.nm)return;a=0}var b=this.df();b.type=9;this.nm=b.Fe=a;this.rd=!1}};a.prototype.Rm=function(a){a=this.tc[a];return!(!a.xj&&
!a.wj)};a.prototype.ct=function(a){a=this.tc[a];return!!(a.xj||a.wj||a.nv)};a.prototype.iD=function(a){a=this.tc[a];return 0!==a.lr||0!==a.mr};a.prototype.BB=function(a){return this.tc[a].lr};a.prototype.CB=function(a){return this.tc[a].mr};a.prototype.DB=function(a,b){return this.tc[a].ua[b][2]};a.prototype.xp=function(a){return this.tc[a].Su};a.prototype.$k=function(a,b,c,d,e,l,h,q,r,s,u,p,A,D){var L=this.tc[this.nm],z,B;if(L.$B||D.length){z=this.df();z.type=10;z.ab?Zb(this.Ze,z.ab):z.ab=Yb();B=
z.ab;B[0]=b;B[1]=c;B[2]=d;B[3]=e;B[4]=l;B[5]=h;B[6]=q;B[7]=r;B[8]=s;B[9]=u;B[10]=p;B[11]=A;z.Of=L.vm?a:null;if(D.length)for(c=z.Ex,c.length=D.length,a=0,b=D.length;a<b;a++)c[a]=D[a];this.rd=!1}};a.prototype.clear=function(a,b,c,d){var e=this.df();e.type=7;e.Fe=0;e.ab||(e.ab=Yb());e.ab[0]=a;e.ab[1]=b;e.ab[2]=c;e.ab[3]=d;this.rd=!1};a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.df();e.type=7;e.Fe=1;e.ab||(e.ab=Yb());e.ab[0]=a;e.ab[1]=b;e.ab[2]=c;e.ab[3]=d;this.rd=!1}};a.prototype.hD=
function(){this.Ug();this.T.flush()};var d=[],e={};a.prototype.$z=function(){d.length=0;e={}};a.prototype.nw=function(a,b,c){var n;n=!1;b=!!b;var m=a.src+","+n+","+b+(n?",undefined":""),l=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(m))return l=e[m],l.Sn++,l;this.Ug();var h=this.T,q=la(a.width)&&la(a.height),l=h.createTexture();h.bindTexture(h.TEXTURE_2D,l);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=h.RGBA,s=h.RGBA,u=h.UNSIGNED_BYTE;if(c&&!this.Yh)switch(c){case 1:s=r=h.RGB;
break;case 2:u=h.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=h.UNSIGNED_SHORT_5_5_5_1;break;case 4:s=r=h.RGB,u=h.UNSIGNED_SHORT_5_6_5}if(!q&&n){c=document.createElement("canvas");c.width=ma(a.width);c.height=ma(a.height);var p=c.getContext("2d");p.webkitImageSmoothingEnabled=b;p.mozImageSmoothingEnabled=b;p.msImageSmoothingEnabled=b;p.imageSmoothingEnabled=b;p.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);h.texImage2D(h.TEXTURE_2D,0,r,s,u,c)}else h.texImage2D(h.TEXTURE_2D,0,r,s,u,a);n?(h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));b?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),q&&this.tv?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_LINEAR),h.generateMipmap(h.TEXTURE_2D)):h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,
h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST));h.bindTexture(h.TEXTURE_2D,null);this.ai=null;l.Ml=a.width;l.Ll=a.height;l.Sn=1;l.bv=m;d.push(l);return e[m]=l};a.prototype.Pg=function(a,b,c,e,m){this.Ug();var l=this.T;this.Yh&&(e=!1);var h=l.createTexture();l.bindTexture(l.TEXTURE_2D,h);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,a,b,0,l.RGBA,e?l.UNSIGNED_SHORT_4_4_4_4:l.UNSIGNED_BYTE,null);m?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,
l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,c?l.LINEAR:l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,c?l.LINEAR:l.NEAREST);l.bindTexture(l.TEXTURE_2D,null);this.ai=null;h.Ml=a;h.Ll=b;d.push(h);return h};a.prototype.MD=function(a,b){var c;this.Ug();var d=this.T;this.Yh&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.ai=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Sn&&1<a.Sn?a.Sn--:(this.Ug(),a===this.ai&&(this.T.bindTexture(this.T.TEXTURE_2D,null),this.ai=null),a===this.sj&&(this.T.activeTexture(this.T.TEXTURE1),this.T.bindTexture(this.T.TEXTURE_2D,null),this.T.activeTexture(this.T.TEXTURE0),
this.sj=null),Da(d,a),"undefined"!==typeof a.bv&&delete e[a.bv],this.T.deleteTexture(a)))};a.prototype.Bg=function(a){if(a!==this.rx){var b=this.df();b.type=6;this.rx=b.Of=a;this.rd=!1}};eb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.lj=(this.Io=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.mj=!!a.dc;this.gC="undefined"!==typeof window.AppMobi||this.mj;this.yf=!!window.c2cocoonjs;this.zf=!!window.c2ejecta;this.yf&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.zf&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.$c=this.mj||this.yf||this.zf;this.Yh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.$v=/tizen/i.test(navigator.userAgent);this.Xv=/android/i.test(navigator.userAgent)&&!this.$v&&!this.Yh;this.Wr=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Yh;this.ew=/ipad/i.test(navigator.userAgent);this.dw=this.Wr||this.ew||this.zf;this.nC=this.Wr&&/os\s6/i.test(navigator.userAgent);this.Ho=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Yh;this.Wv=/amazonwebappplatform/i.test(navigator.userAgent);this.jC=/firefox/i.test(navigator.userAgent);this.lC=/safari/i.test(navigator.userAgent)&&!this.Ho&&!this.Yh;this.Zh="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.bw=!("undefined"===
typeof window.c2isWindows8||!window.c2isWindows8);this.mC=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.wk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ur=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.aw=this.bw||this.mC||this.Ur;this.hC=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Yv=this.Xv&&!this.Ho&&!this.Io&&!this.jC&&!this.Wv&&!this.$c;this.devicePixelRatio=
1;this.vk=this.lj||this.Io||this.gC||this.yf||this.Xv||this.dw||this.wk||this.Ur||this.hC||this.$v||this.zf;this.vk||(this.vk=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Zh||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Zh=!0);this.iC="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.gv=document.getElementById("c2canvasdiv");
this.Za=this.ca=this.T=null;this.wr="";this.qo=!1;this.Ww=this.Xw=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.mj&&(window.c2runtime=this);this.Zh&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.Yv&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=a.width;this.height=a.height;this.Ja=this.width;this.Ia=this.height;this.co=this.width;this.bo=this.height;this.qm=window.innerWidth;this.pm=window.innerHeight;this.lB=!1;this.lb=!0;this.jm=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.U=[];this.Xb=[];this.gs={};this.Bf=[];this.kr={};this.Vg=[];this.hl=[];this.Zp=[];this.Oz=[];this.Pz=[];this.fw=this.Jx=null;this.bj={};this.Pr=this.Xh=!1;this.bh=0;this.Rr=!1;this.rf=[];this.fh=this.td=
this.Yo=this.wt="";this.$m=this.Hx=!1;this.Yq=this.ym=this.Tg=this.wa=0;this.Di=1;this.pj=new Va;this.cq=new Va;this.So=0;this.Qw=!0;this.up=this.vo=this.no=this.Ci=this.uj=this.tr=0;this.Sq=null;this.ko=[];this.jr=[];this.mo=-1;this.ts=[[]];this.Qt=this.dp=0;this.et(null);this.Vl=this.Sw=this.Mm=0;this.Mp=[];this.Vp=this.Bp=-1;this.No=!0;this.bp=0;this.hm=!1;this.zD=0;this.Kl=null;this.YB=!1;this.bs=0;this.Jo=this.ht=!1;this.Uw=new ba;this.Qs=new ba;this.Vw=new ba;this.qx=[];this.Mf=new Xa([]);this.Ht=
new Xa([]);this.gk=[];this.Go={};this.kk={};this.fk={};this.gl={};this.Zu={};this.mw=this.Wo=this.Vd=this.ve=this.lw=this.Vo=this.Bb=null;this.el=this.Vr=!1;this.xr=[null,null];this.gj=0;this.ni={};this.Kp=this.Ek=null;this.tp=[];this.mD()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,h){var l=indexedDB.open("_C2SaveStates");l.onupgradeneeded=d;l.onerror=h;l.onsuccess=function(d){d=d.target.result;d.onerror=h;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,
data:b}).onsuccess=c}}function f(a,b,c){var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=d;h.onerror=c;h.onsuccess=function(d){d=d.target.result;d.onerror=c;var h=d.transaction(["saves"]).objectStore("saves").get(a);h.onsuccess=function(){h.result?b(h.result.data):b(null)}}}function g(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function k(a){var b,c=
{};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!==typeof a[b].dg||(c[b]=a[b]);return c}b.prototype.mD=function(){var a=this,b;b=this.wk?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.bw||this.wk||this.Ur)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.$c&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(h){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(l){}if("overrideMimeType"in
b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(e){}this.wk?b.onreadystatechange=function(){4===b.readyState&&a.$o(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.$o(b.response);else if(a.zf){var c=b.responseText,c=c.substr(c.indexOf("{"));a.$o(JSON.parse(c))}else a.$o(JSON.parse(b.responseText))},b.onerror=function(a){ga("Error requesting "+c+":");ga(a)});b.send()};b.prototype.cC=function(){var b=this,d,h,l,e,f,p,g,q,r;this.devicePixelRatio=(this.nj=(!this.$c||this.zf)&&
this.JD&&!this.Yv)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Tc();h=!(!this.lB&&(!this.Jq||this.Zh||this.aw||this.wk||this.Io||this.lj||this.Wv));0<this.qe&&this.setSize(a(),c(),!0);try{this.IA&&(this.yf||this.zf||!this.$c)&&(d={alpha:h,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.T=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(k){}if(this.T){this.$c||(this.Lc=document.createElement("canvas"),
jQuery(this.Lc).appendTo(this.canvas.parentNode),this.Lc.oncontextmenu=function(){return!1},this.Lc.onselectstart=function(){return!1},this.Lc.width=this.co,this.Lc.height=this.bo,jQuery(this.Lc).css({width:this.co+"px",height:this.bo+"px"}),this.gx(),this.Xs=this.Lc.getContext("2d"));this.ca=new eb(this.T,this.vk);this.ca.al(this.canvas.width,this.canvas.height);this.ca.tv=0!==this.wA;this.Za=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.$C();fa("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.ca.Rv();b.ca.al(b.ca.width,b.ca.height,!0);b.ve=null;b.Vd=null;b.xr[0]=null;b.xr[1]=null;b.aD();b.lb=!0;fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(h=this.U.length;d<h;d++)for(f=this.U[d],l=0,e=f.oa.length;l<e;l++)g=f.oa[l],g.Oc=this.ca.Dr(g.id),this.el=this.el||this.ca.Rm(g.Oc);d=0;for(h=this.Bf.length;d<h;d++){q=this.Bf[d];l=0;for(e=q.oa.length;l<e;l++)g=q.oa[l],
g.Oc=this.ca.Dr(g.id);l=0;for(e=q.Aa.length;l<e;l++)for(r=q.Aa[l],f=0,p=r.oa.length;f<p;f++)g=r.oa[f],g.Oc=this.ca.Dr(g.id),this.el=this.el||this.ca.Rm(g.Oc)}}else{if(0<this.qe&&this.mj){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Za=AppMobi.canvas.getContext("2d");try{this.Za.samplingMode=this.$a?"smooth":"sharp",this.Za.globalScale=1,this.Za.HTML5CompatibilityMode=!0,this.Za.imageSmoothingEnabled=this.$a}catch(m){}0!==this.width&&
0!==this.height&&(this.Za.width=this.width,this.Za.height=this.height)}this.Za||(d=this.yf?{antialias:!!this.$a,alpha:h}:{alpha:h},this.Za=this.canvas.getContext("2d",d),this.Za.webkitImageSmoothingEnabled=this.$a,this.Za.mozImageSmoothingEnabled=this.$a,this.Za.msImageSmoothingEnabled=this.$a,this.Za.imageSmoothingEnabled=this.$a);this.Xs=this.Lc=null}this.Sp=function(){b.Pf(!1)};window==window.top||this.$c||this.aw||this.wk||(document.addEventListener("mousedown",function(){window.focus()},!0),
document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.yf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.Yo="__c2_continuouspreview",this.$m=!0),this.cD&&!this.vk&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.$c||(d=function(a){if(db(a)&&document.activeElement&&
document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.qe&&this.nj&&1<this.devicePixelRatio&&this.setSize(this.cc,this.ac,!0);this.Wx();this.VB();this.go();this.ja={}};
b.prototype.setSize=function(a,b,c){var d=0,h=0,l=0,e=0,e=0,f=this.nC&&this.lC&&!navigator.standalone&&!this.$c&&!this.lj;f&&(b+=60);if(this.qm!==a||this.pm!==b||c){this.qm=a;this.pm=b;var p=this.qe,g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.hm)&&!this.lj;if(g||0!==this.qe||c)g&&0<this.gj&&(p=this.gj),c=this.devicePixelRatio,4<=p?(l=this.cc/this.ac,a/b>l?(l*=b,5===p?(e=l*c/this.cc,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),
l=this.cc*e/c,e=this.ac*e/c,d=(a-l)/2,h=(b-e)/2,a=l,b=e):(d=(a-l)/2,a=l)):(e=a/l,5===p?(e=e*c/this.ac,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),l=this.cc*e/c,e=this.ac*e/c,d=(a-l)/2,h=(b-e)/2,a=l):h=(b-e)/2,b=e),g&&!this.Zh&&(h=d=0)):this.Zh&&this.hm&&0===this.Av&&(d=Math.floor((a-this.cc)/2),h=Math.floor((b-this.ac)/2),a=this.cc,b=this.ac),2>p&&(this.Jl=c),this.nj&&this.ew&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.co=Math.round(a),this.bo=Math.round(b),this.width=Math.round(a*c),this.height=
Math.round(b*c),this.lb=!0,this.ly?(this.Ja=this.width,this.Ia=this.height,this.Ue=!0):this.width<this.cc&&this.height<this.ac||1===p?(this.Ja=this.width,this.Ia=this.height,this.Ue=!0):(this.Ja=this.cc,this.Ia=this.ac,this.Ue=!1,2===p?(l=this.cc/this.ac,p=this.qm/this.pm,p<l?this.Ja=this.Ia*p:p>l&&(this.Ia=this.Ja/p)):3===p&&(l=this.cc/this.ac,p=this.qm/this.pm,p>l?this.Ja=this.Ia*p:p<l&&(this.Ia=this.Ja/p))),this.gv&&!this.$c&&(jQuery(this.gv).css({width:Math.round(a)+"px",height:Math.round(b)+
"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(h)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.zf?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(h)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.nj&&!this.$c&&jQuery(this.canvas).css({width:Math.round(a)+
"px",height:Math.round(b)+"px"})),this.Lc&&(this.Lc.width=Math.round(a),this.Lc.height=Math.round(b),jQuery(this.Lc).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.ca&&this.ca.al(Math.round(a*c),Math.round(b*c)),this.mj&&this.Za&&(this.Za.width=Math.round(a),this.Za.height=Math.round(b)),this.Za&&(this.Za.webkitImageSmoothingEnabled=this.$a,this.Za.mozImageSmoothingEnabled=this.$a,this.Za.msImageSmoothingEnabled=this.$a,this.Za.imageSmoothingEnabled=this.$a),this.Wx(),this.$c||!f&&
!this.Wr||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.Wx=function(){if(this.Sz&&0!==this.Ws){var a="portrait";2===this.Ws&&(a="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};b.prototype.$C=function(){this.ca.$z();this.Vr=
!0;var a,b,c;a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.Us&&c.Us()};b.prototype.aD=function(){this.Vr=!1;var a,b,c;a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.Vs&&c.Vs()};b.prototype.gx=function(){if(!this.$c){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.hm)&&!this.lj?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Lc).css(a)}};var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||
window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var b;if(a&&!this.jm)for(fa("[Construct 2] Suspending"),this.jm=!0,-1!==this.Bp&&n&&n(this.Bp),-1!==this.Vp&&clearTimeout(this.Vp),a=0,b=this.Mp.length;a<b;a++)this.Mp[a](!0);else if(!a&&this.jm){fa("[Construct 2] Resuming");this.jm=!1;this.So=Ra();this.uj=Ra();a=this.ym=this.vo=0;for(b=this.Mp.length;a<b;a++)this.Mp[a](!1);this.Pf(!1)}};b.prototype.Hh=function(a){return this.tp[a]};
b.prototype.$o=function(a){a&&a.project||ga("Project model unavailable");a=a.project;this.name=a[0];this.zv=a[1];this.qe=a[12];this.Av=a[12];this.cc=a[10];this.ac=a[11];this.Zw=this.cc/2;this.$w=this.ac/2;this.$c&&!this.zf&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Av=this.qe=3);this.Yt=a[18];this.rm=a[19];0===this.rm&&(this.Ek=new Image,this.Ek.src="loading-logo.png");this.Mm=a[21];this.tp=
cc();this.Dg=new dc(this);var b,c,d,h,l,e,f,p,g;b=0;for(c=a[2].length;b<c;b++)f=a[2][b],d=this.Hh(f[0]),fb(f,d.prototype),g=new d(this),g.Jp=f[1],g.$h=f[2],g.Rw=f[9],g.rb&&g.rb(),this.plugins.push(g);this.tp=cc();b=0;for(c=a[3].length;b<c;b++){f=a[3][b];l=this.Hh(f[1]);g=null;d=0;for(h=this.plugins.length;d<h;d++)if(this.plugins[d]instanceof l){g=this.plugins[d];break}var q=new g.Wc(g);q.name=f[0];q.za=f[2];q.Nr=f[3].slice(0);q.LD=f[3].length;q.Wz=f[4];q.mB=f[5];q.Ka=f[11];q.za?(q.qp=[],q.Wg=this.Vl++,
q.Db=null):(q.qp=null,q.Wg=-1,q.Db=[]);q.oo=null;q.qk=null;q.vv=null;q.Af=!1;q.Qd=null;f[6]?(q.It=f[6][0],q.Jt=f[6][1],q.ED=f[6][2]):(q.It=null,q.Jt=0,q.ED=0);q.Od=f[7]?f[7]:null;q.index=b;q.F=[];q.io=[];q.Ai=[new gb(q)];q.Rg=0;q.fg=null;q.eA=0;q.dl=!0;q.$p=hb;q.Ev=ib;q.AB=jb;q.Eb=kb;q.Sm=lb;q.dt=mb;q.Wk=nb;q.xo=ob;q.Ar=pb;q.Cr=qb;q.Vi=rb;q.Fv=sb;q.Wn=new Ya(this.cc,this.ac);q.Hn=!0;q.In=!1;q.ja={};q.toString=tb;q.Xb=[];d=0;for(h=f[8].length;d<h;d++){p=f[8][d];var r=this.Hh(p[1]),k=null;l=0;for(e=
this.Xb.length;l<e;l++)if(this.Xb[l]instanceof r){k=this.Xb[l];break}k||(k=new r(this),k.sp=[],k.rp=new ba,k.rb&&k.rb(),this.Xb.push(k),ec&&k instanceof ec&&(this.Jx=k),Vb.pC&&k instanceof Vb.pC&&(this.fw=k));-1===k.sp.indexOf(q)&&k.sp.push(q);l=new k.Wc(k,q);l.name=p[0];l.Ka=p[2];l.rb();q.Xb.push(l)}q.global=f[9];q.Qr=f[10];q.oa=[];d=0;for(h=f[12].length;d<h;d++)q.oa.push({id:f[12][d][0],name:f[12][d][1],Oc:-1,Xc:!0,index:d});q.Tp=f[13];this.Yt&&!q.za&&!q.Qr&&g.$h||q.rb();q.name&&(this.types[q.name]=
q);this.U.push(q);g.Jp&&(d=new g.kc(q),d.uid=this.Mm++,d.mx=this.Sw++,d.ij=0,d.Zl=ub,d.toString=vb,d.ya=f[14],d.rb(),q.F.push(d),this.ni[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(l=a[4][b],e=this.U[l[0]],d=1,h=l.length;d<h;d++)f=this.U[l[d]],f.Db.push(e),e.qp.push(f);b=0;for(c=a[27].length;b<c;b++){l=a[27][b];e=[];d=0;for(h=l.length;d<h;d++)e.push(this.U[l[d]]);d=0;for(h=e.length;d<h;d++)e[d].Af=!0,e[d].Qd=e}if(0<this.Vl)for(b=0,c=this.U.length;b<c;b++)if(f=this.U[b],!f.za&&f.Db.length){f.oo=
Array(this.Vl);f.qk=Array(this.Vl);f.vv=Array(this.Vl);q=[];d=k=r=p=0;for(h=f.Db.length;d<h;d++)for(g=f.Db[d],f.oo[g.Wg]=p,p+=g.LD,f.qk[g.Wg]=r,r+=g.Wz,f.vv[g.Wg]=k,k+=g.mB,l=0,e=g.oa.length;l<e;l++)q.push(ya({},g.oa[l]));f.oa=q.concat(f.oa);d=0;for(h=f.oa.length;d<h;d++)f.oa[d].index=d}b=0;for(c=a[5].length;b<c;b++)f=a[5][b],d=new wb(this,f),this.gs[d.name]=d,this.Bf.push(d);b=0;for(c=a[6].length;b<c;b++)f=a[6][b],d=new xb(this,f),this.kr[d.name]=d,this.Vg.push(d);b=0;for(c=this.Vg.length;b<c;b++)this.Vg[b].Sb();
b=0;for(c=this.Vg.length;b<c;b++)this.Vg[b].cy();b=0;for(c=this.Zp.length;b<c;b++)this.Zp[b].Sb();this.Zp.length=0;this.Rz=a[7];this.pi=a[9];this.Jl=1;this.IA=a[13];this.$a=a[14];this.Jq=a[15];this.JD=a[17];this.Ws=a[20];this.Sz=0<this.Ws;this.cD=a[22];this.Ue=this.ly=a[23];this.wA=a[24];this.fD=a[25];this.Lp=Date.now();this.tp.length=0;this.cC()};var m=!1;b.prototype.ky=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){m=a.av=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",b)};this.zf?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){m=a.av=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):a.src=b);this.hl.push(a)};b.prototype.jB=function(a){var b,c;b=0;for(c=this.hl.length;b<c;b++)if(this.hl[b].aA===a)return this.hl[b];return null};var l=0,h=!1;b.prototype.VB=function(){this.Kl&&(l=this.Kl.sF(this.Rz))};b.prototype.Uu=function(){var a=l,b=0,c=0,d=!0,e,f,c=
0;for(e=this.hl.length;c<e;c++){f=this.hl[c];var p=f.mv;if(!p||0>=p)p=5E4;a+=p;f.src&&(f.complete||f.loaded)&&!f.av?b+=p:d=!1}d&&this.fD&&this.Kl&&(h||(this.Kl.tF(),h=!0),c=this.Kl.lF(),b+=c,c<l&&(d=!1));this.Mj=0==a?0:b/a;return d};b.prototype.go=function(){if(this.Za||this.ca){var a=this.Za||this.Xs;this.Lc&&this.gx();this.Mj=0;this.kw=-1;if(this.Uu())this.WB();else{var b=Date.now()-this.Lp;if(a){var c=this.width,d=this.height,h=this.devicePixelRatio;this.Lc&&(c=this.co,d=this.bo,h=1);if(3!==this.rm&&
(this.yf||500<=b&&this.kw!=this.Mj)){a.clearRect(0,0,c,d);var b=c/2,d=d/2,c=0===this.rm&&this.Ek.complete,l=40*h,e=0,f=80*h,p;c&&(f=this.Ek.width*h,p=this.Ek.height*h,l=f/2,e=p/2,a.drawImage(this.Ek,qa(b-l),qa(d-e),f,p));1>=this.rm?(b=qa(b-l)+.5,d=qa(d+(e+(c?12*h:0)))+.5,a.fillStyle=m?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(f*this.Mj),6*h),a.strokeStyle="black",a.strokeRect(b,d,f,6*h),a.strokeStyle="white",a.strokeRect(b-1*h,d-1*h,f+2*h,8*h)):2===this.rm&&(a.font=this.zf?"12pt ArialMT":"12pt Arial",
a.fillStyle=m?"#f00":"#999",a.uF="middle",h=Math.round(100*this.Mj)+"%",c=a.measureText?a.measureText(h):null,a.fillText(h,b-(c?c.width:0)/2,d))}this.kw=this.Mj}setTimeout(function(a){return function(){a.go()}}(this),this.yf?10:100)}}};b.prototype.WB=function(){this.Lc&&(this.canvas.parentNode.removeChild(this.Lc),this.Lc=this.Xs=null);this.Lp=Date.now();this.uj=Ra();var a,b,c;if(this.Yt)for(a=0,b=this.U.length;a<b;a++)c=this.U[a],c.za||c.Qr||!c.Mc.$h||c.rb();else this.No=!1;a=0;for(b=this.Bf.length;a<
b;a++)this.Bf[a].bA();2<=this.qe&&(a=this.cc/this.ac,b=this.width/this.height,this.Jl=2!==this.qe&&b>a||2===this.qe&&b<a?this.height/this.ac:this.width/this.cc);this.zv?this.gs[this.zv].Gt():this.Bf[0].Gt();this.Yt||(this.bp=1,this.trigger(dc.prototype.fa.uu,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.ZC&&c.ZC();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.Pf(!1);this.mj&&AppMobi.webview.execute("onGameReady();")};var q=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Pf=function(b){if(this.Bb){var d=Ra();if(this.YB&&this.ht&&29>d-this.bs)this.ht=!1,this.bs=d,q?this.Bp=q(this.Sp,this.canvas):this.Vp=setTimeout(this.Sp,this.vk?1:16);else{this.ht=!0;this.bs=d;var h=this.qe,l=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement)&&!this.lj;(l||this.hm)&&0<this.gj&&(h=this.gj);0<h&&(!this.dw||window.self!==window.top)&&(h=window.innerHeight,this.qm===window.innerWidth&&this.pm===h||this.setSize(a(),c()));this.$c||(l?(this.qo||(this.wr=jQuery(this.canvas).css("margin")||"0",this.qo=!0),this.Ho||this.Zh||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/
2)+"px"})):this.qo?(this.Ho||this.Zh||jQuery(this.canvas).css("margin",this.wr),this.wr="",this.qo=!1,0===this.qe&&this.setSize(Math.round(this.Xw/this.devicePixelRatio),Math.round(this.Ww/this.devicePixelRatio),!0)):(this.Xw=this.width,this.Ww=this.height));this.No&&(l=this.Uu(),this.bp=this.Mj,l&&(this.No=!1,this.Mj=1,this.trigger(dc.prototype.fa.uu,null)));this.sC();!this.lb&&!this.yf||this.Vr||this.$m||b||(this.lb=!1,this.ca?this.uf():this.Rh(),this.Kp&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Kp[0],
this.Kp[1]),this.trigger(dc.prototype.fa.az,null)),this.Kp=null));this.mF||(this.Ci++,this.no++,this.vo++);this.ym+=Ra()-d;this.jm||b||(q?this.Bp=q(this.Sp,this.canvas):this.Vp=setTimeout(this.Sp,this.vk?1:16))}}};b.prototype.sC=function(){var a,b,c,d,h,l,e,f,p;a=Ra();1E3<=a-this.uj&&(this.uj+=1E3,1E3<=a-this.uj&&(this.uj=a),this.tr=this.vo,this.vo=0,this.Yq=this.ym,this.ym=0);this.Qw&&(0!==this.So&&(b=a-this.So,0!==b||this.iC?(this.Tg=b/1E3,.5<this.Tg?this.Tg=0:.1<this.Tg&&(this.Tg=.1)):(10<=this.vF&&
(this.Qw=!1),this.Tg=1/60)),this.So=a);this.wa=this.Tg*this.Di;this.pj.add(this.wa);this.cq.add(this.Tg);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.hm)&&!this.lj;2<=this.qe||a&&0<this.gj?(b=this.cc/this.ac,c=this.width/this.height,d=this.qe,a&&0<this.gj&&(d=this.gj),this.Jl=2!==d&&c>b||2===d&&c<b?this.height/this.ac:this.width/this.cc,this.Bb&&(this.Bb.xt(this.Bb.scrollX),this.Bb.yt(this.Bb.scrollY))):this.Jl=this.nj?this.devicePixelRatio:
1;this.Tc();this.bh++;this.Dg.oD();this.bh--;this.Tc();this.bh++;c=this.Uw.Tf();a=0;for(b=c.length;a<b;a++)c[a].nF();a=0;for(b=this.U.length;a<b;a++)if(e=this.U[a],!e.za&&(e.Xb.length||e.Db.length))for(c=0,d=e.F.length;c<d;c++)for(f=e.F[c],h=0,l=f.ra.length;h<l;h++)f.ra[h].Pf();a=0;for(b=this.U.length;a<b;a++)if(e=this.U[a],!e.za&&(e.Xb.length||e.Db.length))for(c=0,d=e.F.length;c<d;c++)for(f=e.F[c],h=0,l=f.ra.length;h<l;h++)p=f.ra[h],p.ix&&p.ix();c=this.Qs.Tf();a=0;for(b=c.length;a<b;a++)c[a].Pf();
this.bh--;this.ZB();for(a=0;this.Sq&&10>a++;)this.sv(this.Sq);a=0;for(b=this.Vg.length;a<b;a++)this.Vg[a].Fr=!1;this.Bb.Tl&&this.Bb.Tl.sc();this.qx.length=0;this.bh++;a=0;for(b=this.U.length;a<b;a++)if(e=this.U[a],!e.za&&(e.Xb.length||e.Db.length))for(c=0,d=e.F.length;c<d;c++)for(f=e.F[c],h=0,l=f.ra.length;h<l;h++)p=f.ra[h],p.Rp&&p.Rp();c=this.Vw.Tf();a=0;for(b=c.length;a<b;a++)c[a].Rp();this.bh--};b.prototype.sv=function(a){var b=this.Bb;this.Bb.BD();var c,d,h,l,e,f,p;if(this.ca)for(c=0,d=this.U.length;c<
d;c++)e=this.U[c],e.za||!e.St||e.global&&0!==e.F.length||-1!==a.fm.indexOf(e)||e.St();b==a&&(this.Dg.fe.length=0);a.Gt();c=0;for(d=this.U.length;c<d;c++)if(e=this.U[c],e.global||e.Mc.Jp)for(a=0,b=e.F.length;a<b;a++)if(f=e.F[a],f.Ts&&f.Ts(),f.ra)for(h=0,l=f.ra.length;h<l;h++)p=f.ra[h],p.Ts&&p.Ts();this.lb=!0;this.Tc()};b.prototype.Ox=function(a){this.Qs.add(a)};b.prototype.yo=function(a){return a&&-1!==a.Lm?this.Tg*a.Lm:this.wa};b.prototype.Rh=function(){this.Bb.Rh(this.Za);this.mj&&this.Za.present()};
b.prototype.uf=function(){this.Bb.uf(this.ca);this.ca.hD()};b.prototype.Iq=function(a){a&&this.ko.push(a)};b.prototype.lt=function(a){Da(this.ko,a)};b.prototype.Vh=function(a){a=a.toString();return this.ni.hasOwnProperty(a)?this.ni[a]:null};var r=[];b.prototype.Wj=function(a){var b,c;b=a.type.name;var d=null;if(this.bj.hasOwnProperty(b)){if(d=this.bj[b],d.contains(a))return}else d=r.length?r.pop():new ba,this.bj[b]=d;d.add(a);this.Xh=!0;if(a.Af)for(b=0,c=a.siblings.length;b<c;b++)this.Wj(a.siblings[b]);
this.Pr&&d.fl.push(a);this.bh++;this.trigger(Object.getPrototypeOf(a.type.Mc).fa.cz,a);this.bh--};b.prototype.Tc=function(){if(this.Xh){var a,b,c,d,h,l;this.Pr=!0;c=0;for(h=this.rf.length;c<h;++c)for(a=this.rf[c],b=a.type,b.F.push(a),d=0,l=b.Db.length;d<l;++d)b.Db[d].F.push(a),b.Db[d].dl=!0;this.rf.length=0;this.Ry();Qa(this.bj);this.Xh=this.Pr=!1}};b.prototype.Ry=function(){for(var a in this.bj)this.bj.hasOwnProperty(a)&&this.zy(this.bj[a])};b.prototype.zy=function(a){var b=a.Tf(),c=b[0].type,d,
h,l,e,f,p;Sa(c.F,a);c.dl=!0;0===c.F.length&&(c.In=!1);d=0;for(h=c.Db.length;d<h;++d)p=c.Db[d],Sa(p.F,a),p.dl=!0;d=0;for(h=this.Dg.fe.length;d<h;++d)if(f=this.Dg.fe[d],f.ae.hasOwnProperty(c.index)&&Sa(f.ae[c.index].kj,a),!c.za)for(l=0,e=c.Db.length;l<e;++l)p=c.Db[l],f.ae.hasOwnProperty(p.index)&&Sa(f.ae[p.index].kj,a);if(f=b[0].S){if(f.Rf)for(l=f.F,d=0,h=l.length;d<h;++d)e=l[d],a.contains(e)&&(e.gb(),f.$d.update(e,e.Id,null),e.Id.set(0,0,-1,-1));Sa(f.F,a);f.Vm(0)}for(d=0;d<b.length;++d)this.yy(b[d],
c);a.clear();r.push(a);this.lb=!0};b.prototype.yy=function(a,b){var c,d,h;c=0;for(d=this.ko.length;c<d;++c)this.ko[c](a);a.Qh&&b.Wn.update(a,a.Qh,null);(c=a.S)&&c.Yk(a,!0);if(a.ra)for(c=0,d=a.ra.length;c<d;++c)h=a.ra[c],h.Kj&&h.Kj(),h.behavior.rp.remove(a);this.Uw.remove(a);this.Qs.remove(a);this.Vw.remove(a);a.Kj&&a.Kj();this.ni.hasOwnProperty(a.uid.toString())&&delete this.ni[a.uid.toString()];this.up--;100>b.io.length&&b.io.push(a)};var s=[];b.prototype.$i=function(a,b,c,d,h,l){var e,f,p,q;if(!a)return null;
var g=this.U[a[1]],r=g.Mc.$h;if(this.No&&r&&!g.Qr||r&&!this.ca&&11===a[0][11])return null;var k=b;r||(b=null);var m;g.io.length?(m=g.io.pop(),m.Zd=!0,g.Mc.kc.call(m,g)):(m=new g.Mc.kc(g),m.Zd=!1);m.uid=c&&!l?a[2]:this.Mm++;this.ni[m.uid.toString()]=m;m.mx=this.Sw++;m.ij=g.F.length;e=0;for(f=this.rf.length;e<f;++e)this.rf[e].type===g&&m.ij++;m.Zl=ub;m.toString=vb;p=a[3];if(m.Zd)Qa(m.ja);else{m.ja={};if("undefined"!==typeof cr_is_preview)for(m.Uv=[],m.Uv.length=p.length,e=0,f=p.length;e<f;e++)m.Uv[e]=
p[e][1];m.pc=[];m.pc.length=p.length}e=0;for(f=p.length;e<f;e++)m.pc[e]=p[e][0];if(r){var n=a[0];m.x=ja(d)?n[0]:d;m.y=ja(h)?n[1]:h;m.z=n[2];m.width=n[3];m.height=n[4];m.depth=n[5];m.M=n[6];m.opacity=n[7];m.Td=n[8];m.Ud=n[9];m.Dd=n[10];e=n[11];!this.ca&&g.oa.length&&(m.Dd=e);m.Ol=$a(m.Dd);this.T&&ab(m,m.Dd,this.T);if(m.Zd){e=0;for(f=n[12].length;e<f;e++)for(p=0,q=n[12][e].length;p<q;p++)m.Gb[e][p]=n[12][e][p];m.Wb.set(0,0,0,0);m.Qh.set(0,0,-1,-1);m.Id.set(0,0,-1,-1);m.Cb.Wm(m.Wb);m.Nq.length=0}else{m.Gb=
n[12].slice(0);e=0;for(f=m.Gb.length;e<f;e++)m.Gb[e]=n[12][e].slice(0);m.Ra=[];m.Kh=[];m.Kh.length=g.oa.length;m.Wb=new wa(0,0,0,0);m.Qh=new wa(0,0,-1,-1);m.Id=new wa(0,0,-1,-1);m.Cb=new xa;m.Nq=[];m.W=yb;m.fF=zb;m.Rd=Ab;m.gb=Bb;m.ID=Cb;m.fy=Db;m.lg=Eb}m.xh=!1;m.Sx=0;m.Rx=0;m.Qx=null;14===n.length&&(m.xh=!0,m.Sx=n[13][0],m.Rx=n[13][1],m.Qx=n[13][2]);e=0;for(f=g.oa.length;e<f;e++)m.Kh[e]=!0;m.Ah=Fb;m.Ah();m.hy=!!m.Ra.length;m.Mq=!0;m.Qq=!0;g.Hn=!0;m.visible=!0;m.Lm=-1;m.S=b;m.Uf=b.F.length;"undefined"===
typeof m.Fa&&(m.Fa=null);this.lb=m.Og=!0}var A;e=s.length=0;for(f=g.Db.length;e<f;e++)s.push.apply(s,g.Db[e].Xb);s.push.apply(s,g.Xb);if(m.Zd)for(e=0,f=s.length;e<f;e++){var u=s[e];A=m.ra[e];A.Zd=!0;u.behavior.kc.call(A,u,m);n=a[4][e];p=0;for(q=n.length;p<q;p++)A.ya[p]=n[p];A.rb();u.behavior.rp.add(m)}else for(m.ra=[],e=0,f=s.length;e<f;e++)u=s[e],A=new u.behavior.kc(u,m),A.Zd=!1,A.ya=a[4][e].slice(0),A.rb(),m.ra.push(A),u.behavior.rp.add(m);n=a[5];if(m.Zd)for(e=0,f=n.length;e<f;e++)m.ya[e]=n[e];
else m.ya=n.slice(0);this.rf.push(m);this.Xh=!0;b&&(b.Il(m,!0),1!==b.rh||1!==b.sh)&&(g.In=!0);this.up++;if(g.Af){if(m.Af=!0,m.Zd?m.siblings.length=0:m.siblings=[],!c&&!l){e=0;for(f=g.Qd.length;e<f;e++)if(g.Qd[e]!==g){if(!g.Qd[e].fg)return null;m.siblings.push(this.$i(g.Qd[e].fg,k,!1,r?m.x:d,r?m.y:h,!0))}e=0;for(f=m.siblings.length;e<f;e++)for(m.siblings[e].siblings.push(m),p=0;p<f;p++)e!==p&&m.siblings[e].siblings.push(m.siblings[p])}}else m.Af=!1,m.siblings=null;m.rb();e=0;for(f=m.ra.length;e<f;e++)m.ra[e].hx&&
m.ra[e].hx();return m};b.prototype.xB=function(a){var b,c;b=0;for(c=this.Bb.Aa.length;b<c;b++){var d=this.Bb.Aa[b];if(cb(d.name,a))return d}return null};b.prototype.yB=function(a){a=qa(a);0>a&&(a=0);a>=this.Bb.Aa.length&&(a=this.Bb.Aa.length-1);return this.Bb.Aa[a]};b.prototype.Tq=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Eb().fc=!0};b.prototype.Sm=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Sm()};b.prototype.dt=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].dt()};b.prototype.Wk=
function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Wk()};b.prototype.ay=function(a){if(a.Hn){var b,c,d=a.F;b=0;for(c=d.length;b<c;++b)d[b].fy();d=this.rf;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].fy();a.Hn=!1}};b.prototype.qB=function(a,b,c,d){var h,e,l=a?1!==a.rh||1!==a.sh:!1;if(b.za)for(a=0,h=b.qp.length;a<h;++a)e=b.qp[a],l||e.In?Ba(d,e.F):(this.ay(e),e.Wn.zp(c,d));else l||b.In?Ba(d,b.F):(this.ay(b),b.Wn.zp(c,d))};b.prototype.Kv=function(a,b,c,d){var h,e;h=0;for(e=b.length;h<e;++h)this.qB(a,
b[h],c,d)};b.prototype.EB=function(a,b,c){var d=this.Jx;d&&this.Kv(a,d.sp,b,c)};b.prototype.wB=function(a,b,c){var d=this.fw;d&&this.Kv(a,d.sp,b,c)};b.prototype.Nf=function(a,b){if(!(a&&b&&a!==b&&a.Og&&b.Og))return!1;a.gb();b.gb();var c=a.S,d=b.S,h,e,l,f,p,q,g,r;if(c===d||c.rh===d.rh&&d.sh===d.sh&&c.scale===d.scale&&c.M===d.M&&c.mn===d.mn){if(!a.Wb.dC(b.Wb)||!a.Cb.Vv(b.Cb)||a.xh&&b.xh)return!1;if(a.xh)return this.Nx(a,b);if(b.xh)return this.Nx(b,a);g=a.Fa&&!a.Fa.oj();h=b.Fa&&!b.Fa.oj();if(!g&&!h)return!0;
g?(a.Fa.Oh(a.width,a.height,a.M),g=a.Fa):(this.Mf.bl(a.Cb,a.x,a.y,a.width,a.height),g=this.Mf);h?(b.Fa.Oh(b.width,b.height,b.M),r=b.Fa):(this.Mf.bl(b.Cb,b.x,b.y,b.width,b.height),r=this.Mf);return g.gm(r,b.x-a.x,b.y-a.y)}g=a.Fa&&!a.Fa.oj();h=b.Fa&&!b.Fa.oj();g?(a.Fa.Oh(a.width,a.height,a.M),this.Mf.Cx(a.Fa)):this.Mf.bl(a.Cb,a.x,a.y,a.width,a.height);g=this.Mf;h?(b.Fa.Oh(b.width,b.height,b.M),this.Ht.Cx(b.Fa)):this.Ht.bl(b.Cb,b.x,b.y,b.width,b.height);r=this.Ht;h=0;for(e=g.Ad;h<e;h++)l=2*h,f=l+1,p=
g.bb[l],q=g.bb[f],g.bb[l]=c.sd(p+a.x,q+a.y,!0),g.bb[f]=c.sd(p+a.x,q+a.y,!1);g.gb();h=0;for(e=r.Ad;h<e;h++)l=2*h,f=l+1,p=r.bb[l],q=r.bb[f],r.bb[l]=d.sd(p+b.x,q+b.y,!0),r.bb[f]=d.sd(p+b.x,q+b.y,!1);r.gb();return g.gm(r,0,0)};var u=new xa;new wa(0,0,0,0);var p=[];b.prototype.Nx=function(a,b){var c,d,h,e,l=b.Wb,f=a.x,g=a.y;a.rB(l,p);var q=b.Fa&&!b.Fa.oj();c=0;for(d=p.length;c<d;++c)if(h=p[c],e=h.Ua,l.eC(e,f,g)&&(u.Wm(e),u.offset(f,g),u.Vv(b.Cb)))if(q)if(b.Fa.Oh(b.width,b.height,b.M),h.zd){if(h.zd.gm(b.Fa,
b.x-(f+e.left),b.y-(g+e.top)))return p.length=0,!0}else{if(this.Mf.bl(u,0,0,e.right-e.left,e.bottom-e.top),this.Mf.gm(b.Fa,b.x,b.y))return p.length=0,!0}else if(h.zd){if(this.Mf.bl(b.Cb,0,0,b.width,b.height),h.zd.gm(this.Mf,-(f+e.left),-(g+e.top)))return p.length=0,!0}else return p.length=0,!0;p.length=0;return!1};b.prototype.Xx=function(a,b){if(!b)return!1;var c,d,h,e,l;c=0;for(d=a.Xb.length;c<d;c++)if(a.Xb[c].behavior instanceof b)return!0;if(!a.za)for(c=0,d=a.Db.length;c<d;c++)for(l=a.Db[c],h=
0,e=l.Xb.length;h<e;h++)if(l.Xb[h].behavior instanceof b)return!0;return!1};b.prototype.Yx=function(a){return this.Xx(a,Vb.wE)};b.prototype.Rt=function(a){return this.Xx(a,Vb.xE)};var A=[];b.prototype.be=function(a){var b,c,d;a.gb();this.EB(a.S,a.Wb,A);b=0;for(c=A.length;b<c;++b)if(d=A[b],d.ja.solidEnabled&&this.Nf(a,d))return A.length=0,d;A.length=0;return null};var D=[];b.prototype.Bi=function(a,b){var c=null;b&&(c=D,c.length=0);a.gb();this.wB(a.S,a.Wb,A);var d,h,e;d=0;for(h=A.length;d<h;++d)if(e=
A[d],e.ja.jumpthruEnabled&&this.Nf(a,e))if(b)c.push(e);else return A.length=0,e;A.length=0;return c};b.prototype.Kf=function(a,b,c,d,h,e){d=d||50;var l=a.x,f=a.y,p,g=null,q=null;for(p=0;p<d;p++)if(a.x=l+b*p,a.y=f+c*p,a.W(),!this.Nf(a,g)&&((g=this.be(a))&&(q=g),!g&&(h&&(g=e?this.Nf(a,e)?e:null:this.Bi(a))&&(q=g),!g)))return q&&this.gt(a,b,c,q),!0;a.x=l;a.y=f;a.W();return!1};b.prototype.gt=function(a,b,c,d){var h=2,e,l=!1;e=!1;for(var f=a.x,p=a.y;16>=h;)e=1/h,h*=2,a.x+=b*e*(l?1:-1),a.y+=c*e*(l?1:-1),
a.W(),this.Nf(a,d)?e=l=!0:(e=l=!1,f=a.x,p=a.y);e&&(a.x=f,a.y=p,a.W())};b.prototype.kD=function(a,b){var c=ja(b)?100:b,d=0,h=a.x,e=a.y,l=0,f=0,p=0,g=this.be(a);if(!g)return!0;for(;d<=c;){switch(l){case 0:f=0;p=-1;d++;break;case 1:f=1;p=-1;break;case 2:f=1;p=0;break;case 3:p=f=1;break;case 4:f=0;p=1;break;case 5:f=-1;p=1;break;case 6:f=-1;p=0;break;case 7:p=f=-1}l=(l+1)%8;a.x=qa(h+f*d);a.y=qa(e+p*d);a.W();if(!this.Nf(a,g)&&(g=this.be(a),!g))return!0}a.x=h;a.y=e;a.W();return!1};b.prototype.Xk=function(a,
b){a.Og&&b.Og&&this.qx.push([a,b])};var L=-1;b.prototype.trigger=function(a,b,c){if(!this.Bb)return!1;var d=this.Bb.Tl;if(!d)return!1;var h=!1,e,l,f;L++;var p=d.er;l=0;for(f=p.length;l<f;++l)e=this.Ux(a,b,p[l],c),h=h||e;e=this.Ux(a,b,d,c);L--;return h||e};b.prototype.Ux=function(a,b,c,d){var h=!1,e,l,f,p;if(b)for(f=this.Pt(a,b,b.type.name,c,d),h=h||f,p=b.type.Db,e=0,l=p.length;e<l;++e)f=this.Pt(a,b,p[e].name,c,d),h=h||f;else f=this.Pt(a,b,"system",c,d),h=h||f;return h};b.prototype.Pt=function(a,b,
c,d,h){var e,l=!1,f=!1,f="undefined"!==typeof h,p=(f?d.xv:d.Vx)[c];if(!p)return l;var g=null;d=0;for(e=p.length;d<e;++d)if(p[d].method==a){g=p[d].Ul;break}if(!g)return l;a=f?g[h]:g;if(!a)return null;d=0;for(e=a.length;d<e;d++)h=a[d][0],f=a[d][1],f=this.hB(b,c,h,f),l=l||f;return l};b.prototype.hB=function(a,b,c,d){var h,e,l=!1;this.Qt++;var f=this.Sd().sf;f&&this.Sm(f.xi);var p=1<this.Qt;this.Sm(c.xi);p&&this.jD();var g=this.et(c);g.sf=c;a&&(h=this.types[b].Eb(),h.fc=!1,h.F.length=1,h.F[0]=a,this.types[b].Vi());
a=!0;if(c.parent){b=g.Mx;for(h=c.parent;h;)b.push(h),h=h.parent;b.reverse();h=0;for(e=b.length;h<e;h++)if(!b[h].qD()){a=!1;break}}a&&(this.no++,c.wg?c.pD(d):c.sc(),l=l||g.tj);this.cx();p&&this.eD();this.Wk(c.xi);f&&this.Wk(f.xi);this.Xh&&0===this.bh&&0===L&&!this.Rr&&this.Tc();this.Qt--;return l};b.prototype.sB=function(){var a=this.Sd();return a.sf.Yc[a.Ed]};b.prototype.jD=function(){this.dp++;this.dp>=this.ts.length&&this.ts.push([])};b.prototype.eD=function(){this.dp--};b.prototype.Cv=function(){return this.ts[this.dp]};
b.prototype.et=function(a){this.mo++;this.mo>=this.jr.length&&this.jr.push(new Gb);var b=this.Sd();b.reset(a);return b};b.prototype.cx=function(){this.mo--};b.prototype.Sd=function(){return this.jr[this.mo]};b.prototype.Dv=function(a,b){for(var c,d,h,e,l,f;b;){c=0;for(d=b.ef.length;c<d;c++)if(f=b.ef[c],f instanceof Hb&&cb(a,f.name))return f;b=b.parent}c=0;for(d=this.Vg.length;c<d;c++)for(l=this.Vg[c],h=0,e=l.Th.length;h<e;h++)if(f=l.Th[h],f instanceof Hb&&cb(a,f.name))return f;return null};b.prototype.Gv=
function(a){var b,c;b=0;for(c=this.Bf.length;b<c;b++)if(this.Bf[b].Ka===a)return this.Bf[b];return null};b.prototype.Co=function(a){var b,c;b=0;for(c=this.U.length;b<c;b++)if(this.U[b].Ka===a)return this.U[b];return null};b.prototype.tB=function(a){var b,c;b=0;for(c=this.gk.length;b<c;b++)if(this.gk[b].Ka===a)return this.gk[b];return null};b.prototype.ZB=function(){var a=this,b=this.wt,c=this.fh,d=this.Yo,h=!1;this.Hx&&(h=!0,b="__c2_continuouspreview",this.Hx=!1);if(b.length){this.Tc();c=this.vD();
if(window.indexedDB&&!this.yf)e(b,c,function(){fa("Saved state to IndexedDB storage ("+c.length+" bytes)");a.fh=c;a.trigger(dc.prototype.fa.wq,null);a.fh="";h&&g()},function(d){try{localStorage.setItem("__c2save_"+b,c),fa("Saved state to WebStorage ("+c.length+" bytes)"),a.fh=c,a.trigger(dc.prototype.fa.wq,null),a.fh="",h&&g()}catch(e){fa("Failed to save game state: "+d+"; "+e)}});else try{localStorage.setItem("__c2save_"+b,c),fa("Saved state to WebStorage ("+c.length+" bytes)"),a.fh=c,this.trigger(dc.prototype.fa.wq,
null),a.fh="",h&&g()}catch(l){fa("Error saving to WebStorage: "+l)}this.td=this.Yo=this.wt=""}d.length&&(window.indexedDB&&!this.yf?f(d,function(b){b?(a.td=b,fa("Loaded state from IndexedDB storage ("+a.td.length+" bytes)")):(a.td=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+a.td.length+" bytes)"));a.$m=!1;a.td.length||a.trigger(dc.prototype.fa.vq,null)},function(){a.td=localStorage.getItem("__c2save_"+d)||"";fa("Loaded state from WebStorage ("+a.td.length+" bytes)");
a.$m=!1;a.td.length||a.trigger(dc.prototype.fa.vq,null)}):(this.td=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+this.td.length+" bytes)"),this.$m=!1,a.td.length||a.trigger(dc.prototype.fa.vq,null)),this.wt=this.Yo="");this.td.length&&(this.Tc(),this.rC(this.td),this.fh=this.td,this.trigger(dc.prototype.fa.lz,null),this.td=this.fh="")};b.prototype.vD=function(){var a,b,c,d,h,e,l,f={c2save:!0,version:1,rt:{time:this.pj.Pc,walltime:this.cq.Pc,timescale:this.Di,tickcount:this.Ci,
execcount:this.no,next_uid:this.Mm,running_layout:this.Bb.Ka,start_time_offset:Date.now()-this.Lp},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.U.length;a<b;a++)if(h=this.U[a],!h.za&&!this.Yx(h)){e={instances:[]};Pa(h.ja)&&(e.ex=k(h.ja));c=0;for(d=h.F.length;c<d;c++)e.instances.push(this.ut(h.F[c]));f.types[h.Ka.toString()]=e}a=0;for(b=this.Bf.length;a<b;a++)c=this.Bf[a],f.layouts[c.Ka.toString()]=c.Bd();d=f.events.groups;a=0;for(b=this.gk.length;a<b;a++)c=this.gk[a],
d[c.Ka.toString()]=this.Go[c.$l].Fo;b=f.events.cnds;for(l in this.kk)this.kk.hasOwnProperty(l)&&(a=this.kk[l],Pa(a.ja)&&(b[l]={ex:k(a.ja)}));b=f.events.acts;for(l in this.fk)this.fk.hasOwnProperty(l)&&(a=this.fk[l],Pa(a.ja)&&(b[l]={ex:a.ja}));b=f.events.vars;for(l in this.gl)this.gl.hasOwnProperty(l)&&(a=this.gl[l],a.Ko||a.parent&&!a.km||(b[l]=a.data));f.system=this.Dg.Bd();return JSON.stringify(f)};b.prototype.ox=function(){var a,b,c,d,h,e;this.ni={};a=0;for(b=this.U.length;a<b;a++)if(c=this.U[a],
!c.za)for(d=0,h=c.F.length;d<h;d++)e=c.F[d],this.ni[e.uid.toString()]=e};b.prototype.rC=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.pj.reset();this.pj.Pc=b.time;this.cq.reset();this.cq.Pc=b.walltime||0;this.Di=b.timescale;this.Ci=b.tickcount;this.no=b.execcount;this.Lp=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.Bb.Ka)if(c=this.Gv(c))this.sv(c);else return;var d,h,e,l,f,p,g;p=a.types;for(h in p)if(p.hasOwnProperty(h)&&(l=this.Co(parseInt(h,10)))&&
!l.za&&!this.Yx(l)){p[h].ex?l.ja=p[h].ex:Qa(l.ja);f=l.F;e=p[h].instances;c=0;for(d=oa(f.length,e.length);c<d;c++)this.Zo(f[c],e[c]);c=e.length;for(d=f.length;c<d;c++)this.Wj(f[c]);c=f.length;for(d=e.length;c<d;c++){f=null;if(l.Mc.$h&&(f=this.Bb.Bo(e[c].w.l),!f))continue;f=this.$i(l.fg,f,!1,0,0,!0);this.Zo(f,e[c])}l.dl=!0}this.Tc();this.ox();d=a.layouts;for(h in d)d.hasOwnProperty(h)&&(c=this.Gv(parseInt(h,10)))&&c.Wd(d[h]);d=a.events.groups;for(h in d)d.hasOwnProperty(h)&&(c=this.tB(parseInt(h,10)))&&
this.Go[c.$l]&&(this.Go[c.$l].Fo=d[h]);c=a.events.cnds;for(h in c)c.hasOwnProperty(h)&&this.kk.hasOwnProperty(h)&&(this.kk[h].ja=c[h].ex);c=a.events.acts;for(h in c)c.hasOwnProperty(h)&&this.fk.hasOwnProperty(h)&&(this.fk[h].ja=c[h].ex);c=a.events.vars;for(h in c)c.hasOwnProperty(h)&&this.gl.hasOwnProperty(h)&&(this.gl[h].data=c[h]);this.Mm=b.next_uid;this.Dg.Wd(a.system);c=0;for(d=this.U.length;c<d;c++)if(l=this.U[c],!l.za)for(h=0,a=l.F.length;h<a;h++){f=l.F[h];if(l.Af)for(p=f.Zl(),b=f.siblings.length=
0,e=l.Qd.length;b<e;b++)g=l.Qd[b],l!==g&&f.siblings.push(g.F[p]);f.ag&&f.ag();if(f.ra)for(b=0,e=f.ra.length;b<e;b++)p=f.ra[b],p.ag&&p.ag()}this.lb=!0}};b.prototype.ut=function(a,b){var c,d,h,e,l;e=a.type;h=e.Mc;var f={};b?f.c2=!0:f.uid=a.uid;Pa(a.ja)&&(f.ex=k(a.ja));if(a.pc&&a.pc.length)for(f.ivs={},c=0,d=a.pc.length;c<d;c++)f.ivs[a.type.Nr[c].toString()]=a.pc[c];if(h.$h){h={x:a.x,y:a.y,w:a.width,h:a.height,l:a.S.Ka,zi:a.lg()};0!==a.M&&(h.a=a.M);1!==a.opacity&&(h.o=a.opacity);.5!==a.Td&&(h.hX=a.Td);
.5!==a.Ud&&(h.hY=a.Ud);0!==a.Dd&&(h.bm=a.Dd);a.visible||(h.v=a.visible);a.Og||(h.ce=a.Og);-1!==a.Lm&&(h.mts=a.Lm);if(e.oa.length)for(h.fx=[],c=0,d=e.oa.length;c<d;c++)l=e.oa[c],h.fx.push({name:l.name,active:a.Kh[l.index],params:a.Gb[l.index]});f.w=h}if(a.ra&&a.ra.length)for(f.behs={},c=0,d=a.ra.length;c<d;c++)e=a.ra[c],e.Bd&&(f.behs[e.type.Ka.toString()]=e.Bd());a.Bd&&(f.data=a.Bd());return f};b.prototype.vB=function(a,b){var c,d;c=0;for(d=a.Nr.length;c<d;c++)if(a.Nr[c]===b)return c;return-1};b.prototype.pB=
function(a,b){var c,d;c=0;for(d=a.ra.length;c<d;c++)if(a.ra[c].type.Ka===b)return c;return-1};b.prototype.Zo=function(a,b,c){var d,h,e,l,f;f=a.type;e=f.Mc;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.ja=b.ex:Qa(a.ja);if(h=b.ivs)for(d in h)h.hasOwnProperty(d)&&(c=this.vB(f,parseInt(d,10)),0>c||c>=a.pc.length||(a.pc[c]=h[d]));if(e.$h){e=b.w;a.S.Ka!==e.l&&(c=a.S,a.S=this.Bb.Bo(e.l),a.S?(c.Yk(a,!0),a.S.Il(a,!0),a.W(),a.S.Vm(0)):(a.S=c,this.Wj(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.Uf=e.zi;a.M=
e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.Td=e.hasOwnProperty("hX")?e.hX:.5;a.Ud=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.Og=e.hasOwnProperty("ce")?e.ce:!0;a.Lm=e.hasOwnProperty("mts")?e.mts:-1;a.Dd=e.hasOwnProperty("bm")?e.bm:0;a.Ol=$a(a.Dd);this.T&&ab(a,a.Dd,this.T);a.W();if(e.hasOwnProperty("fx"))for(c=0,h=e.fx.length;c<h;c++)l=f.Cr(e.fx[c].name),0>l||(a.Kh[l]=e.fx[c].active,a.Gb[l]=e.fx[c].params);a.Ah()}if(f=b.behs)for(d in f)f.hasOwnProperty(d)&&
(e=this.pB(a,parseInt(d,10)),0>e||a.ra[e].Wd(f[d]));b.data&&a.Wd(b.data)};Ib=function(a){return new b(document.getElementById(a))};Jb=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=Ib;window.cr_createDCRuntime=Jb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.rF=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};
window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.c=a;this.Tl=null;this.scrollX=this.c.cc/2;this.scrollY=this.c.ac/2;this.scale=1;this.M=0;this.rk=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Zx=b[3];this.Fx=b[4];this.Ka=b[5];var c=b[6],d,e;this.Aa=[];this.fm=[];d=0;for(e=c.length;d<e;d++){var f=new Kb(this,c[d]);f.Tw=d;this.Aa.push(f)}c=b[7];this.jj=[];d=0;for(e=c.length;d<e;d++){var f=c[d],p=this.c.U[f[1]];p.fg||(p.fg=f);this.jj.push(f);-1===this.fm.indexOf(p)&&this.fm.push(p)}this.oa=[];this.Ra=[];this.Gb=
[];d=0;for(e=b[8].length;d<e;d++)this.oa.push({id:b[8][d][0],name:b[8][d][1],Oc:-1,Xc:!0,index:d}),this.Gb.push(b[8][d][2].slice(0));this.Ah();this.it=new wa(0,0,1,1);this.jt=new wa(0,0,1,1);this.oi={}}function c(a,b){return a.Uf-b.Uf}function b(a,b){this.qc=a;this.c=a.c;this.F=[];this.scale=1;this.M=0;this.cj=!1;this.yh=new wa(0,0,0,0);this.Tx=new xa;this.gc=this.Nb=this.hc=this.Mb=0;this.Rj=!1;this.Dh=-1;this.name=b[0];this.index=b[1];this.Ka=b[2];this.visible=b[3];this.Mh=b[4];this.zh=b[5];this.rh=
b[6];this.sh=b[7];this.opacity=b[8];this.sr=b[9];this.Rf=b[10];this.mn=b[11];this.Dd=b[12];this.HA=b[13];this.Ol="source-over";this.Zc=this.fd=0;this.$d=null;this.Dk=d();this.wh=!0;this.Ro=new wa(0,0,-1,-1);this.Re=new wa(0,0,-1,-1);this.Rf&&(this.$d=new Za(this.c.cc,this.c.ac));this.si=!1;var c=b[14],e,f;this.uk=[];e=0;for(f=c.length;e<f;e++){var g=c[e],p=this.c.U[g[1]];p.fg||(p.fg=g,p.eA=this.index);this.uk.push(g);-1===this.qc.fm.indexOf(p)&&this.qc.fm.push(p)}this.oa=[];this.Ra=[];this.Gb=[];
e=0;for(f=b[15].length;e<f;e++)this.oa.push({id:b[15][e][0],name:b[15][e][1],Oc:-1,Xc:!0,index:e}),this.Gb.push(b[15][e][2].slice(0));this.Ah();this.it=new wa(0,0,1,1);this.jt=new wa(0,0,1,1)}function d(){return k.length?k.pop():[]}function e(a){a.length=0;k.push(a)}a.prototype.uD=function(a){var b=a.type.Ka.toString();this.oi.hasOwnProperty(b)||(this.oi[b]=[]);this.oi[b].push(this.c.ut(a))};a.prototype.Nv=function(){var a=this.Aa[0];return!a.zh&&1===a.opacity&&!a.sr&&a.visible};a.prototype.Ah=function(){this.Ra.length=
0;var a,b,c;a=0;for(b=this.oa.length;a<b;a++)c=this.oa[a],c.Xc&&this.Ra.push(c)};a.prototype.Br=function(a){var b,c,d;b=0;for(c=this.oa.length;b<c;b++)if(d=this.oa[b],d.name===a)return d;return null};var f=[],g=!0;a.prototype.Gt=function(){this.Fx&&(this.Tl=this.c.kr[this.Fx],this.Tl.cy());this.c.Bb=this;this.scrollX=this.c.cc/2;this.scrollY=this.c.ac/2;var a,b,d,e,m,k,p;a=0;for(d=this.c.U.length;a<d;a++)if(b=this.c.U[a],!b.za)for(m=b.F,b=0,e=m.length;b<e;b++)if(k=m[b],k.S){var n=k.S.Tw;n>=this.Aa.length&&
(n=this.Aa.length-1);k.S=this.Aa[n];-1===k.S.F.indexOf(k)&&k.S.F.push(k);k.S.Rj=!0}if(!g)for(a=0,d=this.Aa.length;a<d;++a)this.Aa[a].F.sort(c);f.length=0;this.Xz();a=0;for(d=this.Aa.length;a<d;a++)k=this.Aa[a],k.cA(),k.Ut();m=!1;if(!this.rk){for(p in this.oi)if(this.oi.hasOwnProperty(p)&&(b=this.c.Co(parseInt(p,10)))&&!b.za&&this.c.Rt(b)){e=this.oi[p];a=0;for(d=e.length;a<d;a++){k=null;if(b.Mc.$h&&(k=this.Bo(e[a].w.l),!k))continue;k=this.c.$i(b.fg,k,!1,0,0,!0);this.c.Zo(k,e[a]);m=!0;f.push(k)}e.length=
0}a=0;for(d=this.Aa.length;a<d;a++)this.Aa[a].F.sort(c),this.Aa[a].Rj=!0}m&&(this.c.Tc(),this.c.ox());for(a=0;a<f.length;a++)if(k=f[a],k.type.Af)for(d=k.Zl(),b=0,e=k.type.Qd.length;b<e;b++)p=k.type.Qd[b],k.type!==p&&(p.F.length>d?k.siblings.push(p.F[d]):p.fg&&(m=this.c.$i(p.fg,k.S,!0,k.x,k.y,!0),this.c.Tc(),p.$p(),k.siblings.push(m),f.push(m)));a=0;for(d=this.jj.length;a<d;a++)this.c.$i(this.jj[a],null,!0);this.c.Sq=null;this.c.Tc();if(this.c.Za&&!this.c.$c)for(a=0,d=this.c.U.length;a<d;a++)p=this.c.U[a],
!p.za&&p.F.length&&p.$s&&p.$s(this.c.Za);a=0;for(d=f.length;a<d;a++)k=f[a],this.c.trigger(Object.getPrototypeOf(k.type.Mc).fa.bz,k);f.length=0;this.c.trigger(dc.prototype.fa.tu,null);this.rk=!1};a.prototype.bA=function(){var a,b,c,d,e;b=a=0;for(c=this.jj.length;a<c;a++)d=this.jj[a],e=this.c.U[d[1]],e.global?this.c.$i(d,null,!0):(this.jj[b]=d,b++);this.jj.length=b};a.prototype.BD=function(){this.c.trigger(dc.prototype.fa.kz,null);this.c.Dg.fe.length=0;var a,b,c,d,e,f;if(!this.rk)for(a=0,b=this.Aa.length;a<
b;a++)for(this.Aa[a].Vt(),e=this.Aa[a].F,c=0,d=e.length;c<d;c++)f=e[c],f.type.global||this.c.Rt(f.type)&&this.uD(f);a=0;for(b=this.Aa.length;a<b;a++){e=this.Aa[a].F;c=0;for(d=e.length;c<d;c++)f=e[c],f.type.global||this.c.Wj(f);this.c.Tc();e.length=0;this.Aa[a].Rj=!0}a=0;for(b=this.c.U.length;a<b;a++)if(e=this.c.U[a],!(e.global||e.Mc.$h||e.Mc.Jp||e.za)){c=0;for(d=e.F.length;c<d;c++)this.c.Wj(e.F[c]);this.c.Tc()}g=!1};new wa(0,0,0,0);a.prototype.Rh=function(a){var b,c=a,d=!1,e=!this.c.Ue;e&&(this.c.Wo||
(this.c.Wo=document.createElement("canvas"),b=this.c.Wo,b.width=this.c.Ja,b.height=this.c.Ia,this.c.mw=b.getContext("2d"),d=!0),b=this.c.Wo,c=this.c.mw,b.width!==this.c.Ja&&(b.width=this.c.Ja,d=!0),b.height!==this.c.Ia&&(b.height=this.c.Ia,d=!0),d&&(c.webkitImageSmoothingEnabled=this.c.$a,c.mozImageSmoothingEnabled=this.c.$a,c.msImageSmoothingEnabled=this.c.$a,c.imageSmoothingEnabled=this.c.$a));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.c.Jq&&!this.Nv()&&c.clearRect(0,0,this.c.Ja,
this.c.Ia);var f,p,d=0;for(f=this.Aa.length;d<f;d++)p=this.Aa[d],p.visible&&0<p.opacity&&11!==p.Dd&&(p.F.length||!p.zh)?p.Rh(c):p.Ut();e&&a.drawImage(b,0,0,this.c.width,this.c.height)};a.prototype.uf=function(a){var b=0<this.Ra.length||this.c.el||!this.c.Ue;if(b){this.c.Vd||(this.c.Vd=a.Pg(this.c.Ja,this.c.Ia,this.c.$a));if(this.c.Vd.Ml!==this.c.Ja||this.c.Vd.Ll!==this.c.Ia)a.deleteTexture(this.c.Vd),this.c.Vd=a.Pg(this.c.Ja,this.c.Ia,this.c.$a);a.Bg(this.c.Vd);this.c.Ue||a.al(this.c.Ja,this.c.Ia)}else this.c.Vd&&
(a.Bg(null),a.deleteTexture(this.c.Vd),this.c.Vd=null);this.c.Jq&&!this.Nv()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Aa.length;c<d;c++)e=this.Aa[c],e.visible&&0<e.opacity&&(e.F.length||!e.zh)?e.uf(a):e.Ut();b&&(0===this.Ra.length||1===this.Ra.length&&this.c.Ue?(1===this.Ra.length?(b=this.Ra[0].index,a.Cg(this.Ra[0].Oc),a.$k(null,1/this.c.Ja,1/this.c.Ia,0,0,1,1,this.scale,this.M,0,0,this.c.Ja/2,this.c.Ia/2,this.Gb[b]),a.xp(this.Ra[0].Oc)&&(this.c.lb=!0)):a.Cg(0),this.c.Ue||a.al(this.c.width,this.c.height),
a.Bg(null),a.Zk(1),a.De(this.c.Vd),a.zx(),a.ti(),a.Gi(),b=this.c.width/2,c=this.c.height/2,a.yp(-b,c,b,c,b,-c,-b,-c),a.De(null)):this.mt(a,null,null,null))};a.prototype.Yl=function(){return 0<this.Ra.length||this.c.el||!this.c.Ue?this.c.Vd:null};a.prototype.Hv=function(){var a=this.Aa[0].wf(),b,c,d;b=1;for(c=this.Aa.length;b<c;b++)d=this.Aa[b],(0!==d.rh||0!==d.sh)&&d.wf()<a&&(a=d.wf());return a};a.prototype.xt=function(a){if(!this.Zx){var b=1/this.Hv()*this.c.Ja/2;a>this.width-b&&(a=this.width-b);
a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.c.lb=!0)};a.prototype.yt=function(a){if(!this.Zx){var b=1/this.Hv()*this.c.Ia/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.c.lb=!0)};a.prototype.Xz=function(){this.xt(this.scrollX);this.yt(this.scrollY)};a.prototype.mt=function(a,b,c,d){var e=c?c.Ra:b?b.Ra:this.Ra,f=1,p=0,g=0,k=0,m=this.c.Ja,n=this.c.Ia;c?(f=c.S.wf(),p=c.S.vf(),g=c.S.Mb,k=c.S.Nb,m=c.S.hc,n=c.S.gc):b&&(f=b.wf(),p=b.vf(),g=b.Mb,k=b.Nb,m=b.hc,
n=b.gc);var B=this.c.xr,C,y,G,E,H=0,F=1,ca,da=this.c.Ja,Y=this.c.Ia,sa=da/2,X=Y/2,M=b?b.it:this.it,J=b?b.jt:this.jt,K=0,N=0,I=0,S=0,R=da,ha=da,Q=Y,T=Y,ia=G=0,ta=c?c.S.vf():0;if(c){C=0;for(y=e.length;C<y;C++)G+=a.BB(e[C].Oc),ia+=a.CB(e[C].Oc);E=c.Wb;K=b.sd(E.left,E.top,!0,!0);I=b.sd(E.left,E.top,!1,!0);R=b.sd(E.right,E.bottom,!0,!0);Q=b.sd(E.right,E.bottom,!1,!0);0!==ta&&(C=b.sd(E.right,E.top,!0,!0),y=b.sd(E.right,E.top,!1,!0),N=b.sd(E.left,E.bottom,!0,!0),S=b.sd(E.left,E.bottom,!1,!0),E=Math.min(K,
R,C,N),R=Math.max(K,R,C,N),K=E,E=Math.min(I,Q,y,S),Q=Math.max(I,Q,y,S),I=E);K-=G;I-=ia;R+=G;Q+=ia;J.left=K/da;J.top=1-I/Y;J.right=R/da;J.bottom=1-Q/Y;N=K=qa(K);S=I=qa(I);ha=R=ra(R);T=Q=ra(Q);N-=G;S-=ia;ha+=G;T+=ia;0>K&&(K=0);0>I&&(I=0);R>da&&(R=da);Q>Y&&(Q=Y);0>N&&(N=0);0>S&&(S=0);ha>da&&(ha=da);T>Y&&(T=Y);M.left=K/da;M.top=1-I/Y;M.right=R/da;M.bottom=1-Q/Y}else M.left=J.left=0,M.top=J.top=0,M.right=J.right=1,M.bottom=J.bottom=1;ia=c&&((c.M||ta)&&a.Rm(e[0].Oc)||0!==G||0!==ia||1!==c.opacity||c.type.Mc.Rw)||
b&&!c&&1!==b.opacity;a.zx();if(ia){B[H]||(B[H]=a.Pg(da,Y,this.c.$a));if(B[H].Ml!==da||B[H].Ll!==Y)a.deleteTexture(B[H]),B[H]=a.Pg(da,Y,this.c.$a);a.Cg(0);a.Bg(B[H]);ca=T-S;a.clearRect(N,Y-S-ca,ha-N,ca);c?c.uf(a):(a.De(this.c.ve),a.Zk(b.opacity),a.ti(),a.translate(-sa,-X),a.Gi(),a.qi(K,Q,R,Q,R,I,K,I,M));J.left=J.top=0;J.right=J.bottom=1;c&&(E=M.top,M.top=M.bottom,M.bottom=E);H=1;F=0}a.Zk(1);G=e.length-1;var ta=a.ct(e[G].Oc)||!b&&!c&&!this.c.Ue,ua=0;C=0;for(y=e.length;C<y;C++){B[H]||(B[H]=a.Pg(da,Y,
this.c.$a));if(B[H].Ml!==da||B[H].Ll!==Y)a.deleteTexture(B[H]),B[H]=a.Pg(da,Y,this.c.$a);a.Cg(e[C].Oc);ua=e[C].index;a.xp(e[C].Oc)&&(this.c.lb=!0);0!=C||ia?(a.$k(d,1/da,1/Y,J.left,J.top,J.right,J.bottom,f,p,g,k,(g+m)/2,(k+n)/2,c?c.Gb[ua]:b?b.Gb[ua]:this.Gb[ua]),a.De(null),C!==G||ta?(a.Bg(B[H]),ca=T-S,E=Y-S-ca,a.clearRect(N,E,ha-N,ca)):(c?a.wi(c.fd,c.Zc):b&&a.wi(b.fd,b.Zc),a.Bg(d)),a.De(B[F]),a.ti(),a.translate(-sa,-X),a.Gi(),a.qi(K,Q,R,Q,R,I,K,I,M),C!==G||ta||a.De(null)):(a.Bg(B[H]),ca=T-S,E=Y-S-
ca,a.clearRect(N,E,ha-N,ca),c?(a.$k(d,1/c.width,1/c.height,J.left,J.top,J.right,J.bottom,f,p,g,k,(g+m)/2,(k+n)/2,c.Gb[ua]),c.uf(a)):(a.$k(d,1/da,1/Y,0,0,1,1,f,p,g,k,(g+m)/2,(k+n)/2,b?b.Gb[ua]:this.Gb[ua]),a.De(b?this.c.ve:this.c.Vd),a.ti(),a.translate(-sa,-X),a.Gi(),a.qi(K,Q,R,Q,R,I,K,I,M)),J.left=J.top=0,J.right=J.bottom=1,c&&!ta&&(E=Q,Q=I,I=E));H=0===H?1:0;F=0===H?1:0}ta&&(a.Cg(0),c?a.wi(c.fd,c.Zc):b?a.wi(b.fd,b.Zc):this.c.Ue||(a.al(this.c.width,this.c.height),sa=this.c.width/2,X=this.c.height/
2,I=K=0,R=this.c.width,Q=this.c.height),a.Bg(d),a.De(B[F]),a.ti(),a.translate(-sa,-X),a.Gi(),c&&1===e.length&&!ia?a.qi(K,I,R,I,R,Q,K,Q,M):a.qi(K,Q,R,Q,R,I,K,I,M),a.De(null))};a.prototype.Bo=function(a){var b,c;b=0;for(c=this.Aa.length;b<c;b++)if(this.Aa[b].Ka===a)return this.Aa[b];return null};a.prototype.Bd=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.M,w:this.width,h:this.height,fv:this.rk,persist:this.oi,fx:[],layers:{}};a=0;for(b=this.oa.length;a<b;a++)c=this.oa[a],
d.fx.push({name:c.name,active:c.Xc,params:this.Gb[c.index]});a=0;for(b=this.Aa.length;a<b;a++)c=this.Aa[a],d.layers[c.Ka.toString()]=c.Bd();return d};a.prototype.Wd=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.M=a.a;this.width=a.w;this.height=a.h;this.oi=a.persist;"undefined"!==typeof a.fv&&(this.rk=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.Br(f[b].name))d.Xc=f[b].active,this.Gb[d.index]=f[b].params;this.Ah();b=a.layers;for(e in b)b.hasOwnProperty(e)&&
(a=this.Bo(parseInt(e,10)))&&a.Wd(b[e])};wb=a;b.prototype.Ah=function(){this.Ra.length=0;var a,b,c;a=0;for(b=this.oa.length;a<b;a++)c=this.oa[a],c.Xc&&this.Ra.push(c)};b.prototype.Br=function(a){var b,c,d;b=0;for(c=this.oa.length;b<c;b++)if(d=this.oa[b],d.name===a)return d;return null};b.prototype.cA=function(){var a,b,c,d,e,g;b=a=0;for(c=this.uk.length;a<c;a++){d=this.uk[a];e=this.c.U[d[1]];g=this.c.Rt(e);e=!0;if(!g||this.qc.rk)d=this.c.$i(d,this,!0),f.push(d),d.type.global&&(e=!1);e&&(this.uk[b]=
this.uk[a],b++)}this.uk.length=b;this.c.Tc();!this.c.ca&&this.oa.length&&(this.Dd=this.HA);this.Ol=$a(this.Dd);this.c.T&&ab(this,this.Dd,this.c.T);this.wh=!0};b.prototype.Yk=function(a,b){var c=Ca(this.F,a);0>c||(b&&this.Rf&&a.Id&&a.Id.right>=a.Id.left&&(a.gb(),this.$d.update(a,a.Id,null),a.Id.set(0,0,-1,-1)),c===this.F.length-1?this.F.pop():(za(this.F,c),this.Vm(c)),this.wh=!0)};b.prototype.Il=function(a,b){a.Uf=this.F.length;this.F.push(a);b&&this.Rf&&a.Id&&a.W();this.wh=!0};b.prototype.gD=function(a){this.F.unshift(a);
this.Vm(0)};b.prototype.XC=function(a,b,c){var d=a.lg();b=b.lg();za(this.F,d);d<b&&b--;c&&b++;b===this.F.length?this.F.push(a):this.F.splice(b,0,a);this.Vm(d<b?d:b)};b.prototype.Vm=function(a){-1===this.Dh?this.Dh=a:a<this.Dh&&(this.Dh=a);this.wh=this.Rj=!0};b.prototype.Vt=function(){if(this.Rj){-1===this.Dh&&(this.Dh=0);var a,b,c;if(this.Rf)for(a=this.Dh,b=this.F.length;a<b;++a)c=this.F[a],c.Uf=a,this.$d.OC(c.Id);else for(a=this.Dh,b=this.F.length;a<b;++a)this.F[a].Uf=a;this.Rj=!1;this.Dh=-1}};b.prototype.wf=
function(a){return this.zB()*(this.c.Ue||a?this.c.Jl:1)};b.prototype.zB=function(){return(this.scale*this.qc.scale-1)*this.mn+1};b.prototype.vf=function(){return this.cj?0:Ga(this.qc.M+this.M)};var k=[],n=[],m=[];b.prototype.Iv=function(){this.Vt();this.$d.zp(this.Mb,this.Nb,this.hc,this.gc,m);if(!m.length)return d();if(1===m.length){var a=d();Aa(a,m[0]);m.length=0;return a}for(var b=!0;1<m.length;){for(var a=m,c=void 0,f=void 0,g=void 0,k=void 0,p=void 0,c=0,f=a.length;c<f-1;c+=2){var g=a[c],k=a[c+
1],p=d(),A=g,D=k,L=p,z=0,B=0,C=0,y=A.length,G=D.length,E=void 0,H=void 0;for(L.length=y+G;z<y&&B<G;++C)E=A[z],H=D[B],E.Uf<H.Uf?(L[C]=E,++z):(L[C]=H,++B);for(;z<y;++z,++C)L[C]=A[z];for(;B<G;++B,++C)L[C]=D[B];b||(e(g),e(k));n.push(p)}1===f%2&&(b?(g=d(),Aa(g,a[f-1]),n.push(g)):n.push(a[f-1]));Aa(a,n);n.length=0;b=!1}a=m[0];m.length=0;return a};b.prototype.Rh=function(a){this.si=this.sr||1!==this.opacity||0!==this.Dd;var b=this.c.canvas,c=a,d=!1;this.si&&(this.c.Vo||(this.c.Vo=document.createElement("canvas"),
b=this.c.Vo,b.width=this.c.Ja,b.height=this.c.Ia,this.c.lw=b.getContext("2d"),d=!0),b=this.c.Vo,c=this.c.lw,b.width!==this.c.Ja&&(b.width=this.c.Ja,d=!0),b.height!==this.c.Ia&&(b.height=this.c.Ia,d=!0),d&&(c.webkitImageSmoothingEnabled=this.c.$a,c.mozImageSmoothingEnabled=this.c.$a,c.msImageSmoothingEnabled=this.c.$a,c.imageSmoothingEnabled=this.c.$a),this.zh&&c.clearRect(0,0,this.c.Ja,this.c.Ia));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.zh||(c.fillStyle="rgb("+this.Mh[0]+","+
this.Mh[1]+","+this.Mh[2]+")",c.fillRect(0,0,this.c.Ja,this.c.Ia));c.save();this.cj=!0;var d=this.ik(!0),f=this.ik(!1);this.cj=!1;this.c.pi&&(d=Math.round(d),f=Math.round(f));this.ot(d,f,c);var g=this.wf();c.scale(g,g);c.translate(-d,-f);this.Rf?(this.Re.left=this.$d.ie(this.Mb),this.Re.top=this.$d.je(this.Nb),this.Re.right=this.$d.ie(this.hc),this.Re.bottom=this.$d.je(this.gc),this.wh||!this.Re.lo(this.Ro)?(e(this.Dk),d=this.Iv(),this.wh=!1,this.Ro.ao(this.Re)):d=this.Dk):d=this.F;for(var p,k=null,
f=0,g=d.length;f<g;++f)p=d[f],p!==k&&(this.xA(p,c),k=p);this.Rf&&(this.Dk=d);c.restore();this.si&&(a.globalCompositeOperation=this.Ol,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.xA=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.gb();var c=a.Wb;c.right<this.Mb||c.bottom<this.Nb||c.left>this.hc||c.top>this.gc||(b.globalCompositeOperation=a.Ol,a.Rh(b))}};b.prototype.Ut=function(){this.cj=!0;var a=this.ik(!0),b=this.ik(!1);this.cj=!1;this.c.pi&&(a=Math.round(a),b=Math.round(b));
this.ot(a,b,null)};b.prototype.ot=function(a,b,c){var d=this.wf();this.Mb=a;this.Nb=b;this.hc=a+1/d*this.c.Ja;this.gc=b+1/d*this.c.Ia;a=this.vf();0!==a&&(c&&(c.translate(this.c.Ja/2,this.c.Ia/2),c.rotate(-a),c.translate(this.c.Ja/-2,this.c.Ia/-2)),this.yh.set(this.Mb,this.Nb,this.hc,this.gc),this.yh.offset((this.Mb+this.hc)/-2,(this.Nb+this.gc)/-2),this.Tx.Dx(this.yh,a),this.Tx.$u(this.yh),this.yh.offset((this.Mb+this.hc)/2,(this.Nb+this.gc)/2),this.Mb=this.yh.left,this.Nb=this.yh.top,this.hc=this.yh.right,
this.gc=this.yh.bottom)};b.prototype.uf=function(a){var b=0,c=0;if(this.si=this.sr||1!==this.opacity||0<this.Ra.length||0!==this.Dd){this.c.ve||(this.c.ve=a.Pg(this.c.Ja,this.c.Ia,this.c.$a));if(this.c.ve.Ml!==this.c.Ja||this.c.ve.Ll!==this.c.Ia)a.deleteTexture(this.c.ve),this.c.ve=a.Pg(this.c.Ja,this.c.Ia,this.c.$a);a.Bg(this.c.ve);this.zh&&a.clear(0,0,0,0)}this.zh||a.clear(this.Mh[0]/255,this.Mh[1]/255,this.Mh[2]/255,1);this.cj=!0;var d=this.ik(!0),b=this.ik(!1);this.cj=!1;this.c.pi&&(d=Math.round(d),
b=Math.round(b));this.ot(d,b,null);d=this.wf();a.ti();a.scale(d,d);a.tx(-this.vf());a.translate((this.Mb+this.hc)/-2,(this.Nb+this.gc)/-2);a.Gi();this.Rf?(this.Re.left=this.$d.ie(this.Mb),this.Re.top=this.$d.je(this.Nb),this.Re.right=this.$d.ie(this.hc),this.Re.bottom=this.$d.je(this.gc),this.wh||!this.Re.lo(this.Ro)?(e(this.Dk),b=this.Iv(),this.wh=!1,this.Ro.ao(this.Re)):b=this.Dk):b=this.F;var f,g,p=null,c=0;for(f=b.length;c<f;++c)g=b[c],g!==p&&(this.yA(b[c],a),p=g);this.Rf&&(this.Dk=b);this.si&&
(b=this.Ra.length?this.Ra[0].Oc:0,c=this.Ra.length?this.Ra[0].index:0,0===this.Ra.length||1===this.Ra.length&&!a.ct(b)&&1===this.opacity?(1===this.Ra.length?(a.Cg(b),a.$k(this.qc.Yl(),1/this.c.Ja,1/this.c.Ia,0,0,1,1,d,this.vf(),this.Mb,this.Nb,(this.Mb+this.hc)/2,(this.Nb+this.gc)/2,this.Gb[c]),a.xp(b)&&(this.c.lb=!0)):a.Cg(0),a.Bg(this.qc.Yl()),a.Zk(this.opacity),a.De(this.c.ve),a.wi(this.fd,this.Zc),a.ti(),a.Gi(),d=this.c.Ja/2,b=this.c.Ia/2,a.yp(-d,b,d,b,d,-b,-d,-b),a.De(null)):this.qc.mt(a,this,
null,this.qc.Yl()))};b.prototype.yA=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.gb();var c=a.Wb;c.right<this.Mb||c.bottom<this.Nb||c.left>this.hc||c.top>this.gc||(a.hy?this.zA(a,b):(b.Cg(0),b.wi(a.fd,a.Zc),a.uf(b)))}};b.prototype.zA=function(a,b){var c=a.Ra[0].Oc,d=a.Ra[0].index,e=this.wf();if(1!==a.Ra.length||b.ct(c)||b.iD(c)||(a.M||a.S.vf())&&b.Rm(c)||1!==a.opacity||a.type.Mc.Rw)this.qc.mt(b,this,a,this.si?this.c.ve:this.qc.Yl()),b.ti(),b.scale(e,e),b.tx(-this.vf()),b.translate((this.Mb+
this.hc)/-2,(this.Nb+this.gc)/-2),b.Gi();else{b.Cg(c);b.wi(a.fd,a.Zc);b.xp(c)&&(this.c.lb=!0);var f=0,p=0,g=0,k=0;b.Rm(c)&&(c=a.Wb,f=this.sd(c.left,c.top,!0,!0),p=this.sd(c.left,c.top,!1,!0),g=this.sd(c.right,c.bottom,!0,!0),c=this.sd(c.right,c.bottom,!1,!0),f/=windowWidth,p=1-p/windowHeight,g/=windowWidth,k=1-c/windowHeight);b.$k(this.si?this.c.ve:this.qc.Yl(),1/a.width,1/a.height,f,p,g,k,e,this.vf(),this.Mb,this.Nb,(this.Mb+this.hc)/2,(this.Nb+this.gc)/2,a.Gb[d]);a.uf(b)}};b.prototype.ik=function(a){var b=
0,c=0,d=this.c.devicePixelRatio;this.c.nj&&(b*=d,c*=d);var d=this.c.Zw,e=this.c.$w,d=(this.qc.scrollX-d)*this.rh+d,e=(this.qc.scrollY-e)*this.sh+e,f,p,g=1/this.wf(!1);f=d-this.c.Ja*g/2;p=e-this.c.Ia*g/2;f+=b*g;p+=c*g;c=this.vf();0!==c&&(f-=d,p-=e,b=Math.cos(c),c=Math.sin(c),g=f*b-p*c,p=p*b+f*c,f=g+d,p+=e);return a?f:p};b.prototype.sd=function(a,b,c,d){var e=this.c.Zw,f=this.c.$w,p=(this.qc.scrollX-e)*this.rh+e,g=(this.qc.scrollY-f)*this.sh+f,f=p,e=g,k=this.vf();if(0!==k){a-=p;b-=g;var m=Math.cos(-k),
k=Math.sin(-k),n=a*m-b*k;b=b*m+a*k;a=n+p;b+=g}p=1/this.wf(!d);d?(f-=this.c.Ja*p/2,e-=this.c.Ia*p/2):(f-=this.c.width*p/2,e-=this.c.height*p/2);f=(a-f)/p;e=(b-e)/p;a=this.c.devicePixelRatio;this.c.nj&&!d&&(f/=a,e/=a);return c?f:e};b.prototype.Bd=function(){var a,b,c,d={s:this.scale,a:this.M,vl:this.Mb,vt:this.Nb,vr:this.hc,vb:this.gc,v:this.visible,bc:this.Mh,t:this.zh,px:this.rh,py:this.sh,o:this.opacity,zr:this.mn,fx:[],instances:[]};a=0;for(b=this.oa.length;a<b;a++)c=this.oa[a],d.fx.push({name:c.name,
active:c.Xc,params:this.Gb[c.index]});return d};b.prototype.Wd=function(a){var b,d;this.scale=a.s;this.M=a.a;this.Mb=a.vl;this.Nb=a.vt;this.hc=a.vr;this.gc=a.vb;this.visible=a.v;this.Mh=a.bc;this.zh=a.t;this.rh=a.px;this.sh=a.py;this.opacity=a.o;this.mn=a.zr;var e=a.fx;a=0;for(b=e.length;a<b;a++)if(d=this.Br(e[a].name))d.Xc=e[a].active,this.Gb[d.index]=e[a].params;this.Ah();this.F.sort(c);this.Rj=!0};Kb=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,h,f;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=r.length&&(r.length=b.length+1);r[b.length]||(r[b.length]=[]);f=r[b.length];d=0;for(e=f.length;d<e;d++)if(h=f[d],a(b,h))return h;f.push(b);return b}
function d(a,b){this.c=a;this.Vx={};this.xv={};this.Fr=!1;this.Pv=new ba;this.er=[];this.Kq=[];this.name=b[0];var c=b[1];this.Th=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Sv(c[d],null,this.Th)}function e(a){this.type=a;this.F=[];this.Va=[];this.fc=!0}function f(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.Tb=[];this.xi=[];this.Ov=this.Wp=this.Ot=this.Lr=this.group=this.Ix=!1;this.Yc=[];this.nf=[];this.ef=[];this.$l="";this.Fo=this.Lr=this.group=!1;this.kv=null;c[1]&&(this.$l=c[1][1].toLowerCase(),
this.group=!0,this.Lr=!!c[1][0],this.kv=[],this.Fo=this.Lr,this.c.gk.push(this),this.c.Go[this.$l]=this);this.wg=c[2];this.Ka=c[4];this.group||(this.c.Zu[this.Ka.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Lb(this,d[a]);e.index=a;this.Yc.push(e);this.Ou(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Mb(this,d[a]),e.index=a,this.nf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Sv(c[a],this,this.ef);this.Lo=!1;this.Yc.length&&(this.Lo=null==this.Yc[0].type&&
this.Yc[0].Kc==dc.prototype.fa.Hy)}function g(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Af))for(c=0,d=a.Qd.length;c<d;c++)e=a.Qd[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function k(a,b){this.le=a;this.sheet=a.sheet;this.c=a.c;this.ua=[];this.eb=[];this.ja={};this.index=-1;this.Gl=!1;this.Kc=this.c.Hh(b[1]);this.trigger=0<b[3];this.wv=2===b[3];this.Or=b[5];this.oC=b[6];this.Ka=b[7];this.c.kk[this.Ka.toString()]=this;-1===b[0]?(this.type=null,this.sc=this.tt,this.Wi=null,this.Oe=-1):(this.type=
this.c.U[b[0]],this.sc=this.oC?this.rD:this.qt,b[2]?(this.Wi=this.type.xo(b[2]),this.Oe=this.type.Ar(b[2])):(this.Wi=null,this.Oe=-1),this.le.parent&&this.le.parent.Gp());this.wv&&(this.sc=this.sD);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var h=new Nb(this,e[c]);this.ua.push(h)}this.eb.length=e.length}}function n(a,b){this.le=a;this.sheet=a.sheet;this.c=a.c;this.ua=[];this.eb=[];this.ja={};this.index=-1;this.Gl=!1;this.Kc=this.c.Hh(b[1]);-1===b[0]?(this.type=null,this.sc=this.tt,
this.Wi=null,this.Oe=-1):(this.type=this.c.U[b[0]],this.sc=this.qt,b[2]?(this.Wi=this.type.xo(b[2]),this.Oe=this.type.Ar(b[2])):(this.Wi=null,this.Oe=-1));this.Ka=b[3];this.c.fk[this.Ka.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var h=new Nb(this,e[c]);this.ua.push(h)}this.eb.length=e.length}}function m(a,b){this.da=a;this.le=a.le;this.sheet=a.sheet;this.c=a.c;this.type=b[0];this.hg=null;this.yi=0;this.get=null;this.jv=0;this.qc=null;this.key=0;this.object=null;this.index=
0;this.cn=this.Pj=this.cn=this.Pj=this.yv=this.fj=this.dn=null;this.ff=!1;var c,d,e;switch(b[0]){case 0:case 7:this.hg=new Ob(this,b[1]);this.yi=0;this.get=this.MB;break;case 1:this.hg=new Ob(this,b[1]);this.yi=0;this.get=this.NB;break;case 5:this.hg=new Ob(this,b[1]);this.yi=0;this.get=this.RB;break;case 3:case 8:this.jv=b[1];this.get=this.KB;break;case 6:this.qc=this.c.gs[b[1]];this.get=this.SB;break;case 9:this.key=b[1];this.get=this.QB;break;case 4:this.object=this.c.U[b[1]];this.get=this.TB;
this.le.Ou(this.object);this.da instanceof Mb?this.le.Gp():this.le.parent&&this.le.parent.Gp();break;case 10:this.index=b[1];a.type.za?(this.get=this.OB,this.ff=!0):this.get=this.PB;break;case 11:this.dn=b[1];this.fj=null;this.get=this.LB;break;case 2:case 12:this.yv=b[1];this.get=this.JB;break;case 13:for(this.get=this.UB,this.Pj=[],this.cn=[],c=1,d=b.length;c<d;c++)e=new Nb(this.da,b[c]),this.Pj.push(e),this.cn.push(0)}}function l(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.Tb=[];this.name=
c[1];this.Kr=c[3];this.km=!!c[4];this.Ko=!!c[5];this.Ka=c[6];this.c.gl[this.Ka.toString()]=this;this.data=this.Kr;this.parent?(this.zj=this.km||this.Ko?-1:this.c.zD++,this.c.Pz.push(this)):(this.zj=-1,this.c.Oz.push(this))}function h(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.Tb=[];this.em=null;this.aC=c[1];this.Xc=!0}function q(){this.Mx=[];this.reset(null)}var r=[];d.prototype.toString=function(){return this.name};d.prototype.Sv=function(a,b,c){switch(a[0]){case 0:a=new Pb(this,b,a);if(a.wg)for(c.push(a),
c=0,b=a.Yc.length;c<b;c++)a.Yc[c].trigger&&this.Tv(a,c);else a.cw()?this.Tv(a,0):c.push(a);break;case 1:a=new Hb(this,b,a);c.push(a);break;case 2:a=new Qb(this,b,a),c.push(a)}};d.prototype.Sb=function(){var a,b;a=0;for(b=this.Th.length;a<b;a++)this.Th[a].Sb(a<b-1&&this.Th[a+1].Lo)};d.prototype.cy=function(){this.er.length=0;this.Kq.length=0;this.Nu(this);this.Kq.length=0};d.prototype.Nu=function(a){var b,c,d,e,h=a.er,f=a.Kq,g=this.Pv.Tf();b=0;for(c=g.length;b<c;++b)d=g[b],e=d.em,!d.Xc||a===e||-1<
f.indexOf(e)||(f.push(e),e.Nu(a),h.push(e))};d.prototype.sc=function(a){this.c.oF||(this.Fr=!0,a||(this.c.Rr=!0));var b,c;b=0;for(c=this.Th.length;b<c;b++){var d=this.Th[b];d.sc();this.c.Tq(d.Tb);this.c.Xh&&this.c.Tc()}a||(this.c.Rr=!1)};d.prototype.Tv=function(a,b){a.wg||this.c.Zp.push(a);var c,d,e=a.Yc[b],h;h=e.type?e.type.name:"system";var f=(c=e.wv)?this.xv:this.Vx;f[h]||(f[h]=[]);h=f[h];f=e.Kc;if(c){if(e.ua.length&&(e=e.ua[0],1===e.type&&2===e.hg.type)){e=e.hg.value.toLowerCase();c=0;for(d=h.length;c<
d;c++)if(h[c].method==f){c=h[c].Ul;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];h.push({method:f,Ul:c})}}else{c=0;for(d=h.length;c<d;c++)if(h[c].method==f){h[c].Ul.push([a,b]);return}fc&&f===fc.prototype.fa.ck?h.unshift({method:f,Ul:[[a,b]]}):h.push({method:f,Ul:[[a,b]]})}};xb=d;e.prototype.Mv=function(){return this.fc?this.type.F.length:this.F.length};e.prototype.kg=function(){return this.fc?this.type.F:this.F};e.prototype.Om=function(a){a&&(a.c.Sd().sf.wg?(this.fc&&(this.F.length=
0,Aa(this.Va,a.type.F),this.fc=!1),a=this.Va.indexOf(a),-1!==a&&(this.F.push(this.Va[a]),this.Va.splice(a,1))):(this.fc=!1,this.F.length=1,this.F[0]=a))};gb=e;window._c2hh_="";f.prototype.Sb=function(a){var c,d=this.parent;if(this.group)for(this.Wp=!0;d;){if(!d.group){this.Wp=!1;break}d=d.parent}this.Ot=!this.cw()&&(!this.parent||this.parent.group&&this.parent.Wp);this.Ov=!!a;this.xi=this.Tb.slice(0);for(d=this.parent;d;){a=0;for(c=d.Tb.length;a<c;a++)this.Mz(d.Tb[a]);d=d.parent}this.Tb=b(this.Tb);
this.xi=b(this.xi);a=0;for(c=this.Yc.length;a<c;a++)this.Yc[a].Sb();a=0;for(c=this.nf.length;a<c;a++)this.nf[a].Sb();a=0;for(c=this.ef.length;a<c;a++)this.ef[a].Sb(a<c-1&&this.ef[a+1].Lo)};f.prototype.Ou=function(a){g(a,this.Tb)};f.prototype.Mz=function(a){g(a,this.xi)};f.prototype.Gp=function(){this.Ix=!0;this.parent&&this.parent.Gp()};f.prototype.cw=function(){return this.Yc.length?this.Yc[0].trigger:!1};f.prototype.sc=function(){var a,b=!1,c,d=this.c,e=this.c.Sd();e.sf=this;var h=this.Yc;this.Lo||
(e.hr=!1);if(this.wg){0===h.length&&(b=!0);e.Ed=0;for(a=h.length;e.Ed<a;e.Ed++)h[e.Ed].trigger||(c=h[e.Ed].sc())&&(b=!0);(e.tj=b)&&this.pt()}else{e.Ed=0;for(a=h.length;e.Ed<a;e.Ed++)if(c=h[e.Ed].sc(),!c){e.tj=!1;this.Ot&&d.Xh&&d.Tc();return}e.tj=!0;this.pt()}this.JA(e)};f.prototype.JA=function(a){a.tj&&this.Ov&&(a.hr=!0);this.Ot&&this.c.Xh&&this.c.Tc()};f.prototype.pD=function(a){this.c.Sd().sf=this;this.Yc[a].sc()&&(this.pt(),this.c.Sd().tj=!0)};f.prototype.pt=function(){var a=this.c.Sd(),b;a.Ne=
0;for(b=this.nf.length;a.Ne<b;a.Ne++)if(this.nf[a.Ne].sc())return;this.ux()};f.prototype.nD=function(){var a=this.c.Sd(),b;for(b=this.nf.length;a.Ne<b;a.Ne++)if(this.nf[a.Ne].sc())return;this.ux()};f.prototype.ux=function(){if(this.ef.length){var a,b,c,d,e=this.ef.length-1;this.c.et(this);if(this.Ix)for(a=0,b=this.ef.length;a<b;a++)c=this.ef[a],(d=!this.Wp||!this.group&&a<e)&&this.c.dt(c.Tb),c.sc(),d?this.c.Wk(c.Tb):this.c.Tq(c.Tb);else for(a=0,b=this.ef.length;a<b;a++)this.ef[a].sc();this.c.cx()}};
f.prototype.qD=function(){var a=this.c.Sd();a.sf=this;var b=!1,c;a.Ed=0;for(c=this.Yc.length;a.Ed<c;a.Ed++)if(this.Yc[a.Ed].sc())b=!0;else if(!this.wg)return!1;return this.wg?b:!0};f.prototype.kC=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Yc[b].type===a.type)return!1;return!0};Pb=f;k.prototype.Sb=function(){var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Sb(),c.ff&&(this.Gl=!0)};k.prototype.sD=function(){return!0};k.prototype.tt=function(){var a,b;a=0;for(b=this.ua.length;a<
b;a++)this.eb[a]=this.ua[a].get();return Oa(this.Kc.apply(this.c.Dg,this.eb),this.Or)};k.prototype.rD=function(){var a,b;a=0;for(b=this.ua.length;a<b;a++)this.eb[a]=this.ua[a].get();a=this.Kc.apply(this.Wi?this.Wi:this.type,this.eb);this.type.Vi();return a};k.prototype.qt=function(){var a,b,c,d,e,h,f,g,l=this.type,k=l.Eb(),m=this.le.wg&&!this.trigger;b=0;var q=l.Af,r=l.za,n=l.Wg,s=this.Oe,u=-1<s,X=this.Gl,M=this.ua,J=this.eb,K=this.Or,N=this.Kc,I;if(X)for(b=0,e=M.length;b<e;++b)h=M[b],h.ff||(J[b]=
h.get(0));else for(b=0,e=M.length;b<e;++b)J[b]=M[b].get(0);if(k.fc){k.F.length=0;k.Va.length=0;I=l.F;a=0;for(d=I.length;a<d;++a){g=I[a];if(X)for(b=0,e=M.length;b<e;++b)h=M[b],h.ff&&(J[b]=h.get(a));u?(b=0,r&&(b=g.type.qk[n]),b=N.apply(g.ra[s+b],J)):b=N.apply(g,J);(f=Oa(b,K))?k.F.push(g):m&&k.Va.push(g)}l.finish&&l.finish(!0);k.fc=!1;l.Vi();return k.Mv()}c=0;I=(f=m&&!this.le.kC(this))?k.Va:k.F;var S=!1;a=0;for(d=I.length;a<d;++a){g=I[a];if(X)for(b=0,e=M.length;b<e;++b)h=M[b],h.ff&&(J[b]=h.get(a));u?
(b=0,r&&(b=g.type.qk[n]),b=N.apply(g.ra[s+b],J)):b=N.apply(g,J);if(Oa(b,K))if(S=!0,f){if(k.F.push(g),q)for(b=0,e=g.siblings.length;b<e;b++)h=g.siblings[b],h.type.Eb().F.push(h)}else{I[c]=g;if(q)for(b=0,e=g.siblings.length;b<e;b++)h=g.siblings[b],h.type.Eb().F[c]=h;c++}else if(f){I[c]=g;if(q)for(b=0,e=g.siblings.length;b<e;b++)h=g.siblings[b],h.type.Eb().Va[c]=h;c++}else if(m&&(k.Va.push(g),q))for(b=0,e=g.siblings.length;b<e;b++)h=g.siblings[b],h.type.Eb().Va.push(h)}I.length=c;if(q)for(r=l.Qd,a=0,
d=r.length;a<d;a++)g=r[a].Eb(),f?g.Va.length=c:g.F.length=c;c=S;if(f&&!S)for(a=0,d=k.F.length;a<d;a++){g=k.F[a];if(X)for(b=0,e=M.length;b<e;b++)h=M[b],h.ff&&(J[b]=h.get(a));b=u?N.apply(g.ra[s],J):N.apply(g,J);if(Oa(b,K)){S=!0;break}}l.finish&&l.finish(c||m);return m?S:k.Mv()};Lb=k;n.prototype.Sb=function(){var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Sb(),c.ff&&(this.Gl=!0)};n.prototype.tt=function(){var a,b;a=0;for(b=this.ua.length;a<b;a++)this.eb[a]=this.ua[a].get();return this.Kc.apply(this.c.Dg,
this.eb)};n.prototype.qt=function(){var a=this.type.Eb().kg(),b=this.type.za,c=this.type.Wg,d=this.Oe,e=-1<d,h=this.Gl,f=this.ua,g=this.eb,l=this.Kc,k,m,q,r,n,s;if(h)for(m=0,r=f.length;m<r;++m)n=f[m],n.ff||(g[m]=n.get(0));else for(m=0,r=f.length;m<r;++m)g[m]=f[m].get(0);k=0;for(q=a.length;k<q;++k){s=a[k];if(h)for(m=0,r=f.length;m<r;++m)n=f[m],n.ff&&(g[m]=n.get(k));e?(m=0,b&&(m=s.type.qk[c]),l.apply(s.ra[d+m],g)):l.apply(s,g)}return!1};Mb=n;var s=[],u=-1;m.prototype.Sb=function(){var a,b;if(11===this.type)this.fj=
this.c.Dv(this.dn,this.le.parent);else if(13===this.type)for(a=0,b=this.Pj.length;a<b;a++)this.Pj[a].Sb();this.hg&&this.hg.Sb()};m.prototype.SC=function(a){this.ff||!a||a.Mc.Jp||(this.ff=!0)};m.prototype.Bx=function(){this.ff=!0};m.prototype.rc=function(){u++;s.length===u&&s.push(new Rb);return s[u]};m.prototype.ec=function(){u--};m.prototype.MB=function(a){this.yi=a||0;a=this.rc();this.hg.get(a);this.ec();return a.data};m.prototype.NB=function(a){this.yi=a||0;a=this.rc();this.hg.get(a);this.ec();
return v(a.data)?a.data:""};m.prototype.TB=function(){return this.object};m.prototype.KB=function(){return this.jv};m.prototype.RB=function(a){this.yi=a||0;a=this.rc();this.hg.get(a);this.ec();return a.Bc()?this.c.yB(a.data):this.c.xB(a.data)};m.prototype.SB=function(){return this.qc};m.prototype.QB=function(){return this.key};m.prototype.PB=function(){return this.index};m.prototype.OB=function(a){a=a||0;var b=this.da.type,c=null,c=b.Eb(),d=c.kg();if(d.length)c=d[a%d.length].type;else if(c.Va.length)c=
c.Va[a%c.Va.length].type;else if(b.F.length)c=b.F[a%b.F.length].type;else return 0;return this.index+c.oo[b.Wg]};m.prototype.LB=function(){return this.fj};m.prototype.JB=function(){return this.yv};m.prototype.UB=function(){var a,b;a=0;for(b=this.Pj.length;a<b;a++)this.cn[a]=this.Pj[a].get();return this.cn};Nb=m;l.prototype.Sb=function(){this.Tb=b(this.Tb)};l.prototype.wD=function(a){var b=this.c.Cv();this.parent&&!this.km&&b?(this.zj>=b.length&&(b.length=this.zj+1),b[this.zj]=a):this.data=a};l.prototype.IB=
function(){var a=this.c.Cv();return!this.parent||this.km||!a||this.Ko?this.data:this.zj>=a.length||"undefined"===typeof a[this.zj]?this.Kr:a[this.zj]};l.prototype.sc=function(){!this.parent||this.km||this.Ko||this.wD(this.Kr)};Hb=l;h.prototype.toString=function(){return"include:"+this.em.toString()};h.prototype.Sb=function(){this.em=this.c.kr[this.aC];this.sheet.Pv.add(this);this.Tb=b(this.Tb);for(var a=this.parent;a;)a.group&&a.kv.push(this),a=a.parent;this.GD()};h.prototype.sc=function(){this.parent&&
this.c.Sm(this.c.U);this.em.Fr||this.em.sc(!0);this.parent&&this.c.Wk(this.c.U)};h.prototype.GD=function(){for(var a=this.parent;a;){if(a.group&&!a.Fo){this.Xc=!1;return}a=a.parent}this.Xc=!0};Qb=h;q.prototype.reset=function(a){this.sf=a;this.Ne=this.Ed=0;this.Mx.length=0;this.hr=this.tj=!1};Gb=q})();
(function(){function a(a,c){this.da=a;this.c=a.c;this.type=c[0];this.get=[this.WA,this.SA,this.dB,this.gB,this.MA,this.eB,this.$A,this.PA,this.ZA,this.cB,this.NA,this.bB,this.QA,this.aB,this.XA,this.YA,this.TA,this.UA,this.OA,this.fB,this.uv,this.VA,this.uv,this.RA][this.type];var e=null;this.Hd=this.ua=this.eb=this.Kc=this.Qp=this.Fc=this.first=this.value=null;this.Oe=-1;this.Zg=null;this.Zt=-1;this.fj=this.dn=null;this.Um=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new Ob(a,c[1]);break;case 18:this.first=new Ob(a,c[1]);this.Fc=new Ob(a,c[2]);this.Qp=new Ob(a,c[3]);break;case 19:this.Kc=this.c.Hh(c[1]);this.Kc!==dc.prototype.Se.random&&this.Kc!==dc.prototype.Se.Zz||this.da.Bx();this.eb=[];this.ua=[];3===c.length?(e=c[2],this.eb.length=e.length+1):this.eb.length=1;break;case 20:this.Hd=this.c.U[c[1]];this.Oe=-1;this.Kc=this.c.Hh(c[2]);this.Um=c[3];Ub.Function&&this.Kc===Ub.Function.prototype.Se.YD&&this.da.Bx();this.Zg=c[4]?new Ob(a,c[4]):null;this.eb=[];this.ua=
[];6===c.length?(e=c[5],this.eb.length=e.length+1):this.eb.length=1;break;case 21:this.Hd=this.c.U[c[1]];this.Um=c[2];this.Zg=c[3]?new Ob(a,c[3]):null;this.Zt=c[4];break;case 22:this.Hd=this.c.U[c[1]];this.Hd.xo(c[2]);this.Oe=this.Hd.Ar(c[2]);this.Kc=this.c.Hh(c[3]);this.Um=c[4];this.Zg=c[5]?new Ob(a,c[5]):null;this.eb=[];this.ua=[];7===c.length?(e=c[6],this.eb.length=e.length+1):this.eb.length=1;break;case 23:this.dn=c[1],this.fj=null}this.da.SC(this.Hd);4<=this.type&&17>=this.type&&(this.first=
new Ob(a,c[1]),this.Fc=new Ob(a,c[2]));if(e){var f,g;f=0;for(g=e.length;f<g;f++)this.ua.push(new Ob(a,e[f]))}}function c(a,c){this.type=a||Sb.bk;this.data=c||0;this.Tk=null;this.type==Sb.bk&&(this.data=Math.floor(this.data))}a.prototype.Sb=function(){23===this.type&&(this.fj=this.da.c.Dv(this.dn,this.da.le.parent));this.first&&this.first.Sb();this.Fc&&this.Fc.Sb();this.Qp&&this.Qp.Sb();this.Zg&&this.Zg.Sb();if(this.ua){var a,c;a=0;for(c=this.ua.length;a<c;a++)this.ua[a].Sb()}};a.prototype.fB=function(a){this.eb[0]=
a;a=this.da.rc();var c,e;c=0;for(e=this.ua.length;c<e;c++)this.ua[c].get(a),this.eb[c+1]=a.data;this.da.ec();this.Kc.apply(this.c.Dg,this.eb)};a.prototype.uv=function(a){var c=this.Hd.Eb(),e=c.kg();if(!e.length)if(c.Va.length)e=c.Va;else{this.Um?a.Ee(""):a.fb(0);return}this.eb[0]=a;a.Tk=this.Hd;a=this.da.rc();var f,c=0;for(f=this.ua.length;c<f;c++)this.ua[c].get(a),this.eb[c+1]=a.data;c=this.da.yi;this.Zg&&(this.Zg.get(a),a.Bc()&&(c=a.data,e=this.Hd.F));this.da.ec();c%=e.length;0>c&&(c+=e.length);
e=e[c];-1<this.Oe?(a=0,this.Hd.za&&(a=e.type.qk[this.Hd.Wg]),this.Kc.apply(e.ra[this.Oe+a],this.eb)):this.Kc.apply(e,this.eb)};a.prototype.VA=function(a){var c=this.Hd.Eb(),e=c.kg();if(!e.length)if(c.Va.length)e=c.Va;else{this.Um?a.Ee(""):a.fb(0);return}c=this.da.yi;if(this.Zg){var f=this.da.rc();this.Zg.get(f);if(f.Bc()){c=f.data;e=this.Hd.F;c%=e.length;0>c&&(c+=e.length);e=e[c].pc[this.Zt];v(e)?a.Ee(e):a.Da(e);this.da.ec();return}this.da.ec()}c%=e.length;0>c&&(c+=e.length);e=e[c];c=0;this.Hd.za&&
(c=e.type.oo[this.Hd.Wg]);e=e.pc[this.Zt+c];v(e)?a.Ee(e):a.Da(e)};a.prototype.WA=function(a){a.type=Sb.bk;a.data=this.value};a.prototype.SA=function(a){a.type=Sb.Xj;a.data=this.value};a.prototype.dB=function(a){a.type=Sb.String;a.data=this.value};a.prototype.gB=function(a){this.first.get(a);a.Bc()&&(a.data=-a.data)};a.prototype.MA=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.Bc()&&c.Bc()&&(a.data+=c.data,c.xk()&&a.Ok());this.da.ec()};a.prototype.eB=function(a){this.first.get(a);
var c=this.da.rc();this.Fc.get(c);a.Bc()&&c.Bc()&&(a.data-=c.data,c.xk()&&a.Ok());this.da.ec()};a.prototype.$A=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.Bc()&&c.Bc()&&(a.data*=c.data,c.xk()&&a.Ok());this.da.ec()};a.prototype.PA=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.Bc()&&c.Bc()&&(a.data/=c.data,a.Ok());this.da.ec()};a.prototype.ZA=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.Bc()&&c.Bc()&&(a.data%=c.data,c.xk()&&a.Ok());this.da.ec()};
a.prototype.cB=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.Bc()&&c.Bc()&&(a.data=Math.pow(a.data,c.data),c.xk()&&a.Ok());this.da.ec()};a.prototype.NA=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.Bc()?c.Mo()?a.Ee(a.data.toString()+c.data):a.data&&c.data?a.fb(1):a.fb(0):a.Mo()&&(a.data=c.Mo()?a.data+c.data:a.data+(Math.round(1E10*c.data)/1E10).toString());this.da.ec()};a.prototype.bB=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.Bc()&&c.Bc()&&
(a.data||c.data?a.fb(1):a.fb(0));this.da.ec()};a.prototype.OA=function(a){this.first.get(a);a.data?this.Fc.get(a):this.Qp.get(a)};a.prototype.QA=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.fb(a.data===c.data?1:0);this.da.ec()};a.prototype.aB=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.fb(a.data!==c.data?1:0);this.da.ec()};a.prototype.XA=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.fb(a.data<c.data?1:0);this.da.ec()};a.prototype.YA=function(a){this.first.get(a);
var c=this.da.rc();this.Fc.get(c);a.fb(a.data<=c.data?1:0);this.da.ec()};a.prototype.TA=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.fb(a.data>c.data?1:0);this.da.ec()};a.prototype.UA=function(a){this.first.get(a);var c=this.da.rc();this.Fc.get(c);a.fb(a.data>=c.data?1:0);this.da.ec()};a.prototype.RA=function(a){var c=this.fj.IB();ka(c)?a.Da(c):a.Ee(c)};Ob=a;c.prototype.xk=function(){return this.type===Sb.Xj};c.prototype.Bc=function(){return this.type===Sb.bk||this.type===Sb.Xj};
c.prototype.Mo=function(){return this.type===Sb.String};c.prototype.Ok=function(){this.xk()||(this.Mo()&&(this.data=parseFloat(this.data)),this.type=Sb.Xj)};c.prototype.fb=function(a){this.type=Sb.bk;this.data=Math.floor(a)};c.prototype.Da=function(a){this.type=Sb.Xj;this.data=a};c.prototype.Ee=function(a){this.type=Sb.String;this.data=a};c.prototype.xD=function(a){ka(a)?(this.type=Sb.Xj,this.data=a):v(a)?(this.type=Sb.String,this.data=a.toString()):(this.type=Sb.bk,this.data=0)};Rb=c;Sb={bk:0,Xj:1,
String:2}})();function dc(a){this.c=a;this.fe=[]}
dc.prototype.Bd=function(){var a={},c,b,d,e,f,g,k,n;a.waits=[];var m=a.waits,l;c=0;for(b=this.fe.length;c<b;c++){g=this.fe[c];l={t:g.time,st:g.yD,s:g.Gx,ev:g.Sl.Ka,sm:[],sols:{}};g.Sl.nf[g.Ne]&&(l.act=g.Sl.nf[g.Ne].Ka);d=0;for(e=g.Tb.length;d<e;d++)l.sm.push(g.Tb[d].Ka);for(f in g.ae)if(g.ae.hasOwnProperty(f)){k=this.c.U[parseInt(f,10)];n={sa:g.ae[f].yx,insts:[]};d=0;for(e=g.ae[f].kj.length;d<e;d++)n.insts.push(g.ae[f].kj[d].uid);l.sols[k.Ka.toString()]=n}m.push(l)}return a};
dc.prototype.Wd=function(a){a=a.waits;var c,b,d,e,f,g,k,n,m,l,h;c=this.fe.length=0;for(b=a.length;c<b;c++)if(g=a[c],n=this.c.Zu[g.ev.toString()]){m=-1;d=0;for(e=n.nf.length;d<e;d++)if(n.nf[d].Ka===g.act){m=d;break}if(-1!==m){k={ae:{},Tb:[],qv:!1};k.time=g.t;k.yD=g.st||"";k.Gx=!!g.s;k.Sl=n;k.Ne=m;d=0;for(e=g.sm.length;d<e;d++)(n=this.c.Co(g.sm[d]))&&k.Tb.push(n);for(f in g.sols)if(g.sols.hasOwnProperty(f)&&(n=this.c.Co(parseInt(f,10)))){m=g.sols[f];l={yx:m.sa,kj:[]};d=0;for(e=m.insts.length;d<e;d++)(h=
this.c.Vh(m.insts[d]))&&l.kj.push(h);k.ae[n.index.toString()]=l}this.fe.push(k)}}};
(function(){function a(){}function c(){}var b=dc.prototype;a.prototype.tu=function(){return!0};a.prototype.kz=function(){return!0};a.prototype.Hy=function(){var a=this.c.Sd();return a.hr?!1:!a.tj};a.prototype.uu=function(){return!0};a.prototype.az=function(){return!0};a.prototype.wq=function(){return!0};a.prototype.lz=function(){return!0};a.prototype.vq=function(){return!0};a.prototype.uy=function(a,b,c){return Ka(w(a),w(c))<=w(b)};a.prototype.Py=function(a,b){return Ma(w(a),w(b))};a.prototype.Oy=
function(a,b,c){a=Ia(a);b=Ia(b);c=Ia(c);return Ma(c,b)?Ma(a,b)&&!Ma(a,c):!(!Ma(a,b)&&Ma(a,c))};b.fa=new a;var d=[],e=[];b.Nd=new function(){};c.prototype["int"]=function(a,b){v(b)?(a.fb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.fb(b)};c.prototype["float"]=function(a,b){v(b)?(a.Da(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.Da(b)};c.prototype.random=function(a,b,c){void 0===c?a.Da(Math.random()*b):a.Da(Math.random()*(c-b)+b)};c.prototype.sqrt=function(a,b){a.Da(Math.sqrt(b))};c.prototype.abs=function(a,
b){a.Da(Math.abs(b))};c.prototype.round=function(a,b){a.fb(Math.round(b))};c.prototype.floor=function(a,b){a.fb(Math.floor(b))};c.prototype.ceil=function(a,b){a.fb(Math.ceil(b))};c.prototype.sin=function(a,b){a.Da(Math.sin(w(b)))};c.prototype.cos=function(a,b){a.Da(Math.cos(w(b)))};c.prototype.tan=function(a,b){a.Da(Math.tan(w(b)))};c.prototype.asin=function(a,b){a.Da(Ea(Math.asin(b)))};c.prototype.acos=function(a,b){a.Da(Ea(Math.acos(b)))};c.prototype.atan=function(a,b){a.Da(Ea(Math.atan(b)))};c.prototype.exp=
function(a,b){a.Da(Math.exp(b))};c.prototype.log10=function(a,b){a.Da(Math.log(b)/Math.LN10)};c.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.Da(b)};c.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.Da(b)};c.prototype.wa=function(a){a.Da(this.c.wa)};c.prototype.Di=
function(a){a.Da(this.c.Di)};c.prototype.time=function(a){a.Da(this.c.pj.Pc)};c.prototype.Ci=function(a){a.fb(this.c.Ci)};c.prototype.up=function(a){a.fb(this.c.up)};c.prototype.tr=function(a){a.fb(this.c.tr)};c.prototype.Sg=function(a,b,c,d,e){a.Da(Na(b,c,d,e))};c.prototype.M=function(a,b,c,d,e){a.Da(Ea(Ja(b,c,d,e)))};c.prototype.find=function(a,b,c){v(b)&&v(c)?a.fb(b.search(new RegExp(Wa(c),"i"))):a.fb(-1)};c.prototype.left=function(a,b,c){a.Ee(v(b)?b.substr(0,c):"")};c.prototype.right=function(a,
b,c){a.Ee(v(b)?b.substr(b.length-c):"")};c.prototype.replace=function(a,b,c,d){v(b)&&v(c)&&v(d)?a.Ee(b.replace(new RegExp(Wa(c),"gi"),d)):a.Ee(v(b)?b:"")};c.prototype.trim=function(a,b){a.Ee(v(b)?b.trim():"")};c.prototype.Zz=function(a){var b=qa(Math.random()*(arguments.length-1));a.xD(arguments[b+1])};c.prototype.Yq=function(a){a.Da(this.c.Yq/1E3)};c.prototype.bp=function(a){a.Da(this.c.bp)};b.Se=new c;b.oD=function(){var a,b,c,n,m,l,h=this.c.Sd();a=0;for(c=this.fe.length;a<c;a++){n=this.fe[a];if(-1===
n.time){if(!n.Gx)continue}else if(n.time>this.c.pj.Pc)continue;h.sf=n.Sl;h.Ne=n.Ne;h.Ed=0;for(b in n.ae)n.ae.hasOwnProperty(b)&&(m=this.c.U[parseInt(b,10)].Eb(),l=n.ae[b],m.fc=l.yx,Aa(m.F,l.kj),m=l,m.kj.length=0,e.push(m));n.Sl.nD();this.c.Tq(n.Tb);n.qv=!0}b=a=0;for(c=this.fe.length;a<c;a++)n=this.fe[a],this.fe[b]=n,n.qv?(Qa(n.ae),n.Tb.length=0,d.push(n)):b++;this.fe.length=b}})();
(function(){fb=function(a,b){var d=a[1],e=a[3],f=a[4],g=a[5],k=a[6],n=a[7],m=a[8];b.fa||(b.fa={});b.Nd||(b.Nd={});b.Se||(b.Se={});var l=b.fa,h=b.Nd,q=b.Se;e&&(l.cE=function(a,b){return Tb(this.x,a,b)},l.dE=function(a,b){return Tb(this.y,a,b)},l.jE=function(){var a=this.S;this.gb();var b=this.Wb;return!(b.right<a.Mb||b.bottom<a.Nb||b.left>a.hc||b.top>a.gc)},l.kE=function(){this.gb();var a=this.Wb,b=this.c.Bb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},l.zE=function(a,b,c){var d=this.Eb(),
e=d.kg();if(!e.length)return!1;var h=e[0],f=h,g=Na(h.x,h.y,b,c),l,m,k;l=1;for(m=e.length;l<m;l++)if(h=e[l],k=Na(h.x,h.y,b,c),0===a&&k<g||1===a&&k>g)g=k,f=h;d.Om(f);return!0},h.VE=function(a){this.x!==a&&(this.x=a,this.W())},h.WE=function(a){this.y!==a&&(this.y=a,this.W())},h.PE=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.W()},h.QE=function(a,b){var c=a.AB(this);if(c){var d;c.jg?(d=c.jg(b,!0),c=c.jg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.W()}},h.rE=
function(a){0!==a&&(this.x+=Math.cos(this.M)*a,this.y+=Math.sin(this.M)*a,this.W())},h.qE=function(a,b){0!==b&&(this.x+=Math.cos(w(a))*b,this.y+=Math.sin(w(a))*b,this.W())},q.bF=function(a){a.Da(this.x)},q.cF=function(a){a.Da(this.y)},q.wa=function(a){a.Da(this.c.yo(this))});f&&(l.bE=function(a,b){return Tb(this.width,a,b)},l.ZD=function(a,b){return Tb(this.height,a,b)},h.UE=function(a){this.width!==a&&(this.width=a,this.W())},h.ME=function(a){this.height!==a&&(this.height=a,this.W())},h.RE=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.W()},q.aF=function(a){a.Da(this.width)},q.fE=function(a){a.Da(this.height)},q.VD=function(a){this.gb();a.Da(this.Wb.left)},q.XD=function(a){this.gb();a.Da(this.Wb.top)},q.WD=function(a){this.gb();a.Da(this.Wb.right)},q.UD=function(a){this.gb();a.Da(this.Wb.bottom)});g&&(l.uy=function(a,b){return Ka(this.M,w(b))<=w(a)},l.Py=function(a){return Ma(this.M,w(a))},l.Oy=function(a,b){var c=Ia(a),d=Ia(b),e=Ga(this.M);return Ma(d,c)?Ma(e,
c)&&!Ma(e,d):!(!Ma(e,c)&&Ma(e,d))},h.En=function(a){a=w(Fa(a));isNaN(a)||this.M===a||(this.M=a,this.W())},h.FE=function(a){0===a||isNaN(a)||(this.M+=w(a),this.M=Ga(this.M),this.W())},h.GE=function(a){0===a||isNaN(a)||(this.M-=w(a),this.M=Ga(this.M),this.W())},h.HE=function(a,b){var c=La(this.M,w(b),w(a));isNaN(c)||this.M===c||(this.M=c,this.W())},h.IE=function(a,b,c){a=La(this.M,Math.atan2(c-this.y,b-this.x),w(a));isNaN(a)||this.M===a||(this.M=a,this.W())},h.SE=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);isNaN(c)||this.M===c||(this.M=c,this.W())},q.OD=function(a){a.Da(Ha(this.M))});d||(l.$D=function(a,b,c){return Tb(this.pc[a],b,c)},l.hE=function(a){return this.pc[a]},l.AE=function(a,b){var c=this.Eb(),d=c.kg();if(!d.length)return!1;var e=d[0],h=e,f=e.pc[b],g,l,m;g=1;for(l=d.length;g<l;g++)if(e=d[g],m=e.pc[b],0===a&&m<f||1===a&&m>f)f=m,h=e;c.Om(h);return!0},l.yE=function(a){var b,c,d,e,h;if(this.c.sB().Or){h=this.Eb();if(h.fc)for(h.fc=!1,h.F.length=0,h.Va.length=0,d=this.F,b=0,c=d.length;b<
c;b++)e=d[b],e.uid===a?h.Va.push(e):h.F.push(e);else{d=b=0;for(c=h.F.length;b<c;b++)e=h.F[b],h.F[d]=e,e.uid===a?h.Va.push(e):d++;h.F.length=d}this.Vi();return!!h.F.length}e=this.c.Vh(a);if(!e)return!1;h=this.Eb();if(!h.fc&&-1===h.F.indexOf(e))return!1;if(this.za)for(a=e.type.Db,b=0,c=a.length;b<c;b++){if(a[b]===this)return h.Om(e),this.Vi(),!0}else if(e.type===this)return h.Om(e),this.Vi(),!0;return!1},l.bz=function(){return!0},l.cz=function(){return!0},h.NE=function(a,b){var c=this.pc;ka(c[a])?c[a]=
ka(b)?b:parseFloat(b):v(c[a])&&(c[a]=v(b)?b:b.toString())},h.ND=function(a,b){var c=this.pc;ka(c[a])?c[a]=ka(b)?c[a]+b:c[a]+parseFloat(b):v(c[a])&&(c[a]=v(b)?c[a]+b:c[a]+b.toString())},h.XE=function(a,b){var c=this.pc;ka(c[a])&&(c[a]=ka(b)?c[a]-b:c[a]-parseFloat(b))},h.JE=function(a,b){this.pc[a]=b?1:0},h.ZE=function(a){this.pc[a]=1-this.pc[a]},h.Cd=function(){this.c.Wj(this)},h.Sy||(h.Sy=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.c.Zo(this,b,!0);this.ag&&this.ag();if(this.ra)for(a=
0,b=this.ra.length;a<b;++a)c=this.ra[a],c.ag&&c.ag()}),q.eE=function(a){var b=a.Tk.F.length,c,d,e;c=0;for(d=this.c.rf.length;c<d;c++)e=this.c.rf[c],a.Tk.za?0<=e.type.Db.indexOf(a.Tk)&&b++:e.type===a.Tk&&b++;a.fb(b)},q.CE=function(a){a.fb(a.Tk.Eb().kg().length)},q.$E=function(a){a.fb(this.uid)},q.gE=function(a){a.fb(this.Zl())},q.wy||(q.wy=function(a){a.Ee(JSON.stringify(this.c.ut(this,!0)))}));k&&(l.mE=function(){return this.visible},h.TE=function(a){!a!==!this.visible&&(this.visible=a,this.c.lb=
!0)},l.aE=function(a,b){return Tb(bb(100*this.opacity),a,b)},h.OE=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.c.lb=!0)},q.Opacity=function(a){a.Da(bb(100*this.opacity))});n&&(l.iE=function(a){return a?this.S===a:!1},l.BE=function(a){var b=this.Eb(),c=b.kg();if(!c.length)return!1;var d=c[0],e=d,h,f;h=1;for(f=c.length;h<f;h++)if(d=c[h],0===a){if(d.S.index>e.S.index||d.S.index===e.S.index&&d.lg()>e.lg())e=d}else if(d.S.index<e.S.index||d.S.index===e.S.index&&d.lg()<e.lg())e=
d;b.Om(e);return!0},h.uE=function(){var a=this.S,b=a.F;b.length&&b[b.length-1]===this||(a.Yk(this,!1),a.Il(this,!1),this.c.lb=!0)},h.sE=function(){var a=this.S,b=a.F;b.length&&b[0]===this||(a.Yk(this,!1),a.gD(this),this.c.lb=!0)},h.tE=function(a){a&&a!=this.S&&(this.S.Yk(this,!0),this.S=a,a.Il(this,!0),this.c.lb=!0)},h.eF=function(a,b){var c=0===a;if(b){var d=b.Ev(this);d&&d.uid!==this.uid&&(this.S.index!==d.S.index&&(this.S.Yk(this,!0),this.S=d.S,d.S.Il(this,!0)),this.S.XC(this,d,c),this.c.lb=!0)}},
q.oE=function(a){a.fb(this.S.Tw)},q.nE=function(a){a.Ee(this.S.name)},q.dF=function(a){a.fb(this.lg())});m&&(h.KE=function(a,b){if(this.c.ca){var c=this.type.Cr(b);if(!(0>c)){var d=1===a;this.Kh[c]!==d&&(this.Kh[c]=d,this.Ah(),this.c.lb=!0)}}},h.LE=function(a,b,c){if(this.c.ca){var d=this.type.Cr(a);0>d||(a=this.type.oa[d],d=this.Gb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.c.ca.DB(a.Oc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Xc&&(this.c.lb=!0))))}})};yb=function(){this.Qq=this.Mq=!0;this.type.Hn=!0;
this.c.lb=!0;var a,b,d=this.Nq;a=0;for(b=d.length;a<b;++a)d[a](this);this.S.Rf&&this.gb()};zb=function(a){a&&this.Nq.push(a)};Bb=function(){if(this.Mq){var a=this.Wb,b=this.Cb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Td*this.width,-this.Ud*this.height);this.M?(a.offset(-this.x,-this.y),b.Dx(a,this.M),b.offset(this.x,this.y),b.$u(a)):b.Wm(a);a.normalize();this.Mq=!1;this.ID()}};var a=new wa(0,0,0,0);Cb=function(){if(this.S.Rf){var c=this.S.$d,b=this.Wb;a.set(c.ie(b.left),
c.je(b.top),c.ie(b.right),c.je(b.bottom));this.Id.lo(a)||(this.Id.right<this.Id.left?c.update(this,null,a):c.update(this,this.Id,a),this.Id.ao(a),this.S.wh=!0)}};Db=function(){if(this.Qq&&this.Og){this.gb();var c=this.type.Wn,b=this.Wb;a.set(c.ie(b.left),c.je(b.top),c.ie(b.right),c.je(b.bottom));this.Qh.lo(a)||(this.Qh.right<this.Qh.left?c.update(this,null,a):c.update(this,this.Qh,a),this.Qh.ao(a),this.Qq=!1)}};Ab=function(a,b){return this.Wb.Rd(a,b)&&this.Cb.Rd(a,b)?this.Fa&&!this.Fa.oj()?(this.Fa.Oh(this.width,
this.height,this.M),this.Fa.Rd(a-this.x,b-this.y)):!0:!1};ub=function(){this.type.$p();return this.ij};Eb=function(){this.S.Vt();return this.Uf};Fb=function(){this.Ra.length=0;var a,b;a=0;for(b=this.Kh.length;a<b;a++)this.Kh[a]&&this.Ra.push(this.type.oa[a]);this.hy=!!this.Ra.length};vb=function(){return"Inst"+this.mx};ib=function(a){if(a&&a.Af&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],e.type==this)return e}a=this.Eb().kg();return a.length?a[0]:null};jb=function(a){var b=
this.Eb().kg();return b.length?b[a.Zl()%b.length]:null};hb=function(){if(this.dl&&!this.za){var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].ij=a;var d=a,e=this.c.rf;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].ij=d++);this.dl=!1}};sb=function(a){if(a<this.F.length)return this.F[a];a-=this.F.length;var b=this.c.rf,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};kb=function(){return this.Ai[this.Rg]};lb=function(){this.Rg++;this.Rg===this.Ai.length?
this.Ai.push(new gb(this)):this.Ai[this.Rg].fc=!0};mb=function(){this.Rg++;this.Rg===this.Ai.length&&this.Ai.push(new gb(this));var a=this.Ai[this.Rg],b=this.Ai[this.Rg-1];b.fc?a.fc=!0:(a.fc=!1,Aa(a.F,b.F),Aa(a.Va,b.Va))};nb=function(){this.Rg--};ob=function(a){var b,d,e,f,g,k=0;if(!this.za)for(b=0,d=this.Db.length;b<d;b++)for(g=this.Db[b],e=0,f=g.Xb.length;e<f;e++){if(a===g.Xb[e].name)return this.ja.lastBehIndex=k,g.Xb[e];k++}b=0;for(d=this.Xb.length;b<d;b++){if(a===this.Xb[b].name)return this.ja.lastBehIndex=
k,this.Xb[b];k++}return null};pb=function(a){return this.xo(a)?this.ja.lastBehIndex:-1};qb=function(a){var b,d;b=0;for(d=this.oa.length;b<d;b++)if(this.oa[b].name===a)return b;return-1};rb=function(){if(this.Af&&!this.za){var a,b,d,e,f,g,k;this.$p();g=this.Eb();var n=g.fc,m=(a=this.c.Sd())&&a.sf&&a.sf.wg;a=0;for(b=this.Qd.length;a<b;a++)if(f=this.Qd[a],f!==this&&(f.$p(),k=f.Eb(),k.fc=n,!n)){k.F.length=g.F.length;d=0;for(e=g.F.length;d<e;d++)k.F[d]=f.Fv(g.F[d].ij);if(m)for(k.Va.length=g.Va.length,
d=0,e=g.Va.length;d<e;d++)k.Va[d]=f.Fv(g.Va[d].ij)}}};tb=function(){return"Type"+this.Ka};Tb=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var bc={};function gc(a){this.c=a}
(function(){function a(){}var c=gc.prototype;c.Wc=function(a){this.Mc=a;this.c=a.c};c.Wc.prototype.rb=function(){};c.kc=function(a){this.type=a;this.c=a.c;this.Oo=Array(256);this.aq=Array(256);this.Fi=0};var b=c.kc.prototype;b.rb=function(){var a=this;this.c.$c||(jQuery(document).keydown(function(b){a.Rs(b)}),jQuery(document).keyup(function(b){a.Ss(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.Rs=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Oo[a.which])this.aq[a.which]&&!b&&a.preventDefault();else{this.Oo[a.which]=!0;this.Fi=a.which;this.c.Jo=!0;this.c.trigger(gc.prototype.fa.Zy,this);var c=this.c.trigger(gc.prototype.fa.fz,this),k=this.c.trigger(gc.prototype.fa.gz,this);this.c.Jo=!1;if(c||k)this.aq[a.which]=!0,b||a.preventDefault()}};b.Ss=function(a){this.Oo[a.which]=!1;this.Fi=a.which;this.c.Jo=!0;this.c.trigger(gc.prototype.fa.$y,this);var b=this.c.trigger(gc.prototype.fa.iz,this),c=this.c.trigger(gc.prototype.fa.hz,this);
this.c.Jo=!1;if(b||c||this.aq[a.which])this.aq[a.which]=!0,a.preventDefault()};b.Bd=function(){return{triggerKey:this.Fi}};b.Wd=function(a){this.Fi=a.triggerKey};a.prototype.Qy=function(a){return this.Oo[a]};a.prototype.fz=function(a){return a===this.Fi};a.prototype.Zy=function(){return!0};a.prototype.$y=function(){return!0};a.prototype.iz=function(a){return a===this.Fi};a.prototype.gz=function(a){return a===this.Fi};a.prototype.hz=function(a){return a===this.Fi};c.fa=new a;c.Nd=new function(){};
c.Se=new function(){}})();function fc(a){this.c=a}
(function(){function a(){if(0===this.dr.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.cl?b.drawImage(this.Ub,this.Uk,this.Vk,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ub,0,0,this.width,this.height);this.dr=a.toDataURL("image/png")}return this.dr}function c(){}function b(){}var d=fc.prototype;d.Wc=function(a){this.Mc=a;this.c=a.c};var e=d.Wc.prototype;e.rb=function(){if(!this.za){var b,c,d,e,f,g,k,p,n;
this.of=[];this.cm=!1;b=0;for(c=this.Od.length;b<c;b++){f=this.Od[b];k={};k.name=f[0];k.speed=f[1];k.loop=f[2];k.nt=f[3];k.Cp=f[4];k.ax=f[5];k.Ka=f[6];k.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],p={},p.It=g[0],p.Jt=g[1],p.Uk=g[2],p.Vk=g[3],p.width=g[4],p.height=g[5],p.duration=g[6],p.Td=g[7],p.Ud=g[8],p.Hr=g[9],p.wp=g[10],p.bx=g[11],p.cl=0!==p.width,p.dr="",p.iF=a,n={left:0,top:0,right:1,bottom:1},p.Dt=n,p.Ch=null,(n=this.c.jB(g[0]))?p.Ub=n:(p.Ub=new Image,p.Ub.aA=g[0],p.Ub.mv=g[1],p.Ub.Yz=
null,this.c.ky(p.Ub,g[0])),k.frames.push(p),this.of.push(p);this.Od[b]=k}}};e.by=function(){var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.eo=c.Qe.Ch};e.Us=function(){if(!this.za){var a,b,c;a=0;for(b=this.of.length;a<b;++a)c=this.of[a],c.Ub.Yz=null,c.Ch=null;this.cm=!1;this.by()}};e.Vs=function(){if(!this.za&&this.F.length){var a,b,c;a=0;for(b=this.of.length;a<b;++a)c=this.of[a],c.Ch=this.c.ca.nw(c.Ub,this.c.$a,c.bx);this.by()}};e.ow=function(){if(!this.za&&!this.cm&&this.c.ca){var a,b,c;
a=0;for(b=this.of.length;a<b;++a)c=this.of[a],c.Ch=this.c.ca.nw(c.Ub,this.c.$a,c.bx);this.cm=!0}};e.St=function(){if(!this.za&&!this.F.length&&this.cm){var a,b,c;a=0;for(b=this.of.length;a<b;++a)c=this.of[a],this.c.ca.deleteTexture(c.Ch),c.Ch=null;this.cm=!1}};var f=[];e.$s=function(a){var b,c,d;b=f.length=0;for(c=this.of.length;b<c;++b)d=this.of[b].Ub,-1===f.indexOf(d)&&(a.drawImage(d,0,0),f.push(d))};d.kc=function(a){this.type=a;this.c=a.c;a=this.type.Od[0].frames[0].wp;this.Zd?this.Fa.Xm(a):this.Fa=
new Xa(a)};var g=d.kc.prototype;g.rb=function(){this.visible=0===this.ya[0];this.Jr=this.Tr=!1;this.Og=0!==this.ya[3];1===this.type.Od.length&&1===this.type.Od[0].frames.length||0===this.type.Od[0].speed||(this.c.Ox(this),this.Tr=!0);this.nb=this.Bv(this.ya[1])||this.type.Od[0];this.X=this.ya[2];0>this.X&&(this.X=0);this.X>=this.nb.frames.length&&(this.X=this.nb.frames.length-1);var a=this.nb.frames[this.X];this.Fa.Xm(a.wp);this.Td=a.Td;this.Ud=a.Ud;this.Pl=this.nb.speed;this.Zd?this.bg.reset():this.bg=
new Va;this.Xg=this.bg.Pc;this.Ui=!0;this.Mg=0;this.Ti=!0;this.Vn=this.Ru="";this.hv=0;this.Rq=-1;this.type.ow();var b,c,d,e,f,g,k,a=0;for(b=this.type.Od.length;a<b;a++)for(e=this.type.Od[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Ub.width,f.height=f.Ub.height),f.cl&&(k=f.Ub,g=f.Dt,g.left=f.Uk/k.width,g.top=f.Vk/k.height,g.right=(f.Uk+f.width)/k.width,g.bottom=(f.Vk+f.height)/k.height,0===f.Uk&&0===f.Vk&&f.width===k.width&&f.height===k.height&&(f.cl=!1));this.Qe=this.nb.frames[this.X];
this.eo=this.Qe.Ch};g.Bd=function(){var a={a:this.nb.Ka,f:this.X,cas:this.Pl,fs:this.Xg,ar:this.Mg,at:this.bg.Pc};this.Ui||(a.ap=this.Ui);this.Ti||(a.af=this.Ti);return a};g.Wd=function(a){var b=this.oB(a.a);b&&(this.nb=b);this.X=a.f;0>this.X&&(this.X=0);this.X>=this.nb.frames.length&&(this.X=this.nb.frames.length-1);this.Pl=a.cas;this.Xg=a.fs;this.Mg=a.ar;this.bg.reset();this.bg.Pc=a.at;this.Ui=a.hasOwnProperty("ap")?a.ap:!0;this.Ti=a.hasOwnProperty("af")?a.af:!0;this.Qe=this.nb.frames[this.X];this.eo=
this.Qe.Ch;this.Fa.Xm(this.Qe.wp);this.Td=this.Qe.Td;this.Ud=this.Qe.Ud};g.Lq=function(a){this.X=a?0:this.nb.frames.length-1;this.Ui=!1;this.Ru=this.nb.name;this.Jr=!0;this.c.trigger(fc.prototype.fa.Yy,this);this.c.trigger(fc.prototype.fa.Xy,this);this.Jr=!1;this.Mg=0};g.kF=function(){return this.bg.Pc};g.Pf=function(){this.bg.add(this.c.yo(this));this.Vn.length&&this.rv();0<=this.Rq&&this.hA();var a=this.bg.Pc,b=this.nb,c=b.frames[this.X],d=c.duration/this.Pl;this.Ui&&a>=this.Xg+d&&(this.Ti?this.X++:
this.X--,this.Xg+=d,this.X>=b.frames.length&&(b.ax?(this.Ti=!1,this.X=b.frames.length-2):b.loop?this.X=b.Cp:(this.Mg++,this.Mg>=b.nt?this.Lq(!1):this.X=b.Cp)),0>this.X&&(b.ax?(this.X=1,this.Ti=!0,b.loop||(this.Mg++,this.Mg>=b.nt&&this.Lq(!0))):b.loop?this.X=b.Cp:(this.Mg++,this.Mg>=b.nt?this.Lq(!0):this.X=b.Cp)),0>this.X?this.X=0:this.X>=b.frames.length&&(this.X=b.frames.length-1),a>this.Xg+b.frames[this.X].duration/this.Pl&&(this.Xg=a),a=b.frames[this.X],this.ck(c,a),this.c.lb=!0)};g.Bv=function(a){var b,
c,d;b=0;for(c=this.type.Od.length;b<c;b++)if(d=this.type.Od[b],cb(d.name,a))return d;return null};g.oB=function(a){var b,c,d;b=0;for(c=this.type.Od.length;b<c;b++)if(d=this.type.Od[b],d.Ka===a)return d;return null};g.rv=function(){var a=this.nb.frames[this.X],b=this.Bv(this.Vn);this.Vn="";!b||cb(b.name,this.nb.name)&&this.Ui||(this.nb=b,this.Pl=b.speed,0>this.X&&(this.X=0),this.X>=this.nb.frames.length&&(this.X=this.nb.frames.length-1),1===this.hv&&(this.X=0),this.Ui=!0,this.Xg=this.bg.Pc,this.Ti=
!0,this.ck(a,this.nb.frames[this.X]),this.c.lb=!0)};g.hA=function(){var a=this.nb.frames[this.X],b=this.X;this.X=qa(this.Rq);0>this.X&&(this.X=0);this.X>=this.nb.frames.length&&(this.X=this.nb.frames.length-1);b!==this.X&&(this.ck(a,this.nb.frames[this.X]),this.Xg=this.bg.Pc,this.c.lb=!0);this.Rq=-1};g.ck=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Td=b.Td;this.Ud=b.Ud;this.Fa.Xm(b.wp);this.W();this.Qe=b;this.eo=b.Ch;c=0;for(d=
this.ra.length;c<d;c++)e=this.ra[c],e.bD&&e.bD(a,b);this.c.trigger(fc.prototype.fa.ck,this)};g.Rh=function(a){a.globalAlpha=this.opacity;var b=this.Qe,c=b.cl,d=b.Ub,e=this.x,f=this.y,g=this.width,k=this.height;if(0===this.M&&0<=g&&0<=k)e-=this.Td*g,f-=this.Ud*k,this.c.pi&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Uk,b.Vk,b.width,b.height,e,f,g,k):a.drawImage(d,e,f,g,k);else{this.c.pi&&(e=Math.round(e),f=Math.round(f));a.save();var n=0<g?1:-1,D=0<k?1:-1;a.translate(e,f);1===n&&1===D||a.scale(n,
D);a.rotate(this.M*n*D);e=0-this.Td*na(g);f=0-this.Ud*na(k);c?a.drawImage(d,b.Uk,b.Vk,b.width,b.height,e,f,na(g),na(k)):a.drawImage(d,e,f,na(g),na(k));a.restore()}};g.uf=function(a){a.De(this.eo);a.Zk(this.opacity);var b=this.Qe,c=this.Cb;if(this.c.pi){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.cl?a.qi(c.Qc+d,c.Rc+e,c.Ge+d,c.He+e,c.oe+d,c.pe+e,c.me+d,c.ne+e,b.Dt):a.yp(c.Qc+d,c.Rc+e,c.Ge+d,c.He+e,c.oe+d,c.pe+e,c.me+d,c.ne+e)}else b.cl?a.qi(c.Qc,c.Rc,c.Ge,c.He,c.oe,c.pe,c.me,c.ne,
b.Dt):a.yp(c.Qc,c.Rc,c.Ge,c.He,c.oe,c.pe,c.me,c.ne)};g.uB=function(a){var b=this.Qe,c,d;c=0;for(d=b.Hr.length;c<d;c++)if(cb(a,b.Hr[c][0]))return c;return-1};g.jg=function(a,b){var c=this.Qe,d=c.Hr,e;e=v(a)?this.uB(a):a-1;e=qa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Td)*this.width,d=d[e][2],d=(d-c.Ud)*this.height,c=Math.cos(this.M);e=Math.sin(this.M);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var k=new ba,n=!1;new wa(0,0,0,0);e.finish=function(a){if(n){if(a){var b=
this.c.Sd().sf.wg;a=null.Eb();var c=k.Tf(),d,e;if(a.fc){a.fc=!1;a.F.length=c.length;d=0;for(e=c.length;d<e;d++)a.F[d]=c[d];if(b)for(d=a.Va.length=0,e=null.F.length;d<e;d++)c=null.F[d],k.contains(c)||a.Va.push(c)}else if(b)for(b=a.F.length,a.F.length=b+c.length,d=0,e=c.length;d<e;d++)a.F[b+d]=c[d],Da(a.Va,c[d]);else Aa(a.F,c);null.Vi()}k.clear();n=!1}};c.prototype.Xy=function(a){return cb(this.Ru,a)};c.prototype.Yy=function(){return!0};c.prototype.ck=function(){return!0};d.fa=new c;b.prototype.qz=
function(a,b){this.Vn=a;this.hv=b;this.Tr||(this.c.Ox(this),this.Tr=!0);this.Jr||this.rv()};b.prototype.tz=function(a){a=na(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.W())};d.Nd=new b;d.Se=new function(){}})();function hc(a){this.c=a}
(function(){function a(){this.Up=this.id=-1;this.Tu=this.mk=this.jn=this.dm=!1;this.Ua=new wa(0,0,0,0)}function c(a){1E4>q.length&&q.push(a)}function b(){this.id=-1;this.Ua=new wa(0,0,0,0);this.zd=null}function d(a){1E4>r.length&&r.push(a)}function e(a,b,c){var d;return s.length?(d=s.pop(),d.p=a,d.x=b,d.y=c,d.left=d.x*d.p.Jc*d.p.ee,d.top=d.y*d.p.Ic*d.p.de,d.clear(),d.Tm=!1,d):new f(a,b,c)}function f(a,b,c){this.p=a;this.x=b;this.y=c;this.left=this.x*this.p.Jc*this.p.ee;this.top=this.y*this.p.Ic*this.p.de;
this.Fg=[];this.Nc=[];this.od=[];this.Tm=!1;var d,e;a=0;for(b=this.p.Ic;a<b;++a){e=[];c=0;for(d=this.p.Jc;c<d;++c)e.push(-1);this.Fg.push(e)}}var g=hc.prototype;g.Wc=function(a){this.Mc=a;this.c=a.c};var k=g.Wc.prototype;k.rb=function(){var a,b,c;if(!this.za&&(this.Ub=new Image,this.Ub.mv=this.Jt,this.c.ky(this.Ub,this.It),this.aj=[],this.cr=!1,this.Qf=[],this.Px=!1,this.Tp&&this.Tp.length))for(a=0,b=this.Tp.length;a<b;++a)(c=this.Tp[a])?this.Qf.push({zd:c,to:[[[null,null],[null,null]],[[null,null],
[null,null]]]}):this.Qf.push(null)};k.Nh=function(a,b,c,d,e,f){if(!(0>a||a>=this.Qf.length)&&this.Qf[a]){var h=this.Qf[a].to;a=new Xa(this.Qf[a].zd);a.Oh(b,c,0);f&&a.gA();d&&a.WC(b/2);e&&a.kB(c/2);h[d?1:0][e?1:0][f?1:0]=a}};k.GB=function(a){if(-1===a)return null;var b=a&h;return 0>b||b>=this.Qf.length||!this.Qf[b]?null:this.Qf[b].to[a&n?1:0][a&m?1:0][a&l?1:0]};k.ur=function(){var a,b,c=this.c.ca;if(c)for(a=0,b=this.aj.length;a<b;++a)c.deleteTexture(this.aj[a]);this.aj.length=0;this.cr=!1};k.Ps=function(a,
b,c,d,e,f,h){if(!(this.cr||0>=a||0>=b)){this.ur();var g=this.Ub.width,k=this.Ub.height,l;for(l=d;l+b<=k;l+=b+f)for(d=c;d+a<=g;d+=a+e)this.aj.push(this.Fy(d,l,a,b,h));this.cr=!0}};k.Fy=function(a,b,c,d,e){if(this.c.ca)return this.iq(a,b,c,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=this.iq(a,b,c,d,!1,!1,!1,e);return{to:f,x:a,y:b,ic:c,XB:d}};k.ku=function(a,b,c,d,e){if(0>a||a>=this.aj.length)return null;a=this.aj[a];var f=a.to;b=b?1:0;c=c?1:0;d=d?1:0;var h=f[b][c][d];
h||(h=this.iq(a.x,a.y,a.ic,a.XB,0!==b,0!==c,0!==d,e),f[b][c][d]=h);return h};k.iq=function(a,b,c,d,e,f,h,g){var k=c,l=d;this.c.ca&&!g&&(la(k)||(k=ma(k)),la(l)||(l=ma(l)));var m=document.createElement("canvas");m.width=k;m.height=l;var q=m.getContext("2d");if(this.c.Za)return e?f?(h?(q.rotate(Math.PI/2),q.scale(-1,1)):q.scale(-1,-1),q.translate(-k,-l)):h?(q.rotate(Math.PI/2),q.translate(0,-l)):(q.scale(-1,1),q.translate(-k,0)):f?h?(q.rotate(-Math.PI/2),q.translate(-k,0)):(q.scale(1,-1),q.translate(0,
-l)):h&&(q.scale(-1,1),q.rotate(Math.PI/2)),q.drawImage(this.Ub,a,b,c,d,0,0,k,l),g?m:this.c.Za.createPattern(m,"repeat");q.drawImage(this.Ub,a,b,c,d,0,0,k,l);a=this.c.ca.Pg(k,l,this.c.$a,!1,!g);this.c.ca.MD(m,a);return a};k.Us=function(){this.za||this.ur()};k.Vs=function(){};k.ow=function(){};k.St=function(){this.za||this.F.length||this.ur()};k.$s=function(){};g.kc=function(a){this.type=a;this.c=a.c};var k=g.kc.prototype,n=-2147483648,m=1073741824,l=536870912,h=536870911,q=[],r=[],s=[];f.prototype.clear=
function(){var a,b,c,d,e;this.Fg.length=this.p.Ic;a=0;for(b=this.Fg.length;a<b;++a)for(e=this.Fg[a],e||(e=[],this.Fg[a]=e),e.length=this.p.Jc,c=0,d=e.length;c<d;++c)e[c]=-1};f.prototype.Km=function(){if(!this.Tm){var e=this.p.ee,f=this.p.de;if(!(0>=e||0>=f)){var g,k,s,u,C,y;g=0;for(k=this.Nc.length;g<k;++g)c(this.Nc[g]);g=0;for(k=this.od.length;g<k;++g)d(this.od[g]);this.Nc.length=0;this.od.length=0;var G=Math.floor(this.p.width/e),E=Math.floor(this.p.height/f),G=G-this.left/e,E=E-this.top/f;G>this.p.Jc&&
(G=this.p.Jc);E>this.p.Ic&&(E=this.p.Ic);var H=this.p.vi,F=null;g=0;for(k=E;g<k;++g){C=this.Fg[g];s=0;for(u=G;s<u;++s)y=C[s],-1===y?F&&(this.Nc.push(F),F=null):H||!F||y!==F.id?(F&&this.Nc.push(F),F=q.length?q.pop():new a,F.id=y,F.Up=y&h,F.dm=0!==(y&n),F.jn=0!==(y&m),F.mk=0!==(y&l),F.Tu=F.dm||F.jn||F.mk,F.Ua.left=s*e+this.left,F.Ua.top=g*f+this.top,F.Ua.right=F.Ua.left+e,F.Ua.bottom=F.Ua.top+f):F.Ua.right+=e;F&&(this.Nc.push(F),F=null)}var F=null,ca=!1;g=0;for(k=E;g<k;++g){C=this.Fg[g];s=0;for(u=G;s<
u;++s)y=C[s],-1===y?F&&(this.od.push(F),F=null,ca=!1):(E=this.p.type.GB(y),!F||E||ca?(F&&this.od.push(F),F=r.length?r.pop():new b,F.id=y,F.zd=E?E:null,y=F.Ua,y.left=s*e+this.left,y.top=g*f+this.top,y.right=y.left+e,y.bottom=y.top+f,ca=!!E):F.Ua.right+=e);F&&(this.od.push(F),F=null,ca=!1)}if(!H)for(k=this.Nc.length,g=0;g<k;++g)for(u=this.Nc[g],e=g+1;e<k;++e)if(s=this.Nc[e],!(s.Ua.top<u.Ua.bottom)){if(s.Ua.top>u.Ua.bottom)break;if(s.Ua.right>u.Ua.right||s.Ua.left>u.Ua.left)break;s.id===u.id&&s.Ua.left===
u.Ua.left&&s.Ua.right===u.Ua.right&&(c(this.Nc[e]),this.Nc.splice(e,1),--k,u.Ua.bottom+=f,--e)}k=this.od.length;for(g=0;g<k;++g)if(u=this.od[g],!u.zd)for(C=u.Ua,e=g+1;e<k;++e)if(s=this.od[e],u=s.Ua,!(u.top<C.bottom)){if(u.top>C.bottom)break;if(u.right>C.right||u.left>C.left)break;s.zd||u.left!==C.left||u.right!==C.right||(d(this.od[e]),this.od.splice(e,1),--k,C.bottom+=f,--e)}this.Tm=!0}}};f.prototype.At=function(a,b,c){this.Fg[b][a]!==c&&(this.Fg[b][a]=c,this.Tm=!1,this.p.Jn=!0,this.p.Lj=!0,this.p.c.lb=
!0)};k.rb=function(){var a,b,c;this.visible=0===this.ya[0];this.ee=this.ya[1];this.de=this.ya[2];this.Kt=this.ya[3];this.Mt=this.ya[4];this.Lt=this.ya[5];this.Nt=this.ya[6];this.vi=0!==this.ya[7];this.ji=this.Sx;this.hi=this.Rx;this.Uo=this.width;this.To=this.height;var d=this.ee,e=this.de;0===d&&(d=1);0===e&&(e=1);this.Jc=Math.ceil(this.c.cc/d);this.Ic=Math.ceil(this.c.ac/e);if(!this.type.Px)for(this.type.Px=!0,a=0,b=this.type.Qf.length;a<b;++a)if(c=this.type.Qf[a])this.type.Nh(a,d,e,!1,!1,!1),this.type.Nh(a,
d,e,!1,!1,!0),this.type.Nh(a,d,e,!1,!0,!1),this.type.Nh(a,d,e,!1,!0,!0),this.type.Nh(a,d,e,!0,!1,!1),this.type.Nh(a,d,e,!0,!1,!0),this.type.Nh(a,d,e,!0,!0,!1),this.type.Nh(a,d,e,!0,!0,!0);this.Zd||(this.Jd=[]);this.RC();this.Ax(this.Qx);this.type.Ps(this.ee,this.de,this.Kt,this.Mt,this.Lt,this.Nt,this.vi);this.Lj=!1;this.Jn=!0;this.Os()};k.Os=function(){if(this.Jn){var a,b,c,d,e;a=0;for(b=this.Jd.length;a<b;++a)for(e=this.Jd[a],c=0,d=e.length;c<d;++c)e[c].Km();this.Jn=!1}};k.zt=function(){var a,b,
c,d,e;a=0;for(b=this.Jd.length;a<b;++a)for(e=this.Jd[a],c=0,d=e.length;c<d;++c)e[c].Tm=!1;this.Jn=!0};k.RC=function(){var a,b;a=Math.ceil(this.hi/this.Ic);b=Math.ceil(this.ji/this.Jc);var c,d,f;for(c=0;c<a;++c)if(f=this.Jd[c])for(d=f.length;d<b;++d)f.push(e(this,d,c));else{f=[];for(d=0;d<b;++d)f.push(e(this,d,c));this.Jd[c]=f}};k.Oq=function(a,b){if(0>a||0>b)return null;var c=qa(b/this.Ic);if(c>=this.Jd.length)return null;var c=this.Jd[c],d=qa(a/this.Jc);return d>=c.length?null:c[d]};k.Pq=function(a,
b){if(0>a||0>b||b>=this.Jd.length)return null;var c=this.Jd[b];return a>=c.length?null:c[a]};k.Ax=function(a){var b=[];a=a.split(",");var c,d,e,f,h;c=0;for(d=a.length;c<d;++c)if(e=a[c],f=e.indexOf("x"),-1<f)for(h=parseInt(e.substring(0,f),10),e=e.substring(f+1),f=parseInt(e,10),-1<e.indexOf("h")&&(f|=n),-1<e.indexOf("v")&&(f|=m),-1<e.indexOf("d")&&(f|=l);0<h;--h)b.push(f);else f=parseInt(e,10),-1<e.indexOf("h")&&(f|=n),-1<e.indexOf("v")&&(f|=m),-1<e.indexOf("d")&&(f|=l),b.push(f);for(c=a=0;c<this.hi;++c)for(d=
0;d<this.ji;++d)h=b[a++],(e=this.Oq(d,c))&&e.At(d%this.Jc,c%this.Ic,h)};k.HB=function(){var a="";if(0>=this.ji||0>=this.hi)return a;var b=1,c=this.Jv(0,0),d,e=this.hi,f,g=this.ji,k,q,r,s;for(d=0;d<e;++d)for(f=0===d?1:0;f<g;++f)k=this.Jv(f,d),k===c?++b:(-1===c?(q=-1,c=s=r=!1):(q=c&h,r=0!==(c&n),s=0!==(c&m),c=0!==(c&l)),a=1===b?a+(""+q):a+(""+b+"x"+q),r&&(a+="h"),s&&(a+="v"),c&&(a+="d"),a+=",",b=1,c=k);-1===c?(q=-1,c=s=r=!1):(q=c&h,r=0!==(c&n),s=0!==(c&m),c=0!==(c&l));a=1===b?a+(""+q):a+(""+b+"x"+q);
r&&(a+="h");s&&(a+="v");c&&(a+="d");return a};k.Jv=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.ji||b>=this.hi)return-1;var c=this.Oq(a,b);return c?c.Fg[b%this.Ic][a%this.Jc]:-1};k.At=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.ji||b>=this.hi)return-1;var d=this.Oq(a,b);if(!d)return-1;d.At(a%this.Jc,b%this.Ic,c)};k.my=function(a){return Math.floor((a-this.x)/(this.Jc*this.ee))};k.ny=function(a){return Math.floor((a-this.y)/(this.Ic*this.de))};k.rB=function(a,
b){var c=this.ny(a.top),d=this.my(a.right),e=this.ny(a.bottom),f,h,g;for(f=this.my(a.left);f<=d;++f)for(h=c;h<=e;++h)if(g=this.Pq(f,h))g.Km(),Ba(b,g.od)};k.nB=function(a){var b,c,d,e,f,h;b=0;for(c=this.Jd.length;b<c;++b)for(f=this.Jd[b],d=0,e=f.length;d<e;++d)h=f[d],h.Km(),Ba(a,h.od)};k.Kj=function(){var a,b,e,f,h;a=0;for(b=this.Jd.length;a<b;++a){h=this.Jd[a];e=0;for(f=h.length;e<f;++e){for(var g=h[e],k=void 0,l=void 0,k=0,l=g.Nc.length;k<l;++k)c(g.Nc[k]);k=g.Nc.length=0;for(l=g.od.length;k<l;++k)d(g.od[k]);
g.od.length=0;1E3>s.length&&s.push(g)}h.length=0}this.Jd.length=0};k.Bd=function(){return{w:this.ji,h:this.hi,d:this.HB()}};k.Wd=function(a){this.ji=a.w;this.hi=a.h;this.Ax(a.d);this.Lj=!0;this.zt()};k.Rh=function(a){if(!(0>=this.ee||0>=this.de)){this.type.Ps(this.ee,this.de,this.Kt,this.Mt,this.Lt,this.Nt,this.vi);if(this.width!==this.Uo||this.height!==this.To)this.Lj=!0,this.zt(),this.Os(),this.Uo=this.width,this.To=this.height;a.globalAlpha=this.opacity;var b=this.S,c=b.Mb,d=b.Nb,e=b.hc,b=b.gc,
f=this.x,h=this.y,g=this.vi,k;this.c.pi&&(f=Math.round(f),h=Math.round(h));var l=this.Jc*this.ee,m=this.Ic*this.de,q=Math.floor((c-f)/l),l=Math.floor((e-f)/l),n=Math.floor((d-h)/m),m=Math.floor((b-h)/m),r=f%this.ee,s=h%this.de;this.vi&&(s=r=0);if(0!==r||0!==s)a.save(),a.translate(r,s),f-=r,h-=s,c-=r,d-=s,e-=r,b-=s;for(var u,X,M,J,K,N,I,S,R;q<=l;++q)for(u=n;u<=m;++u)if(X=this.Pq(q,u))for(X.Km(),M=0,J=X.Nc.length;M<J;++M)K=X.Nc[M],-1!==K.id&&(k=K.Ua,N=k.left+f,I=k.top+h,S=k.right+f,k=k.bottom+h,N>e||
S<c||I>b||k<d||(R=this.type.ku(K.Up,K.dm,K.jn,K.mk,this.vi),g?a.drawImage(R,N,I):(a.fillStyle=this.type.ku(K.Up,K.dm,K.jn,K.mk,this.vi),a.fillRect(N,I,S-N,k-I))));0===r&&0===s||a.restore()}};var u=new wa(0,0,1,1);k.uf=function(a){if(!(0>=this.ee||0>=this.de)){this.type.Ps(this.ee,this.de,this.Kt,this.Mt,this.Lt,this.Nt,this.vi);if(this.width!==this.Uo||this.height!==this.To)this.Lj=!0,this.zt(),this.Os(),this.Uo=this.width,this.To=this.height;a.Zk(this.opacity);var b=this.type.aj,c=this.S,d=c.Mb,
e=c.Nb,f=c.hc,c=c.gc,h=this.x,g=this.y,k;this.c.pi&&(h=Math.round(h),g=Math.round(g));var l=this.Jc*this.ee,m=this.Ic*this.de,q=Math.floor((f-h)/l),n=Math.floor((e-g)/m),m=Math.floor((c-g)/m),r,s,sa,X,M,J,K,N,I,S,R,ha,Q,T,ia,ta,ua;for(ia=Math.floor((d-h)/l);ia<=q;++ia)for(ta=n;ta<=m;++ta)if(ua=this.Pq(ia,ta))for(ua.Km(),l=0,r=ua.Nc.length;l<r;++l)s=ua.Nc[l],-1!==s.id&&(k=s.Ua,sa=k.left+h,X=k.top+g,M=k.right+h,k=k.bottom+g,sa>f||M<d||X>c||k<e||(a.De(b[s.Up]),u.right=(M-sa)/this.ee,u.bottom=(k-X)/this.de,
s.Tu?(s.mk&&(T=u.right,u.right=u.bottom,u.bottom=T),K=J=0,N=u.right,I=0,S=u.right,R=u.bottom,ha=0,Q=u.bottom,s.mk&&(T=ha,ha=N,N=T,T=Q,Q=I,I=T),s.dm&&(T=J,J=N,N=T,T=K,K=I,I=T,T=ha,ha=S,S=T,T=Q,Q=R,R=T),s.jn&&(T=J,J=ha,ha=T,T=K,K=Q,Q=T,T=N,N=S,S=T,T=I,I=R,R=T),a.lD(sa,X,M,X,M,k,sa,k,J,K,N,I,S,R,ha,Q)):a.qi(sa,X,M,X,M,k,sa,k,u)))}};g.fa=new function(){};g.Nd=new function(){};g.Se=new function(){}})();
function x(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)fa("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,b,d,e){this.type=c.nk;this.ib=new l;this.jb=new l;this.Sf=null;void 0!==a&&(this.I=a);void 0!==b&&(this.K=b);void 0!==d&&this.ib.D(d);void 0!==e&&this.jb.D(e);this.Rk=this.Ow=this.Wt=this.us=this.zg=0;this.ok=this.ej=!1}function c(a){this.I=a.I;this.K=a.K;this.Sf=a.Sf;this.type=a.type;this.next=null}function b(a,
b){this.fp=[];this.qb=[];this.Cj=[];this.hh=null;this.EC=[];this.Jb=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.ub=a;this.pb=b;this.LC=c}function f(a,b){var c=a.Sf;a.Sf=null;this.Ca=b;this.A=new n(a.position,m.Yj(a.M));this.Dm=[];this.zm=a.Xc;a.type===f.ke&&(a.tf=0);this.Zb=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.Jb,a);a.Sf=c}function g(a,b,c,d){this.Bm=a;this.zs=c;this.oh={};this.oh.ud=l.r(0,0);this.ip=!1;this.gp=d.tf;this.Bs=d.ig;this.Is=
d.Ag;this.ip=d.Sr}function k(){}function n(a,b){this.position=l.r(0,0);this.n=new m;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.D(a),this.n.jf(b))}function m(){this.i=l.r(0,0);this.j=l.r(0,0);this.Ih()}function l(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}O=l;l.Lg=[];l.r=function(a,b){if(0<O.Lg.length){var c=O.Lg.pop();c.Set(a,b);return c}return new O(a,b)};l.Ob=function(a){1E4>O.Lg.length&&O.Lg.push(a)};l.prototype.aa=function(){this.y=this.x=0};l.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};l.prototype.D=function(a){this.x=a.x;this.y=a.y};l.pE=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return l.r(a,b)};l.prototype.Vb=function(){return l.r(this.x,this.y)};l.prototype.Hg=function(a){this.x+=a.x;this.y+=a.y};l.prototype.Dq=function(a){this.x-=a.x;this.y-=a.y};l.prototype.kd=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};l.prototype.Zf=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.Dn=function(){return this.x*
this.x+this.y*this.y};l.prototype.md=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};l.prototype.uq=function(){this.x=-this.x;this.y=-this.y};P=m;m.Yj=function(a){void 0===a&&(a=0);var b=new m;b.Set(a);return b};m.Yf=function(a,b){var c=new m;c.Bq(a,b);return c};m.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.i.x=b;this.j.x=-a;this.i.y=a;this.j.y=b};m.prototype.Bq=function(a,b){this.i.D(a);
this.j.D(b)};m.prototype.Vb=function(){var a=new m;a.jf(this);return a};m.prototype.jf=function(a){this.i.D(a.i);this.j.D(a.j)};m.prototype.nn=function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.j.x+=a.j.x;this.j.y+=a.j.y};m.prototype.Ih=function(){this.i.x=1;this.j.x=0;this.i.y=0;this.j.y=1};m.prototype.aa=function(){this.i.x=0;this.j.x=0;this.i.y=0;this.j.y=0};m.prototype.hd=function(){return Math.atan2(this.i.y,this.i.x)};m.prototype.mq=function(a){var b=this.i.x,c=this.j.x,d=this.i.y,e=this.j.y,
f=b*e-c*d;0!==f&&(f=1/f);a.i.x=f*e;a.j.x=-f*c;a.i.y=-f*d;a.j.y=f*b;return a};m.prototype.Jh=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.i.x,e=this.j.x,f=this.i.y,g=this.j.y,k=d*g-e*f;0!==k&&(k=1/k);a.x=k*(g*b-e*c);a.y=k*(d*c-f*b);return a};m.prototype.Gg=function(){this.i.Gg();this.j.Gg()};ic=n;n.prototype.Pb=function(a,b){this.position.D(a);this.n.jf(b)};n.prototype.Ih=function(){this.position.aa();this.n.Ih()};n.prototype.Set=function(a){this.position.D(a.position);this.n.jf(a.n)};
n.prototype.En=function(){return Math.atan2(this.n.i.y,this.n.i.x)};U=k;k.Cn=function(a){void 0===a&&(a=0);return isFinite(a)};k.sb=function(a,b){return a.x*b.x+a.y*b.y};k.Hi=function(a,b){return a.x*b.y-a.y*b.x};k.Ig=function(a,b){void 0===b&&(b=0);return l.r(b*a.y,-b*a.x)};k.hq=function(a,b){void 0===a&&(a=0);return l.r(-a*b.y,a*b.x)};k.Fb=function(a,b){return l.r(a.i.x*b.x+a.j.x*b.y,a.i.y*b.x+a.j.y*b.y)};k.Jg=function(a,b){return l.r(k.sb(b,a.i),k.sb(b,a.j))};k.lc=function(a,b){var c=k.Fb(a.n,
b);c.x+=a.position.x;c.y+=a.position.y;return c};k.sq=function(a,b){var c=k.hb(b,a.position),d=c.x*a.n.i.x+c.y*a.n.i.y;c.y=c.x*a.n.j.x+c.y*a.n.j.y;c.x=d;return c};k.ml=function(a,b){return l.r(a.x+b.x,a.y+b.y)};k.hb=function(a,b){return l.r(a.x-b.x,a.y-b.y)};k.Gy=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};k.gu=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};k.Uy=function(a,b){void 0===a&&(a=0);return l.r(a*b.x,a*b.y)};k.ry=function(a,b){return m.Yf(k.ml(a.i,b.i),k.ml(a.j,
b.j))};k.Vy=function(a,b){return m.Yf(k.Fb(a,b.i),k.Fb(a,b.j))};k.Wy=function(a,b){var c=l.r(k.sb(a.i,b.i),k.sb(a.j,b.i)),d=l.r(k.sb(a.i,b.j),k.sb(a.j,b.j));return m.Yf(c,d)};k.Gg=function(a){void 0===a&&(a=0);return 0<a?a:-a};k.jl=function(a){return l.r(k.Gg(a.x),k.Gg(a.y))};k.oy=function(a){return m.Yf(k.jl(a.i),k.jl(a.j))};k.ru=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};k.su=function(a,b){return l.r(k.ru(a.x,b.x),k.ru(a.y,b.y))};k.pu=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=0);return a>b?a:b};k.qu=function(a,b){return l.r(k.pu(a.x,b.x),k.pu(a.y,b.y))};k.mb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};k.xy=function(a,b,c){return k.qu(b,k.su(a,c))};k.YE=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};k.DE=function(){return 2*Math.random()-1};k.EE=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};k.vE=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;
a|=a>>8&16777215;return(a|a>>16&65535)+1};k.lE=function(a){void 0===a&&(a=0);return 0<a&&0===(a&a-1)};k.Uz=new l(0,0);k.Tz=m.Yf(new l(1,0),new l(0,1));k.gF=new n(k.Uz,k.Tz);V=function(){this.position=l.r(0,0);this.ls=l.r(0,0);this.Sf=null;this.M=0;this.ls.Set(0,0);this.Si=this.vj=this.Qu=0;this.Vu=this.Pu=!0;this.Xi=this.nr=!1;this.type=f.ke;this.Xc=!0;this.Qv=1};jc=g;g.prototype.La=function(){return this.Bm};g.prototype.jc=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");
return null};g.prototype.Mi=function(){return this.ip};kc=f;f.prototype.Vj=function(a){var b=a.Sf;a.Sf=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Ca.Jb,this.Zb,a);a.Sf=b;a=new g(this,0,c,a);this.Ca.Cj[c]=a;this.Dm.push(a);return a};f.prototype.lq=function(){return 0===this.Dm.length?null:this.Dm[0]};f.prototype.fu=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.Ca.Jb,a.zs);delete this.Ca.Cj[a.zs]};f.prototype.Dl=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",
this.Ca.Jb,this.Zb,a.x,a.y,b);this.A.n.Set(b);this.A.position.D(a)};f.prototype.Aq=function(a){this.Dl(a,this.hd())};f.prototype.Ii=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Ca.Jb,this.Zb);return l.r(a[0],a[1])};f.prototype.$j=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Ca.Jb,this.Zb);return l.r(a[0],a[1])};f.prototype.Ji=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Ca.Jb,this.Zb);return l.r(a[0],a[1])};
f.prototype.Uc=function(a){return k.sq(this.A,a)};f.prototype.Zj=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getMass",this.Ca.Jb,this.Zb)};f.prototype.Vc=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.Ca.Jb,this.Zb)};f.prototype.xn=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Ca.Jb,this.Zb)};f.prototype.Hc=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.Ca.Jb,this.Zb,a)};f.prototype.Oi=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",
this.Ca.Jb,this.Zb,a.x,a.y)};f.prototype.Vf=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Ca.Jb,this.Zb,a.x,a.y,b.x,b.y,c)};f.prototype.on=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.Ca.Jb,this.Zb,a,b)};f.prototype.Bl=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Ca.Jb,this.Zb,a)};f.prototype.Li=function(){return this.zm};f.prototype.hd=function(){return this.A.n.hd()};f.prototype.En=function(a){void 0===a&&(a=0);this.Dl(this.A.position,
a)};f.prototype.Fh=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Ca.Jb,this.Zb),b=[],c=0;c<a.length;c++)b.push(this.Ca.fp[a[c]]);return b};kc.ke=0;kc.Xu=1;kc.mc=2;e.prototype.qq=function(){return this.LC};lc=d;d.prototype.pn=function(){};lc.Wu=new d;mc=function(){};nc=b;b.prototype.Du=function(a){this.hh=a};b.prototype.Cu=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",this.Jb,function(c,d){return a.Pi(b.Cj[c],b.Cj[d])})};b.prototype.gq=
function(a){a=new f(a,this);return this.fp[a.Zb]=a};b.prototype.un=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.Jb,a.Zb);delete this.fp[a.Zb];for(var b=0;b<a.Dm.length;++b)delete this.Cj[a.Dm[b].zs]};b.prototype.tn=function(a){if(a.I.Zb!==a.K.Zb){var b=a.I,d=a.K;a.I=b.Zb;a.K=d.Zb;var e="createDistanceJoint";a.type===c.nk&&(e="createRevoluteJoint");var f=new c(a);f.DC=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.Jb,a);a.I=b;a.K=d;this.EC.push(f);return f}};b.prototype.vn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",
this.Jb,a.DC)};b.prototype.Kg=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.Jb,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.fp[c[a+0]];if(null===d)break;d.A.position.Set(c[a+1],c[a+2]);d.A.n.Set(c[a+3])}if(null!==this.hh)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.Jb),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.Cj[c[a+0]],g=this.Cj[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.hh.pn(new e(f,
g,d))}};b.prototype.eu=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.Jb)};oc=function(a){this.Ap=a;this.type="circle"};W=function(){};W.prototype.Fn=function(a,b){this.type="box";this.width=a;this.height=b};W.prototype.Au=function(){this.type="edge"};W.prototype.Cl=function(a,b){this.type="polygon";this.jy=[];for(var c=0;c<b;c++)this.jy.push(a[c].x),this.jy.push(a[c].y)};pc=function(){this.Sf=this.shape=null;this.ig=.2;this.tf=this.Ag=0;this.Sr=!1;this.filter={jk:1,Pk:65535,Wh:0}};
Z=c;c.prototype.ql=function(){return this.I};c.prototype.kq=function(){return this.K};c.prototype.uc=function(){return this.type};c.gr=0;c.nk=1;qc=function(a,b,d,e){this.type=c.gr;this.ib=l.r(0,0);this.jb=l.r(0,0);this.Sf=null;void 0!==a&&(this.I=a);void 0!==b&&(this.K=b);void 0!==d&&this.ib.D(d);void 0!==e&&this.jb.D(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.ho=this.wo=0};a.prototype.Pb=function(a,b,c){this.I=a;this.K=b;this.ib=this.I.Uc(c);this.jb=this.K.Uc(c);
this.zg=this.K.hd()-this.I.hd()};rc=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");else{var U={},sc=2/180*Math.PI,tc=8/180*Math.PI,uc=.5*Math.PI,vc=uc*uc,wc=2/180*Math.PI,xc=Number.MIN_VALUE*Number.MIN_VALUE;U.sb=function(a,c){return a.x*c.x+a.y*c.y};U.Hi=function(a,c){return a.x*c.y-a.y*c.x};U.Ig=function(a,c){return O.r(c*a.y,-c*a.x)};U.hq=function(a,c){return O.r(-a*c.y,a*c.x)};U.Fb=function(a,c){return O.r(a.i.x*c.x+a.j.x*c.y,a.i.y*
c.x+a.j.y*c.y)};U.Jg=function(a,c){return O.r(U.sb(c,a.i),U.sb(c,a.j))};U.lc=function(a,c){var b=U.Fb(a.n,c);b.x+=a.position.x;b.y+=a.position.y;return b};U.sq=function(a,c){var b=U.hb(c,a.position),d=b.x*a.n.i.x+b.y*a.n.i.y;b.y=b.x*a.n.j.x+b.y*a.n.j.y;b.x=d;return b};U.ml=function(a,c){return O.r(a.x+c.x,a.y+c.y)};U.hb=function(a,c){return O.r(a.x-c.x,a.y-c.y)};U.Gy=function(a,c){return Math.sqrt(U.gu(a,c))};U.gu=function(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d};U.Uy=function(a,c){return O.r(a*
c.x,a*c.y)};U.ry=function(a,c){return P.Yf(U.ml(a.i,c.i),U.ml(a.j,c.j))};U.Vy=function(a,c){return P.Yf(U.Fb(a,c.i),U.Fb(a,c.j))};U.Wy=function(a,c){var b=O.r(U.sb(a.i,c.i),U.sb(a.j,c.i)),d=O.r(U.sb(a.i,c.j),U.sb(a.j,c.j));return P.Yf(b,d)};U.jl=function(a){return O.r(Math.abs(a.x),Math.abs(a.y))};U.oy=function(a){return P.Yf(U.jl(a.i),U.jl(a.j))};U.mb=function(a,c,b){return a<c?c:a>b?b:a};U.xy=function(a,c,b){return O.r(U.mb(a.x,c.x,b.x),U.mb(a.y,c.y,b.y))};var P=function(){this.i=O.r(0,0);this.j=
O.r(0,0);this.Ih()};P.Yj=function(a){var c=new P;c.Set(a);return c};P.Yf=function(a,c){var b=new P;b.Bq(a,c);return b};t=P.prototype;t.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.i.Set(c,a);this.j.Set(-a,c)};t.Bq=function(a,c){this.i.D(a);this.j.D(c)};t.Vb=function(){var a=new P;a.jf(this);return a};t.jf=function(a){this.i.D(a.i);this.j.D(a.j)};t.nn=function(a){this.i.Hg(a.i);this.j.Hg(a.j)};t.Ih=function(){this.i.Set(1,0);this.j.Set(0,1)};t.aa=function(){this.i.Set(0,0);this.j.Set(0,0)};
t.hd=function(){return Math.atan2(this.i.y,this.i.x)};t.mq=function(a){var c=this.i.x*this.j.y-this.j.x*this.i.y;0!==c&&(c=1/c);a.i.x=c*this.j.y;a.j.x=-c*this.j.x;a.i.y=-c*this.i.y;a.j.y=c*this.i.x;return a};t.Jh=function(a,c,b){var d=this.i.x*this.j.y-this.j.x*this.i.y;0!==d&&(d=1/d);a.x=d*(this.j.y*c-this.j.x*b);a.y=d*(this.i.x*b-this.i.y*c);return a};t.Gg=function(){this.i.Gg();this.j.Gg()};var zc=function(a,c,b){this.i=new yc(0,0,0);this.j=new yc(0,0,0);this.ka=new yc(0,0,0);a&&this.i.D(a);c&&
this.j.D(c);b&&this.ka.D(b)};t=zc.prototype;t.Vb=function(){return new zc(this.i,this.j,this.ka)};t.jf=function(a){this.i.D(a.i);this.j.D(a.j);this.ka.D(a.ka)};t.nn=function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.i.z+=a.i.z;this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.ka.x+=a.ka.x;this.ka.y+=a.ka.y;this.ka.z+=a.ka.z};t.Ih=function(){this.i.Set(1,0,0);this.j.Set(0,1,0);this.ka.Set(0,0,1)};t.aa=function(){this.i.Set(0,0,0);this.j.Set(0,0,0);this.ka.Set(0,0,0)};t.dk=function(a,c,b){var d=this.i.x,
e=this.j.x,f=this.i.y,g=this.j.y,k=d*g-e*f;0!=k&&(k=1/k);a.x=k*(g*c-e*b);a.y=k*(d*b-f*c);return a};t.El=function(a,c,b,d){var e=this.i.x,f=this.i.y,g=this.i.z,k=this.j.x,n=this.j.y,m=this.j.z,l=this.ka.x,h=this.ka.y,q=this.ka.z,r=e*(n*q-m*h)+f*(m*l-k*q)+g*(k*h-n*l);0!=r&&(r=1/r);a.x=r*(c*(n*q-m*h)+b*(m*l-k*q)+d*(k*h-n*l));a.y=r*(e*(b*q-d*h)+f*(d*l-c*q)+g*(c*h-b*l));a.z=r*(e*(n*d-m*b)+f*(m*c-k*d)+g*(k*b-n*c));return a};var Ac=function(){this.L=O.r(0,0);this.xc=O.r(0,0);this.u=O.r(0,0)};Ac.prototype.Set=
function(a){this.L.D(a.L);this.xc.D(a.xc);this.u.D(a.u);this.Me=a.Me;this.J=a.J;this.gd=a.gd};Ac.prototype.Vb=function(){var a=new Ac;a.L.D(this.L);a.xc.D(this.xc);a.u.D(this.u);a.Me=this.Me;a.J=this.J;a.gd=this.gd;return a};Ac.prototype.Ld=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.xc.x+c*this.u.x;a.position.y=(1-c)*this.xc.y+c*this.u.y;a.n.Set((1-c)*this.Me+c*this.J);var b=a.n;a.position.x-=b.i.x*this.L.x+b.j.x*this.L.y;a.position.y-=b.i.y*this.L.x+b.j.y*this.L.y};Ac.prototype.Eh=function(a){void 0===
a&&(a=0);if(this.gd<a&&1-this.gd>Number.MIN_VALUE){var c=(a-this.gd)/(1-this.gd);this.xc.x=(1-c)*this.xc.x+c*this.u.x;this.xc.y=(1-c)*this.xc.y+c*this.u.y;this.Me=(1-c)*this.Me+c*this.J;this.gd=a}};var ic=function(a,c){this.position=O.r(0,0);this.n=new P;a&&this.position.D(a);c&&this.n.jf(c)};ic.prototype.Pb=function(a,c){this.position.D(a);this.n.jf(c)};ic.prototype.Ih=function(){this.position.aa();this.n.Ih()};ic.prototype.Set=function(a){this.position.D(a.position);this.n.jf(a.n)};ic.prototype.hd=
function(){return Math.atan2(this.n.i.y,this.n.i.x)};var O=function(a,c){this.x=a;this.y=c};O.Lg=[];O.r=function(a,c){if(0<O.Lg.length){var b=O.Lg.pop();b.Set(a,c);return b}return new O(a,c)};O.Ob=function(a){O.Lg.push(a)};t=O.prototype;t.aa=function(){this.y=this.x=0};t.Set=function(a,c){this.x=a;this.y=c};t.D=function(a){this.x=a.x;this.y=a.y};t.Gh=function(){return O.r(-this.x,-this.y)};t.uq=function(){this.x=-this.x;this.y=-this.y};t.Vb=function(){return O.r(this.x,this.y)};t.Hg=function(a){this.x+=
a.x;this.y+=a.y};t.Dq=function(a){this.x-=a.x;this.y-=a.y};t.kd=function(a){this.x*=a;this.y*=a};t.Ig=function(a){var c=this.x;this.x=a*this.y;this.y=-a*c};t.hq=function(a){var c=this.x;this.x=-a*this.y;this.y=a*c};t.su=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};t.qu=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};t.Gg=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};t.Zf=function(){return Math.sqrt(this.Dn())};t.Dn=function(){return this.x*
this.x+this.y*this.y};t.md=function(){var a=this.Zf();if(a<Number.MIN_VALUE)return 0;var c=1/a;this.x*=c;this.y*=c;return a};t.Cn=function(){return isFinite(this.x)&&isFinite(this.y)};var yc=function(a,c,b){this.x=a;this.y=c;this.z=b};t=yc.prototype;t.aa=function(){this.z=this.y=this.x=0};t.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};t.D=function(a){this.x=a.x;this.y=a.y;this.z=a.z};t.Gh=function(){return new yc(-this.x,-this.y,-this.z)};t.uq=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};
t.Vb=function(){return new yc(this.x,this.y,this.z)};t.Hg=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};t.Dq=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};t.kd=function(a){this.x*=a;this.y*=a;this.z*=a};var Bc=function(){this.Na=.005};t=Bc.prototype;t.Ki=function(){};t.Vb=function(){};t.Set=function(a){this.Na=a.Na};t.Uj=function(){};t.nl=function(){};t.sn=function(){};t.zq=function(){};var oc=function(a){this.Na=.005;this.Na=a;this.Mk=a*a;this.Wa=O.r(0,0)};x(oc,Bc);t=oc.prototype;t.Ki=function(){return oc.hf};
t.Vb=function(){var a=new oc(this.Na);a.Set(this);return a};t.Set=function(a){Bc.prototype.Set.call(this,a);a instanceof oc&&this.Wa.D(a.Wa)};t.Uj=function(a,c){var b=c.n,d=c.position.x+(b.i.x*this.Wa.x+b.j.x*this.Wa.y),b=c.position.y+(b.i.y*this.Wa.x+b.j.y*this.Wa.y);a.ta.Set(d-this.Na,b-this.Na);a.va.Set(d+this.Na,b+this.Na)};t.nl=function(a,c){a.vg=c*Math.PI*this.Mk;a.Ng.D(this.Wa);a.ak=a.vg*(.5*this.Mk+(this.Wa.x*this.Wa.x+this.Wa.y*this.Wa.y))};t.sn=function(a,c,b,d){b=U.lc(b,this.Wa);var e=
-(U.sb(a,b)-c);if(e<-this.Na+Number.MIN_VALUE)return 0;if(e>this.Na)return d.D(b),Math.PI*this.Mk;c=e*e;e=this.Mk*(Math.asin(e/this.Na)+Math.PI/2)+e*Math.sqrt(this.Mk-c);c=-2/3*Math.pow(this.Mk-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};t.zq=function(a){a.H=[this.Wa];a.ha=1;a.Na=this.Na};oc.hf="b2CircleShape";var Cc=function(a,c){this.Na=.005;this.ia=a;this.Ba=c;this.Bj=O.r(this.Ba.x-this.ia.x,this.Ba.y-this.ia.y);this.Cs=this.Bj.md();this.ma=O.r(this.Bj.y,-this.Bj.x);O.r(-.04*(this.ma.x-this.Bj.x)+
this.ia.x,-.04*(this.ma.y-this.Bj.y)+this.ia.y);O.r(-.04*(this.ma.x+this.Bj.x)+this.Ba.x,-.04*(this.ma.y+this.Bj.y)+this.Ba.y);O.r(-this.ma.x,-this.ma.y)};x(Cc,Bc);Cc.prototype.Ki=function(){return"b2EdgeShape"};Cc.prototype.Uj=function(a,c){var b=c.n,d=c.position.x+(b.i.x*this.ia.x+b.j.x*this.ia.y),e=c.position.y+(b.i.y*this.ia.x+b.j.y*this.ia.y),f=c.position.x+(b.i.x*this.Ba.x+b.j.x*this.Ba.y),b=c.position.y+(b.i.y*this.Ba.x+b.j.y*this.Ba.y);d<f?(a.ta.x=d,a.va.x=f):(a.ta.x=f,a.va.x=d);e<b?(a.ta.y=
e,a.va.y=b):(a.ta.y=b,a.va.y=e)};Cc.prototype.nl=function(a){a.vg=0;a.Ng.D(this.ia);a.ak=0};Cc.prototype.sn=function(a,c,b,d){void 0===c&&(c=0);var e=O.r(a.x*c,a.y*c),f=U.lc(b,this.ia);b=U.lc(b,this.Ba);var g=U.sb(a,f)-c;a=U.sb(a,b)-c;if(0<g){if(0<a)return 0;f.x=-a/(g-a)*f.x+g/(g-a)*b.x;f.y=-a/(g-a)*f.y+g/(g-a)*b.y}else 0<a&&(b.x=-a/(g-a)*f.x+g/(g-a)*b.x,b.y=-a/(g-a)*f.y+g/(g-a)*b.y);d.x=(e.x+f.x+b.x)/3;d.y=(e.y+f.y+b.y)/3;return.5*((f.x-e.x)*(b.y-e.y)-(f.y-e.y)*(b.x-e.x))};var Dc=function(){this.vg=
0;this.Ng=O.r(0,0);this.ak=0},W=function(){this.Na=.005;this.ud=O.r(0,0);this.H=[];this.na=[]};x(W,Bc);W.prototype.Ki=function(){return W.hf};W.prototype.Vb=function(){var a=new W;a.Set(this);return a};W.prototype.Set=function(a){Bc.prototype.Set.call(this,a);if(a instanceof W){this.ud.D(a.ud);this.Ha=a.Ha;this.Al(this.Ha);for(var c=0;c<this.Ha;c++)this.H[c].D(a.H[c]),this.na[c].D(a.na[c])}};W.prototype.Cl=function(a){this.Bu(a)};W.PD=function(a){var c=new W;c.Cl(a);return c};W.prototype.Bu=function(a){var c=
a.length;this.Ha=c;this.Al(c);for(c=c=0;c<this.Ha;c++)this.H[c].D(a[c]);for(c=0;c<this.Ha;++c)a=U.hb(this.H[c+1<this.Ha?c+1:0],this.H[c]),this.na[c].D(U.Ig(a,1)),this.na[c].md();this.ud=W.Dy(this.H,this.Ha)};W.TD=function(a){var c=new W;c.Bu(a);return c};W.prototype.Fn=function(a,c){this.Ha=4;this.Al(4);this.H[0].Set(-a,-c);this.H[1].Set(a,-c);this.H[2].Set(a,c);this.H[3].Set(-a,c);this.na[0].Set(0,-1);this.na[1].Set(1,0);this.na[2].Set(0,1);this.na[3].Set(-1,0);this.ud.aa()};W.QD=function(a,c){var b=
new W;b.Fn(a,c);return b};W.prototype.rz=function(a,c,b,d){this.Ha=4;this.Al(4);this.H[0].Set(-a,-c);this.H[1].Set(a,-c);this.H[2].Set(a,c);this.H[3].Set(-a,c);this.na[0].Set(0,-1);this.na[1].Set(1,0);this.na[2].Set(0,1);this.na[3].Set(-1,0);this.ud=b;a=new P;a.Set(d);b=new ic(b,a);for(d=0;d<this.Ha;++d)this.H[d]=U.lc(b,this.H[d]),this.na[d]=U.Fb(b.n,this.na[d])};W.SD=function(a,c,b,d){var e=new W;e.rz(a,c,b,d);return e};W.prototype.Au=function(a,c){this.Ha=2;this.Al(2);this.H[0].D(a);this.H[1].D(c);
this.ud.x=.5*(a.x+c.x);this.ud.y=.5*(a.y+c.y);this.na[0]=U.Ig(U.hb(c,a),1);this.na[0].md();this.na[1].x=-this.na[0].x;this.na[1].y=-this.na[0].y};W.RD=function(a,c){var b=new W;b.Au(a,c);return b};t=W.prototype;t.Uj=function(a,c){for(var b=c.n,d=this.H[0],e=c.position.x+(b.i.x*d.x+b.j.x*d.y),f=c.position.y+(b.i.y*d.x+b.j.y*d.y),g=e,k=f,n=1;n<this.Ha;++n)var d=this.H[n],m=c.position.x+(b.i.x*d.x+b.j.x*d.y),d=c.position.y+(b.i.y*d.x+b.j.y*d.y),e=e<m?e:m,f=f<d?f:d,g=g>m?g:m,k=k>d?k:d;a.ta.x=e-this.Na;
a.ta.y=f-this.Na;a.va.x=g+this.Na;a.va.y=k+this.Na};t.nl=function(a,c){if(2==this.Ha)a.Ng.x=.5*(this.H[0].x+this.H[1].x),a.Ng.y=.5*(this.H[0].y+this.H[1].y),a.vg=0,a.ak=0;else{for(var b=0,d=0,e=0,f=0,g=1/3,k=0;k<this.Ha;++k)var n=this.H[k],m=k+1<this.Ha?this.H[k+1]:this.H[0],l=n.x-0,h=n.y-0,q=m.x-0,r=m.y-0,s=l*r-h*q,u=.5*s,e=e+u,b=b+u*g*(0+n.x+m.x),d=d+u*g*(0+n.y+m.y),n=l,f=f+s*(g*(.25*(n*n+q*n+q*q)+(0*n+0*q))+0+(g*(.25*(h*h+r*h+r*r)+(0*h+0*r))+0));a.vg=c*e;a.Ng.Set(1/e*b,1/e*d);a.ak=c*f}};t.sn=function(a,
c,b,d){var e=U.Jg(b.n,a),f=c-U.sb(a,b.position),g=[],k=0,n=-1;c=-1;var m=!1;for(a=a=0;a<this.Ha;++a){g[a]=U.sb(e,this.H[a])-f;var l=g[a]<-Number.MIN_VALUE;0<a&&(l?m||(n=a-1,k++):m&&(c=a-1,k++));m=l}switch(k){case 0:return m?(a=new Dc,this.nl(a,1),d.D(U.lc(b,a.Ng)),a.vg):0;case 1:-1==n?n=this.Ha-1:c=this.Ha-1}a=(n+1)%this.Ha;e=(c+1)%this.Ha;f=(0-g[n])/(g[a]-g[n]);g=(0-g[c])/(g[e]-g[c]);n=O.r(this.H[n].x*(1-f)+this.H[a].x*f,this.H[n].y*(1-f)+this.H[a].y*f);c=O.r(this.H[c].x*(1-g)+this.H[e].x*g,this.H[c].y*
(1-g)+this.H[e].y*g);g=0;f=O.r(0,0);for(k=this.H[a];a!=e;)a=(a+1)%this.Ha,m=a==e?c:this.H[a],l=.5*((k.x-n.x)*(m.y-n.y)-(k.y-n.y)*(m.x-n.x)),g+=l,f.x+=l*(n.x+k.x+m.x)/3,f.y+=l*(n.y+k.y+m.y)/3,k=m;f.kd(1/g);d.D(U.lc(b,f));return g};t.zq=function(a){a.H=this.H;a.ha=this.Ha;a.Na=this.Na};t.An=function(a){for(var c=0,b=this.H[0].x*a.x+this.H[0].y*a.y,d=1;d<this.Ha;++d){var e=this.H[d].x*a.x+this.H[d].y*a.y;e>b&&(c=d,b=e)}return c};t.tl=function(a){for(var c=0,b=this.H[0].x*a.x+this.H[0].y*a.y,d=1;d<this.Ha;++d){var e=
this.H[d].x*a.x+this.H[d].y*a.y;e>b&&(c=d,b=e)}return this.H[c]};t.Al=function(a){this.H=[];this.na=[];for(var c=this.H.length;c<a;c++)this.H[c]=O.r(0,0),this.na[c]=O.r(0,0)};W.Dy=function(a,c){for(var b=O.r(0,0),d=0,e=1/3,f=0;f<c;++f){var g=a[f],k=f+1<c?a[f+1]:a[0],n=.5*((g.x-0)*(k.y-0)-(g.y-0)*(k.x-0)),d=d+n;b.x+=n*e*(0+g.x+k.x);b.y+=n*e*(0+g.y+k.y)}b.x*=1/d;b.y*=1/d;return b};W.pF=new P;W.hf="b2PolygonShape";var Ec=function(){this.Gq=this.Fq=this.Hq=this.nd=0};t=Ec.prototype;t.Ni=function(a){this.nd=
a;this.Hq=this.nd&255;this.Fq=(this.nd&65280)>>8&255;this.Gq=(this.nd&16711680)>>16&255;this.Mu=(this.nd&4278190080)>>24&255};t.Set=function(a){this.Ni(a.nd)};t.Gu=function(a){this.Hq=a;this.nd=this.nd&4294967040|this.Hq&255};t.Eu=function(a){this.Fq=a;this.nd=this.nd&4294902015|this.Fq<<8&65280};t.Fu=function(a){this.Gq=a;this.nd=this.nd&4278255615|this.Gq<<16&16711680};t.sz=function(a){this.Mu=a;this.nd=this.nd&16777215|this.Mu<<24&4278190080};t.Vb=function(){var a=new Ec;a.Set(this);return a};
var Fc=function(){this.Ie=O.r(0,0);this.id=new Ec};Fc.prototype.Set=function(a){this.Ie.D(a.Ie);this.id.Set(a.id)};var Gc=function(){this.ta=O.r(0,0);this.va=O.r(0,0)},Hc=[],Ic=function(){if(0<Hc.length){var a=Hc.pop();a.aa();return a}return new Gc};t=Gc.prototype;t.aa=function(){this.ta.Set(0,0);this.va.Set(0,0)};t.Cn=function(){return 0>this.va.x-this.ta.x||0>this.va.y-this.ta.y?!1:this.ta.Cn()&&this.va.Cn()};t.Ky=function(){return O.r((this.ta.x+this.va.x)/2,(this.ta.y+this.va.y)/2)};t.fq=function(a){var c;
return c=(c=(c=(c=this.ta.x<=a.ta.x)&&this.ta.y<=a.ta.y)&&a.va.x<=this.va.x)&&a.va.y<=this.va.y};t.Fl=function(a){return 0<a.ta.x-this.va.x||0<a.ta.y-this.va.y||0<this.ta.x-a.va.x||0<this.ta.y-a.va.y?!1:!0};t.rn=function(a,c){this.ta.x=Math.min(a.ta.x,c.ta.x);this.ta.y=Math.min(a.ta.y,c.ta.y);this.va.x=Math.max(a.va.x,c.va.x);this.va.y=Math.max(a.va.y,c.va.y)};var Jc=function(a,c,b,d){var e=0,f=c[0].Ie,g=c[1].Ie,k=b.x*f.x+b.y*f.y-d;b=b.x*g.x+b.y*g.y-d;0>=k&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);
0>k*b&&(b=k/(k-b),d=a[e].Ie,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=0<k?c[0].id:c[1].id,e++);return e},Kc=function(a,c,b,d,e){for(var f=c.n.i.x*a.na[b].x+c.n.j.x*a.na[b].y,g=c.n.i.y*a.na[b].x+c.n.j.y*a.na[b].y,k=e.n.i.x*f+e.n.i.y*g,n=e.n.j.x*f+e.n.j.y*g,m=0,l=Number.MAX_VALUE,h=0;h<d.Ha;h++){var q=d.H[h].x*k+d.H[h].y*n;q<l&&(l=q,m=h)}return(e.position.x+(e.n.i.x*d.H[m].x+e.n.j.x*d.H[m].y)-(c.position.x+(c.n.i.x*a.H[b].x+c.n.j.x*a.H[b].y)))*f+(e.position.y+(e.n.i.y*d.H[m].x+e.n.j.y*d.H[m].y)-
(c.position.y+(c.n.i.y*a.H[b].x+c.n.j.y*a.H[b].y)))*g},Lc=function(a,c,b,d){for(var e=d.position.x+(d.n.i.x*b.ud.x+d.n.j.x*b.ud.y),f=d.position.y+(d.n.i.y*b.ud.x+d.n.j.y*b.ud.y),e=e-(c.position.x+(c.n.i.x*a.ud.x+c.n.j.x*a.ud.y)),f=f-(c.position.y+(c.n.i.y*a.ud.x+c.n.j.y*a.ud.y)),g=e*c.n.i.x+f*c.n.i.y,f=e*c.n.j.x+f*c.n.j.y,e=0,k=-Number.MAX_VALUE,n=0;n<a.Ha;++n){var m=a.na[n].x*g+a.na[n].y*f;m>k&&(k=m,e=n)}g=Kc(a,c,e,b,d);f=e-1;0>f&&(f=a.Ha-1);k=Kc(a,c,f,b,d);n=e+1;n>=a.Ha&&(n=0);var m=Kc(a,c,n,b,
d),l=0,h=0;if(k>g&&k>m)for(l=f,h=k;;)if(e=l-1,0>e&&(e=a.Ha-1),g=Kc(a,c,e,b,d),g>h)l=e,h=g;else break;else if(m>g)for(l=n,h=m;;)if(e=l+1,e>=a.Ha&&(e=0),g=Kc(a,c,e,b,d),g>h)l=e,h=g;else break;else l=e,h=g;return{Yu:l,Fp:h}},Nc=function(a,c,b){var d=new Mc;d.nz(c,b.uh,b.Xp,b.vh,b.Yp);for(var e=0;20>e;){for(var f=[],g=0;g<d.ha;g++)f[g]={},f[g].Qb=d.H[g].Qb,f[g].Rb=d.H[g].Rb;2==d.ha?d.uz():3==d.ha&&d.vz();if(3==d.ha)break;g=d.My();if(g.Dn()<xc)break;var k=g.Gh();d.H[d.ha].Qb=b.uh.An(U.Jg(b.Xp.n,k));d.H[d.ha].Sc=
U.lc(b.Xp,b.uh.Gc(d.H[d.ha].Qb));d.H[d.ha].Rb=b.vh.An(U.Jg(b.Yp.n,g));d.H[d.ha].gf=U.lc(b.Yp,b.vh.Gc(d.H[d.ha].Rb));d.H[d.ha].ic=U.hb(d.H[d.ha].gf,d.H[d.ha].Sc);O.Ob(g);O.Ob(k);e++;k=!1;for(g=0;g<f.length;g++)if(d.H[d.ha].Qb==f[g].Qb&&d.H[d.ha].Rb==f[g].Rb){k=!0;break}if(k)break;d.ha++}d.Ny(a.If,a.Jf);a.Sg=U.hb(a.If,a.Jf).Zf();d.Bz(c);b.gy&&(c=b.uh.Na,b=b.vh.Na,a.Sg>c+b&&a.Sg>Number.MIN_VALUE?(a.Sg-=c+b,d=U.hb(a.Jf,a.If),d.md(),a.If.x+=c*d.x,a.If.y+=c*d.y,a.Jf.x-=b*d.x,a.Jf.y-=b*d.y,O.Ob(d)):(b=O.r(0,
0),b.x=.5*(a.If.x+a.Jf.x),b.y=.5*(a.If.y+a.Jf.y),a.If.x=a.Jf.x=b.x,a.If.y=a.Jf.y=b.y,a.Sg=0,O.Ob(b)))},Oc=function(){},Pc=function(){this.If=O.r(0,0);this.Jf=O.r(0,0);this.Sg=0},Qc=function(){};Qc.prototype.Set=function(a){a.zq(this)};Qc.prototype.An=function(a){for(var c=0,b=this.H[0].x*a.x+this.H[0].y*a.y,d=1;d<this.ha;d++){var e=this.H[d].x*a.x+this.H[d].y*a.y;e>b&&(c=d,b=e)}return c};Qc.prototype.tl=function(a){return this.H[this.An(a)]};Qc.prototype.Gc=function(a){void 0===a&&(a=0);return this.H[a]};
var Rc=function(){this.ug=null};t=Rc.prototype;t.ol=function(a,c){var b=Sc(c);b.Ma.ta.x=a.ta.x-.1;b.Ma.ta.y=a.ta.y-.1;b.Ma.va.x=a.va.x+.1;b.Ma.va.y=a.va.y+.1;this.nu(b);return b};t.pl=function(a){this.xu(a);a.Cd()};t.rq=function(a,c,b){if(a.Ma.fq(c))return!1;this.xu(a);var d=.1+2*Math.abs(b.x);b=.1+2*Math.abs(b.y);a.Ma.ta.x=c.ta.x-d;a.Ma.ta.y=c.ta.y-b;a.Ma.va.x=c.va.x+d;a.Ma.va.y=c.va.y+b;this.nu(a);return!0};t.rl=function(a){return a.Ma};t.xq=function(a,c){if(null!==this.ug){var b=[];for(b.push(this.ug);0<
b.length;){var d=b.pop();if(d.Ma.Fl(c))if(d.ou()){if(!a(d.Te))break}else b.push(d.Pd),b.push(d.eg)}}};t.nu=function(a){if(null===this.ug)this.ug=a,this.ug.parent=null;else{var c=this.Jy(a),b=c.parent,d=Sc();d.parent=b;d.Ma.rn(a.Ma,c.Ma);if(b)for(c.parent.Pd==c?b.Pd=d:b.eg=d,d.Pd=c,d.eg=a,c.parent=d,a.parent=d;b&&!b.Ma.fq(d.Ma);)b.Ma.rn(b.Pd.Ma,b.eg.Ma),d=b,b=b.parent;else d.Pd=c,d.eg=a,c.parent=d,this.ug=a.parent=d}};t.Jy=function(a){a=a.Ma.Ky();for(var c=this.ug;!c.ou();)var b=c.Pd,c=c.eg,d=Math.abs((b.Ma.ta.x+
b.Ma.va.x)/2-a.x)+Math.abs((b.Ma.ta.y+b.Ma.va.y)/2-a.y),e=Math.abs((c.Ma.ta.x+c.Ma.va.x)/2-a.x)+Math.abs((c.Ma.ta.y+c.Ma.va.y)/2-a.y),c=d<e?b:c;O.Ob(a);return c};t.xu=function(a){if(a==this.ug)this.ug=null;else{var c=a.parent,b=c.parent;a=c.Pd==a?c.eg:c.Pd;if(b)for(b.Pd==c?b.Pd=a:b.eg=a,a.parent=b;b;){a=b.Ma;b.Ma.rn(b.Pd.Ma,b.eg.Ma);if(a.fq(b.Ma))break;b=b.parent}else this.ug=a,a.parent=null;c.Cd()}};var Tc=function(){this.ph=new Rc;this.mp=[]};t=Tc.prototype;t.ol=function(a,c){var b=this.ph.ol(a,
c);this.du(b);return b};t.pl=function(a){this.zz(a);this.ph.pl(a)};t.rq=function(a,c,b){this.ph.rq(a,c,b)&&this.du(a)};t.Fl=function(a,c){return this.ph.rl(a).Fl(this.ph.rl(c))};t.rl=function(a){return this.ph.rl(a)};t.Az=function(a){for(var c=[];0<this.mp.length;){var b=this.mp.pop();this.ph.xq(function(a){a!=b.Te&&c.push(new Uc(b.Te,a));return!0},this.ph.rl(b))}for(var d=0;d<c.length;){var e=c[d];a(e.Wl,e.Xl);for(d++;d<c.length;){var f=c[d];if(!(f.Wl==e.Wl&&f.Xl==e.Xl||f.Wl==e.Xl&&f.Xl==e.Wl))break;
d++}}};t.xq=function(a,c){this.ph.xq(a,c)};t.du=function(a){this.mp.push(a)};t.zz=function(a){Da(this.mp,a)};var Vc=function(a){this.Ma=Ic();this.Te=this.parent=this.eg=this.Pd=null;"undefined"!=typeof a&&(this.Te=a)},Wc=[],Sc=function(a){if(0<Wc.length){var c=Wc.pop();"undefined"!=typeof a&&(c.Te=a);c.Ma.aa();return c}return new Vc(a)};Vc.prototype.Cd=function(){this.Te=this.parent=this.eg=this.Pd=null;Wc.push(this)};Vc.prototype.ou=function(){return null===this.Pd};var Uc=function(a,c){this.Wl=
a;this.Xl=c},Yc=function(){this.Oa=this.Ib=0;this.ea=[];for(var a=0;2>a;a++)this.ea[a]=new Xc;this.Cc=O.r(0,0);this.la=O.r(0,0)};Yc.prototype.vc=function(){for(var a=0;2>a;a++)this.ea[a].vc();this.Cc.aa();this.la.aa();this.Ib=this.Oa=0};Yc.prototype.Set=function(a){this.Ib=a.Ib;for(var c=0;2>c;c++)this.ea[c].Set(a.ea[c]);this.Cc.D(a.Cc);this.la.D(a.la);this.Oa=a.Oa};Yc.prototype.Vb=function(){var a=new Yc;a.Set(this);return a};var Xc=function(){this.la=O.r(0,0);this.Ye=new Ec;this.vc()};Xc.prototype.vc=
function(){this.la.aa();this.Ij=this.Ej=0;this.Ye.Ni(0)};Xc.prototype.Set=function(a){this.la.D(a.la);this.Ej=a.Ej;this.Ij=a.Ij;this.Ye.Set(a.Ye)};var Zc=function(){this.la=O.r(0,0);this.O=O.r(0,0)};Zc.prototype.Pb=function(a,c,b,d,e){this.fi=c;this.gi=d;var f,g,k,n=k=g=0,m=0;d=c=0;var l,h,n=0;1==a.count?(this.Oa=$c,f=this.fi.Gc(a.Qb[0]),a=this.gi.Gc(a.Rb[0]),h=f,l=b.n,g=b.position.x+(l.i.x*h.x+l.j.x*h.y),k=b.position.y+(l.i.y*h.x+l.j.y*h.y),h=a,l=e.n,n=e.position.x+(l.i.x*h.x+l.j.x*h.y),m=e.position.y+
(l.i.y*h.x+l.j.y*h.y),this.O.x=n-g,this.O.y=m-k,this.O.md()):(a.Rb[0]==a.Rb[1]?(this.Oa=ad,c=this.fi.Gc(a.Qb[0]),d=this.fi.Gc(a.Qb[1]),a=this.gi.Gc(a.Rb[0]),this.la.x=.5*(c.x+d.x),this.la.y=.5*(c.y+d.y),this.O=U.Ig(U.hb(d,c),1),this.O.md(),h=this.O,l=b.n,c=l.i.x*h.x+l.j.x*h.y,d=l.i.y*h.x+l.j.y*h.y,h=this.la,l=b.n,g=b.position.x+(l.i.x*h.x+l.j.x*h.y),k=b.position.y+(l.i.y*h.x+l.j.y*h.y),h=a,l=e.n,n=e.position.x+(l.i.x*h.x+l.j.x*h.y),m=e.position.y+(l.i.y*h.x+l.j.y*h.y),n=(n-g)*c+(m-k)*d):a.Qb[0]==
a.Qb[0]?(this.Oa=bd,g=this.gi.Gc(a.Rb[0]),k=this.gi.Gc(a.Rb[1]),f=this.fi.Gc(a.Qb[0]),this.la.x=.5*(g.x+k.x),this.la.y=.5*(g.y+k.y),this.O=U.Ig(U.hb(k,g),1),this.O.md(),h=this.O,l=e.n,c=l.i.x*h.x+l.j.x*h.y,d=l.i.y*h.x+l.j.y*h.y,h=this.la,l=e.n,n=e.position.x+(l.i.x*h.x+l.j.x*h.y),m=e.position.y+(l.i.y*h.x+l.j.y*h.y),h=f,l=b.n,g=b.position.x+(l.i.x*h.x+l.j.x*h.y),k=b.position.y+(l.i.y*h.x+l.j.y*h.y),n=(g-n)*c+(k-m)*d):(c=this.fi.Gc(a.Qb[0]),d=this.fi.Gc(a.Qb[1]),g=this.gi.Gc(a.Rb[0]),k=this.gi.Gc(a.Rb[1]),
n=U.Fb(b.n,U.hb(d,c)),m=U.Fb(e.n,U.hb(k,g)),e=n.x*n.x+n.y*n.y,b=m.x*m.x+m.y*m.y,f=U.hb(m,n),a=n.x*f.x+n.y*f.y,f=m.x*f.x+m.y*f.y,m=n.x*m.x+n.y*m.y,l=e*b-m*m,n=0,0!=l&&(n=U.mb((m*f-a*b)/l,0,1)),0>(m*n+f)/b&&(n=U.mb((m-a)/e,0,1)),f=O.r(0,0),f.x=c.x+n*(d.x-c.x),f.y=c.y+n*(d.y-c.y),a=O.r(0,0),a.x=g.x+n*(k.x-g.x),a.y=g.y+n*(k.y-g.y),0==n||1==n?(this.Oa=bd,this.O=U.Ig(U.hb(k,g),1),this.O.md(),this.la=a):(this.Oa=ad,this.O=U.Ig(U.hb(d,c),1),this.la=f)),0>n&&this.O.uq())};Zc.prototype.Xf=function(a,c){var b,
d,e=0;switch(this.Oa){case $c:b=U.Jg(a.n,this.O);d=U.Jg(c.n,this.O.Gh());b=this.fi.tl(b);d=this.gi.tl(d);b=U.lc(a,b);d=U.lc(c,d);e=(d.x-b.x)*this.O.x+(d.y-b.y)*this.O.y;break;case ad:e=U.Fb(a.n,this.O);b=U.lc(a,this.la);d=U.Jg(c.n,e.Gh());d=this.gi.tl(d);d=U.lc(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case bd:e=U.Fb(c.n,this.O),d=U.lc(c,this.la),b=U.Jg(a.n,e.Gh()),b=this.fi.tl(b),b=U.lc(a,b),e=(b.x-d.x)*e.x+(b.y-d.y)*e.y}return e};var $c=1,ad=2,bd=4,Mc=function(){this.ia=new cd;this.Ba=new cd;this.Xd=
new cd;this.H=[this.ia,this.Ba,this.Xd]};t=Mc.prototype;t.nz=function(a,c,b,d,e){var f,g;this.ha=a.count;for(var k=this.H,n=0;n<this.ha;n++){var m=k[n];m.Qb=a.Qb[n];m.Rb=a.Rb[n];f=c.Gc(m.Qb);g=d.Gc(m.Rb);m.Sc=U.lc(b,f);m.gf=U.lc(e,g);m.ic=U.hb(m.gf,m.Sc);m.J=0}1<this.ha&&(a=a.TC,f=this.mu(),f<.5*a||2*a<f||f<Number.MIN_VALUE)&&(this.ha=0);0==this.ha&&(m=k[0],m.Qb=0,m.Rb=0,f=c.Gc(0),g=d.Gc(0),m.Sc=U.lc(b,f),m.gf=U.lc(e,g),m.ic=U.hb(m.gf,m.Sc),this.ha=1)};t.Bz=function(a){a.TC=this.mu();a.count=this.ha;
for(var c=this.H,b=0;b<this.ha;b++)a.Qb[b]=c[b].Qb,a.Rb[b]=c[b].Rb};t.My=function(){if(1==this.ha)return this.ia.ic.Gh();if(2==this.ha){var a=U.hb(this.Ba.ic,this.ia.ic);return 0<U.Hi(a,this.ia.ic.Gh())?U.hq(1,a):U.Ig(a,1)}return O.r(0,0)};t.Ny=function(a,c){1==this.ha?(a.D(this.ia.Sc),c.D(this.ia.gf)):2==this.ha?(a.x=this.ia.J*this.ia.Sc.x+this.Ba.J*this.Ba.Sc.x,a.y=this.ia.J*this.ia.Sc.y+this.Ba.J*this.Ba.Sc.y,c.x=this.ia.J*this.ia.gf.x+this.Ba.J*this.Ba.gf.x,c.y=this.ia.J*this.ia.gf.y+this.Ba.J*
this.Ba.gf.y):3==this.ha&&(c.x=a.x=this.ia.J*this.ia.Sc.x+this.Ba.J*this.Ba.Sc.x+this.Xd.J*this.Xd.Sc.x,c.y=a.y=this.ia.J*this.ia.Sc.y+this.Ba.J*this.Ba.Sc.y+this.Xd.J*this.Xd.Sc.y)};t.mu=function(){return 1==this.ha?0:2==this.ha?U.hb(this.ia.ic,this.Ba.ic).Zf():3==this.ha?U.Hi(U.hb(this.Ba.ic,this.ia.ic),U.hb(this.Xd.ic,this.ia.ic)):0};t.uz=function(){var a=this.ia.ic,c=this.Ba.ic,b=U.hb(c,a),a=-(a.x*b.x+a.y*b.y);0>=a?this.ha=this.ia.J=1:(c=c.x*b.x+c.y*b.y,0>=c?(this.ha=this.Ba.J=1,this.ia.Set(this.Ba)):
(b=1/(c+a),this.ia.J=c*b,this.Ba.J=a*b,this.ha=2))};t.vz=function(){var a=this.ia.ic,c=this.Ba.ic,b=this.Xd.ic,d=U.hb(c,a),e=U.sb(c,d),f=-U.sb(a,d),g=U.hb(b,a),k=U.sb(b,g),n=-U.sb(a,g),m=U.hb(b,c),l=U.sb(b,m),m=-U.sb(c,m),g=U.Hi(d,g),d=g*U.Hi(c,b),b=g*U.Hi(b,a),a=g*U.Hi(a,c);0>=f&&0>=n?this.ha=this.ia.J=1:0<e&&0<f&&0>=a?(k=1/(e+f),this.ia.J=e*k,this.Ba.J=f*k,this.ha=2):0<k&&0<n&&0>=b?(e=1/(k+n),this.ia.J=k*e,this.Xd.J=n*e,this.ha=2,this.Ba.Set(this.Xd)):0>=e&&0>=m?(this.ha=this.Ba.J=1,this.ia.Set(this.Ba)):
0>=k&&0>=l?(this.ha=this.Xd.J=1,this.ia.Set(this.Xd)):0<l&&0<m&&0>=d?(e=1/(l+m),this.Ba.J=l*e,this.Xd.J=m*e,this.ha=2,this.ia.Set(this.Xd)):(e=1/(d+b+a),this.ia.J=d*e,this.Ba.J=b*e,this.Xd.J=a*e,this.ha=3)};var dd=function(){this.Qb=[0,0,0];this.Rb=[0,0,0]},cd=function(){};cd.prototype.Set=function(a){this.Sc.D(a.Sc);this.gf.D(a.gf);this.ic.D(a.ic);this.J=a.J;this.Qb=a.Qb;this.Rb=a.Rb};var ed=function(){this.uh=new Qc;this.vh=new Qc;this.Kx=new Ac;this.Lx=new Ac},fd=function(){this.ma=O.r(0,0);this.ea=
[];for(var a=this.Ib=0;2>a;a++)this.ea[a]=O.r(0,0)};fd.prototype.Pb=function(a,c,b,d,e){if(0!=a.Ib){var f=0,g,k,n=0,m=0,l=0,h=0,q=0;g=0;switch(a.Oa){case 1:k=c.n;g=a.la;f=c.position.x+k.i.x*g.x+k.j.x*g.y;c=c.position.y+k.i.y*g.x+k.j.y*g.y;k=d.n;g=a.ea[0].la;a=d.position.x+k.i.x*g.x+k.j.x*g.y;d=d.position.y+k.i.y*g.x+k.j.y*g.y;g=a-f;k=d-c;n=g*g+k*k;n>xc?(n=Math.sqrt(n),this.ma.x=g/n,this.ma.y=k/n):(this.ma.x=1,this.ma.y=0);g=c+b*this.ma.y;d-=e*this.ma.y;this.ea[0].x=.5*(f+b*this.ma.x+(a-e*this.ma.x));
this.ea[0].y=.5*(g+d);break;case 2:k=c.n;g=a.Cc;n=k.i.x*g.x+k.j.x*g.y;m=k.i.y*g.x+k.j.y*g.y;k=c.n;g=a.la;l=c.position.x+k.i.x*g.x+k.j.x*g.y;h=c.position.y+k.i.y*g.x+k.j.y*g.y;this.ma.x=n;this.ma.y=m;for(f=0;f<a.Ib;f++)k=d.n,g=a.ea[f].la,q=d.position.x+k.i.x*g.x+k.j.x*g.y,g=d.position.y+k.i.y*g.x+k.j.y*g.y,this.ea[f].x=q+.5*(b-(q-l)*n-(g-h)*m-e)*n,this.ea[f].y=g+.5*(b-(q-l)*n-(g-h)*m-e)*m;break;case 4:for(k=d.n,g=a.Cc,n=k.i.x*g.x+k.j.x*g.y,m=k.i.y*g.x+k.j.y*g.y,k=d.n,g=a.la,l=d.position.x+k.i.x*g.x+
k.j.x*g.y,h=d.position.y+k.i.y*g.x+k.j.y*g.y,this.ma.x=-n,this.ma.y=-m,f=0;f<a.Ib;f++)k=c.n,g=a.ea[f].la,q=c.position.x+k.i.x*g.x+k.j.x*g.y,g=c.position.y+k.i.y*g.x+k.j.y*g.y,this.ea[f].x=q+.5*(e-(q-l)*n-(g-h)*m-b)*n,this.ea[f].y=g+.5*(e-(q-l)*n-(g-h)*m-b)*m}}};var kc=function(a,c){this.jd="Body"+kc.tq++;this.A=new ic;this.A.position.D(a.position);this.A.n.Set(a.M);this.k=new Ac;this.k.L.aa();this.k.gd=1;this.k.Me=this.k.J=a.M;this.k.u.x=this.A.n.i.x*this.k.L.x+this.A.n.j.x*this.k.L.y;this.k.u.y=
this.A.n.i.y*this.k.L.x+this.A.n.j.y*this.k.L.y;this.k.u.x+=this.A.position.x;this.k.u.y+=this.A.position.y;this.k.xc.D(this.k.u);this.q=a.ls.Vb();this.jh=O.r(0,0);this.Hk=a.Xi;this.yC=a.nr;this.ws=a.Pu;this.xs=a.Vu;this.zm=a.Xc;this.Ca=c;this.qb=null;this.Fd=new gd;this.Zi=new hd;this.C=a.Qu;this.FC=a.vj;this.tC=a.Si;this.Jm=this.Jj=0;this.Oa=a.type;this.P=this.Oa==V.mc?1:0;this.G=this.Oa==V.mc?1:0;this.N=this.We=0;this.CC=a.Qv;this.sk=new id;this.kp=[]};t=kc.prototype;t.Vj=function(a){a=new jc(this,
this.A,a);this.zm&&a.ol(this.Ca.vd.Gk,this.A);this.sk.qy(a);a.Bm=this;0<a.gp&&this.zu();this.Ca.Hs=!0;return a};t.Cd=function(){O.Ob(this.q);O.Ob(this.jh)};t.fu=function(a){this.sk.oz(a);for(var c=this.Fd.Ea(jd);c;c=c.next)a!=c.nc.ub&&a!=c.nc.pb||this.Ca.vd.Cd(c.nc);this.zm&&a.pl(this.Ca.vd.Gk);a.Cd();a.Bm=null;this.zu()};t.Dl=function(a,c){this.A.n.Set(c);this.A.position.D(a);var b=this.A.n,d=this.k.L;this.k.u.x=b.i.x*d.x+b.j.x*d.y;this.k.u.y=b.i.y*d.x+b.j.y*d.y;this.k.u.x+=this.A.position.x;this.k.u.y+=
this.A.position.y;this.k.xc.D(this.k.u);this.k.Me=this.k.J=c;b=this.Ca.vd.Gk;for(d=this.sk.Ea();d;d=d.next)d.Te.Hu(b,this.A,this.A);this.Ca.vd.wn()};t.Ld=function(){return this.A};t.Aq=function(a){this.Dl(a,this.hd())};t.hd=function(){return this.k.J};t.En=function(a){this.Dl(this.A.position,a)};t.$j=function(){return this.k.u};t.Ji=function(){return this.k.L};t.Oi=function(a){this.Oa!=V.ke&&this.q.D(a)};t.Ii=function(){return this.q};t.Bl=function(a){void 0===a&&(a=0);this.Oa!=V.ke&&(this.C=a)};
t.xn=function(){return this.C};t.Vf=function(a,c){this.Oa==V.mc&&(this.Hc(!0),this.jh.x+=a.x,this.jh.y+=a.y,this.Jj+=(c.x-this.k.u.x)*a.y-(c.y-this.k.u.y)*a.x)};t.on=function(a){void 0===a&&(a=0);this.Oa==V.mc&&(this.Hc(!0),this.Jj+=a)};t.Zj=function(){return this.P};t.lu=function(a){a||(a=new Dc);a.vg=this.P;a.ak=this.We;a.Ng.D(this.k.L);return a};t.zu=function(){this.N=this.We=this.G=this.P=0;this.k.L.aa();if(this.Oa!=V.ke&&this.Oa!=V.Xu){for(var a=O.r(0,0),c=this.sk.Ea();c;c=c.next){var b=c.Te;
0!=b.gp&&(b=b.lu(),this.P+=b.vg,a.x+=b.Ng.x*b.vg,a.y+=b.Ng.y*b.vg,this.We+=b.ak)}0<this.P?(this.G=1/this.P,a.x*=this.G,a.y*=this.G):this.G=this.P=1;0<this.We&&!this.yC?(this.We-=this.P*(a.x*a.x+a.y*a.y),this.We*=this.CC,this.N=1/this.We):this.N=this.We=0;c=this.k.u.Vb();this.k.L.D(a);this.k.xc.D(U.lc(this.A,this.k.L));this.k.u.D(this.k.xc);this.q.x+=this.C*-(this.k.u.y-c.y);this.q.y+=this.C*+(this.k.u.x-c.x);O.Ob(a);O.Ob(c)}};t.Bn=function(a){var c=this.A.n;a=O.r(c.i.x*a.x+c.j.x*a.y,c.i.y*a.x+c.j.y*
a.y);a.x+=this.A.position.x;a.y+=this.A.position.y;return a};t.oq=function(a){return U.Fb(this.A.n,a)};t.Uc=function(a){return U.sq(this.A,a)};t.nq=function(a){return U.Jg(this.A.n,a)};t.Ly=function(a){return O.r(this.q.x-this.C*(a.y-this.k.u.y),this.q.y+this.C*(a.x-this.k.u.x))};t.uc=function(){return this.Oa};t.Hc=function(a){if(this.xs!=a)for(this.xs=a,this.Jm=0,a||(this.q.aa(),this.C=0,this.jh.aa(),this.Jj=0),a=0;a<this.kp.length;a++)this.kp[a].Ku(this)};t.Vc=function(){return this.xs};t.Li=function(){return this.zm};
t.lq=function(){return this.sk};t.kl=function(a){this.Zi.kl(a)};t.zl=function(a){this.Zi.zl(a)};t.Fh=function(){return this.Fd};t.Iu=function(){var a=kc.tD;a.n.Set(this.k.Me);var c=a.n,b=this.k.L;a.position.x=this.k.xc.x-(c.i.x*b.x+c.j.x*b.y);a.position.y=this.k.xc.y-(c.i.y*b.x+c.j.y*b.y);c=this.Ca.vd.Gk;for(b=this.sk.Ea();b;b=b.next)b.Te.Hu(c,a,this.A)};t.tb=function(){this.A.n.Set(this.k.J);var a=this.A.n,c=this.k.L;this.A.position.x=this.k.u.x-(a.i.x*c.x+a.j.x*c.y);this.A.position.y=this.k.u.y-
(a.i.y*c.x+a.j.y*c.y)};t.Pi=function(a){if(this.Oa!=V.mc&&a.Oa!=V.mc)return!1;for(var c=this.qb;c;c=c.next)if(c.Ce==a&&0==c.eh.Gw)return!1;return!0};t.Eh=function(a){this.k.Eh(a);this.k.u.D(this.k.xc);this.k.J=this.k.Me;this.tb()};kc.tq=0;var V=function(){this.position=O.r(0,0);this.ls=O.r(0,0);this.Si=this.vj=this.Qu=this.M=0;this.Vu=this.Pu=!0;this.Xi=this.nr=!1;this.type=V.ke;this.Xc=!0;this.Qv=1};V.ke=0;V.Xu=1;V.mc=2;var ld=function(){this.Qn=[];for(var a=0;a<=kd;a++)this.Qn[a]=null;this.Rn=[];
for(a=0;a<=kd;a++)this.Rn[a]=null;this.hk={}};t=ld.prototype;t.Ea=function(a){return this.Qn[a]};t.Sj=function(a){var c=a.jd;null==this.hk[c]&&(this.Wf(a,c,kd),this.Ku(a),a.kp.push(this))};t.Ku=function(a){var c=a.uc(),b=a.jd,d=a.Vc(),e=a.Li();c==V.mc?this.Wf(a,b,md):this.$f(b,md);c!=V.ke?this.Wf(a,b,nd):this.$f(b,nd);c!=V.ke&&e&&d?this.Wf(a,b,od):this.$f(b,od);d?this.Wf(a,b,pd):this.$f(b,pd);e?this.Wf(a,b,qd):this.$f(b,qd)};t.yl=function(a){var c=a.jd;if(null!=this.hk[c]){Da(a.kp,this);for(a=0;a<=
kd;a++)this.$f(c,a);delete this.hk[c]}};t.$f=function(a,c){var b=this.hk[a];if(null!=b){var d=b[c];null!=d&&(b[c]=null,b=d.cf,d=d.next,null==b?this.Qn[c]=d:b.kf(d),null==d?this.Rn[c]=b:d.lf(b))}};t.Wf=function(a,c,b){var d=this.hk[c];if(null==d){for(var d=[],e=0;e<=kd;e++)d[e]=null;this.hk[c]=d}null==d[b]&&(d[b]=new rd(a),a=this.Rn[b],null!=a?a.kf(d[b]):this.Qn[b]=d[b],d[b].lf(a),this.Rn[b]=d[b])};var md=0,nd=1,qd=2,od=3,pd=4,kd=5,rd=function(a){this.body=a;this.cf=this.next=null};rd.prototype.kf=
function(a){this.next=a};rd.prototype.lf=function(a){this.cf=a};rd.prototype.La=function(){return this.body};var mc=function(){};mc.prototype.Pi=function(a,c){var b=a.ju(),d=c.ju();return b.Wh==d.Wh&&0!=b.Wh?0<b.Wh:0!=(b.Pk&d.jk)&&0!=(b.jk&d.Pk)};mc.Vz=new mc;var sd=function(){this.YC=[];this.CD=[]},lc=function(){};lc.prototype.pn=function(){};var ud=function(a){this.Ca=a;this.ys=mc.Vz;this.hh=lc.Wu;this.Hw=new td;this.Gk=new Tc};ud.prototype.ty=function(a,c){var b=a.La(),d=c.La();if(b!=d&&d.Pi(b)&&
this.ys.Pi(a,c)){for(b=d.Fd.Ea(jd);b;b=b.next)if(d=b.nc.ub,d==a){if(d=b.nc.pb,d==c)return}else if(d==c&&(d=b.nc.pb,d==a))return;this.Hw.Ke(a,c)}};ud.prototype.wn=function(){var a=this;this.Gk.Az(function(c,b){a.ty(c,b)})};ud.prototype.Cd=function(a){0<a.Ae.Ib&&(a.ub.La().Hc(!0),a.pb.La().Hc(!0));a.pz();this.Hw.Cd(a)};ud.prototype.By=function(){for(var a=this.Ca.Fd.Ea(jd);a;a=a.next){var c=a.nc,b=c.ub,d=c.pb,e=b.La(),f=d.La();if(0!=e.Vc()||0!=f.Vc()){if(c.po){if(0==f.Pi(e)){this.Cd(c);continue}if(0==
this.ys.Pi(b,d)){this.Cd(c);continue}c.Ay()}0==this.Gk.Fl(b.Fj,d.Fj)?this.Cd(c):c.Ju(this.hh)}}};var vd=function(){this.jk=1;this.Pk=65535;this.Wh=0};vd.prototype.Vb=function(){var a=new vd;a.jk=this.jk;a.Pk=this.Pk;a.Wh=this.Wh;return a};var jc=function(a,c,b){this.jd="Fixture"+jc.tq++;this.xC=b.filter.Vb();this.Aj=Ic();this.Bm=a;this.oh=b.shape.Vb();this.gp=b.tf;this.Bs=b.ig;this.Is=b.Ag;this.ip=b.Sr};t=jc.prototype;t.jc=function(){return this.oh};t.Mi=function(){return this.ip};t.ju=function(){return this.xC.Vb()};
t.La=function(){return this.Bm};t.lu=function(a){a||(a=new Dc);this.oh.nl(a,this.gp);return a};t.Cd=function(){Hc.push(this.Aj)};t.ol=function(a,c){this.oh.Uj(this.Aj,c);this.Fj=a.ol(this.Aj,this)};t.pl=function(a){null!=this.Fj&&(a.pl(this.Fj),this.Fj=null)};t.Hu=function(a,c,b){if(this.Fj){var d=Ic(),e=Ic();this.oh.Uj(d,c);this.oh.Uj(e,b);this.Aj.rn(d,e);Hc.push(d);Hc.push(e);c=U.hb(b.position,c.position);a.rq(this.Fj,this.Aj,c);O.Ob(c)}};jc.tq=0;var pc=function(){this.filter=new vd;this.filter.jk=
1;this.filter.Pk=65535;this.filter.Wh=0;this.shape=null;this.ig=.2;this.tf=this.Ag=0;this.Sr=!1},id=function(){this.qr=this.or=null;this.so={}};id.prototype.Ea=function(){return this.or};id.prototype.qy=function(a){var c=a.jd;if(null==this.so[c]){a=new wd(a);var b=this.qr;null!=b?b.kf(a):this.or=a;a.lf(b);this.qr=a;this.so[c]=a}};id.prototype.oz=function(a){a=a.jd;var c=this.so[a];if(null!=c){var b=c.cf,c=c.next;null==b?this.or=c:b.kf(c);null==c?this.qr=b:c.lf(b);delete this.so[a]}};var wd=function(a){this.Te=
a;this.cf=this.next=null};wd.prototype.kf=function(a){this.next=a};wd.prototype.lf=function(a){this.cf=a};var xd=function(a,c){this.GC=a;this.Ef=c;this.og=[];this.hp=[];this.ei=[];this.ih=[];this.dd=[]};t=xd.prototype;t.qn=function(){this.og=[];this.hp=[];this.ei=[];this.ih=[];this.dd=[]};t.Jh=function(a,c,b){this.Fz(a,c);this.Ef.Pb(a,this.ih,this.ih.length);this.Lz(a);this.Hz(a);this.Iz(a);this.yu(this.Ef.pg);b&&this.Gz(a)};t.Fz=function(a,c){for(var b=0;b<this.hp.length;b++){var d=this.hp[b];d.q.x+=
a.wa*(c.x+d.G*d.jh.x);d.q.y+=a.wa*(c.y+d.G*d.jh.y);d.C+=a.wa*d.N*d.Jj;d.q.kd(U.mb(1-a.wa*d.FC,0,1));d.C*=U.mb(1-a.wa*d.tC,0,1)}};t.Lz=function(a){this.Ef.Le(a);for(var c=0;c<this.dd.length;c++)this.dd[c].Le(a);for(c=0;c<a.hn;c++){for(var b=0;b<this.dd.length;b++)this.dd[b].he(a);this.Ef.he()}for(a=0;a<this.dd.length;a++)this.dd[a].jq();this.Ef.jq()};t.Hz=function(a){for(var c=0;c<this.ei.length;++c){var b=this.ei[c],d=a.wa*b.q.x,e=a.wa*b.q.y;4<d*d+e*e&&(b.q.md(),b.q.x=2*b.q.x*a.$g,b.q.y=2*b.q.y*a.$g);
d=a.wa*b.C;d*d>vc&&(b.C=0>b.C?-uc*a.$g:uc*a.$g);b.k.xc.D(b.k.u);b.k.Me=b.k.J;b.k.u.x+=a.wa*b.q.x;b.k.u.y+=a.wa*b.q.y;b.k.J+=a.wa*b.C;b.tb()}};t.Iz=function(a){for(var c=0;c<a.Qm;c++){for(var b=this.Ef.ge(.2),d=!0,e=0;e<this.dd.length;e++)var f=this.dd[e].ge(.2),d=d&&f;if(b&&d)break}};t.Gz=function(a){for(var c=Number.MAX_VALUE,b=0;b<this.ei.length;b++){var d=this.ei[b];!d.ws||Math.abs(d.C)>wc||1E-4<U.sb(d.q,d.q)?c=d.Jm=0:(d.Jm+=a.wa,c=Math.min(c,d.Jm))}if(.5<=c)for(a=0;a<this.og.length;a++)this.og[a].Hc(!1)};
t.Cq=function(a){var c=0,b=0;this.Ef.Pb(a,this.ih,this.ih.length);for(var d=this.Ef,c=0;c<this.dd.length;++c)this.dd[c].Le(a);for(c=0;c<a.hn;++c)for(d.he(),b=0;b<this.dd.length;++b)this.dd[b].he(a);for(c=0;c<this.ei.length;++c){var b=this.ei[c],e=a.wa*b.q.x,f=a.wa*b.q.y;4<e*e+f*f&&(b.q.md(),b.q.x=2*b.q.x*a.$g,b.q.y=2*b.q.y*a.$g);e=a.wa*b.C;e*e>vc&&(b.C=0>b.C?-uc*a.$g:uc*a.$g);b.k.xc.D(b.k.u);b.k.Me=b.k.J;b.k.u.x+=a.wa*b.q.x;b.k.u.y+=a.wa*b.q.y;b.k.J+=a.wa*b.C;b.tb()}for(c=0;c<a.Qm;++c){e=d.ge(.75);
f=!0;for(b=0;b<this.dd.length;++b)var g=this.dd[b].ge(.2),f=f&&g;if(e&&f)break}this.yu(d.pg)};t.yu=function(a){if(null!=this.GC)for(var c=0;c<this.ih.length;++c)for(var b=a[c],d=new sd,e=0;e<b.bf;++e)d.YC[e]=b.Lb[e].Kb,d.CD[e]=b.Lb[e].Eg};t.Sj=function(a){this.og.push(a);a.uc()!=V.ke&&(this.ei.push(a),a.uc()==V.mc&&this.hp.push(a))};t.Tj=function(a){this.ih.push(a)};t.bu=function(a){this.dd.push(a)};var yd=function(a,c,b,d,e){this.wa=a;var f=0;0<a&&(f=1/a);this.$g=f;this.Yb=c;this.Qm=b;this.hn=d;
this.Bh=e},nc=function(a,c){this.vd=new ud(this);this.Ef=new zd;this.Hs=!1;this.wc=new ld;this.Fd=new gd;this.qb=null;this.Zi=new hd;this.jp=0;this.vC=this.MC=!0;this.ws=c;this.Iw=a;this.Jw=0;this.BC=this.gq(new V)};nc.Ty=1-100*Number.MIN_VALUE;t=nc.prototype;t.Cu=function(a){this.vd.ys=a};t.Du=function(a){this.vd.hh=a};t.gq=function(a){a=new kc(a,this);this.wc.Sj(a);return a};t.un=function(a){for(var c=a.qb;c;){var b=c,c=c.next;this.vn(b.eh)}for(c=a.Zi.Ea();c;c=c.next)c.lv.yl(a);for(c=a.Fd.Ea(jd);c;c=
c.next)this.vd.Cd(c.nc);for(c=a.lq().Ea();c;c=c.next)a.fu(c.Te);a.Cd();this.wc.yl(a)};t.tn=function(a){var c=Z.Ke(a);c.Jk=null;if(c.di=this.qb)this.qb.Jk=c;this.qb=c;this.jp++;c.wd.eh=c;c.wd.Ce=c.R;c.wd.prev=null;if(c.wd.next=c.Q.qb)c.Q.qb.prev=c.wd;c.Q.qb=c.wd;c.xd.eh=c;c.xd.Ce=c.Q;c.xd.prev=null;if(c.xd.next=c.R.qb)c.R.qb.prev=c.xd;c.R.qb=c.xd;var b=a.I,d=a.K;if(!a.Uq)for(a=d.Fd.Ea(jd);a;a=a.next)a.nc.zn(d)==b&&a.nc.hu();return c};t.vn=function(a){var c=a.Gw;a.Jk&&(a.Jk.di=a.di);a.di&&(a.di.Jk=
a.Jk);a==this.qb&&(this.qb=a.di);var b=a.Q,d=a.R;b.Hc(!0);d.Hc(!0);a.wd.prev&&(a.wd.prev.next=a.wd.next);a.wd.next&&(a.wd.next.prev=a.wd.prev);a.wd==b.qb&&(b.qb=a.wd.next);a.wd.prev=null;a.wd.next=null;a.xd.prev&&(a.xd.prev.next=a.xd.next);a.xd.next&&(a.xd.next.prev=a.xd.prev);a.xd==d.qb&&(d.qb=a.xd.next);a.xd.prev=null;a.xd.next=null;this.jp--;if(!c)for(a=d.Fd.Ea(jd);a;a=a.next)a.nc.zn(d)==b&&a.nc.hu()};t.kl=function(a){if(null!==a.Ca&&a.Ca!=this)throw Error("Controller can only be a member of one world");
this.Zi.kl(a);a.Ca=this;return a};t.zl=function(a){this.Zi.zl(a);a.Ca=null;a.qn()};t.Kg=function(a,c,b){this.Hs&&(this.vd.wn(),this.Hs=!1);a=new yd(a,this.Jw*a,c,b,this.MC);this.vd.By();0<a.wa&&(this.Jh(a),this.vC&&this.Cq(a),this.Jw=a.$g)};t.eu=function(){for(var a=this.wc.Ea(md);a;a=a.next)a.body.jh.aa(),a.body.Jj=0};t.Fh=function(){return this.Fd};var Ad=[];nc.prototype.Jh=function(a){for(var c=this.Zi.Ea();c;c=c.next)c.lv.Kg(a);for(var c=new xd(this.vd.hh,this.Ef),b=this.wc.Ea(kd);b;b=b.next)b.body.kb=
!1;for(var d=this.Fd.Ea(jd);d;d=d.next)d.nc.kb=!1;for(b=this.qb;b;b=b.di)b.kb=!1;for(b=this.wc.Ea(od);b;b=b.next)if(d=b.body,!d.kb){c.qn();Ad.length=0;var e=Ad;e.push(d);for(d.kb=!0;0<e.length;){var f=e.pop();c.Sj(f);f.Vc()||f.Hc(!0);if(f.uc()!=V.ke){for(d=f.Fd.Ea(Bd);d;d=d.next){var g=d.nc;g.kb||(c.Tj(g),g.kb=!0,g=g.zn(f),g.kb||(e.push(g),g.kb=!0))}for(d=f.qb;d;d=d.next)!d.eh.kb&&d.Ce.Li()&&(c.bu(d.eh),d.eh.kb=!0,d.Ce.kb||(e.push(d.Ce),d.Ce.kb=!0))}}c.Jh(a,this.Iw,this.ws)}for(b=this.wc.Ea(od);b;b=
b.next)b.body.Iu();this.vd.wn()};nc.prototype.Cq=function(a){for(var c=new xd(this.vd.hh,this.Ef),b=this.wc.Ea(kd);b;b=b.next){var d=b.body;d.kb=!1;d.k.gd=0}for(var e=this.Fd.Ea(jd);e;e=e.next)e.nc.kb=!1,e.nc.Nk=null;for(b=this.qb;b;b=b.di)b.kb=!1;for(;;){var b=this.Jz(),f=b.UC,b=b.VC;if(null===f||nc.Ty<b)break;e=f.ub.La();d=f.pb.La();nc.wx.Set(e.k);nc.xx.Set(d.k);e.Eh(b);d.Eh(b);f.Ju(this.vd.hh);f.Nk=null;if(f.Ep||!f.enabled)e.k.Set(nc.wx),d.k.Set(nc.xx),e.tb(),d.tb();else if(f.bn){e.uc()!=V.mc&&
(e=d);c.qn();Ad.length=0;f=Ad;f.push(e);for(e.kb=!0;0<f.length;)if(d=f.pop(),c.Sj(d),d.Vc()||d.Hc(!0),d.uc()==V.mc){for(e=d.Fd.Ea(Bd);e&&32!=c.uC;e=e.next){var g=e.nc;g.kb||(c.Tj(g),g.kb=!0,g=g.zn(d),g.kb||(g.uc()!=V.ke&&(g.Eh(b),g.Hc(!0),f.push(g)),g.kb=!0))}for(d=d.qb;d;d=d.next)32!=c.jp&&!d.eh.kb&&d.Ce.Li()&&(c.bu(d.eh),d.eh.kb=!0,d.Ce.kb||(d.Ce.uc()!=V.ke&&(d.Ce.Eh(b),d.Ce.Hc(!0),f.push(d.Ce)),d.Ce.kb=!0))}c.Cq(new yd((1-b)*a.wa,0,a.hn,a.Qm,!1));for(b=0;b<c.og.length;b++)if(c.og[b].kb=!1,c.og[b].Vc()&&
c.og[b].uc()==V.mc)for(c.og[b].Iu(),e=c.og[b].Fd.Ea(jd);e;e=e.next)e.nc.Nk=null;for(b=0;b<c.uC;b++)c.ih[b].kb=!1,c.ih[b].Nk=null;for(b=0;b<c.jp;b++)c.dd[b].kb=!1;this.vd.wn()}}};nc.prototype.Jz=function(){for(var a=null,c=1,b=this.Fd.Ea(Cd);b;b=b.next){var d=b.nc;if(!this.Kz(d)){var e=1;if(null!=d.Nk)e=d.Nk;else{if(d.bn)e=1;else{var e=d.ub.La(),f=d.pb.La(),g=e.k.gd;e.k.gd<f.k.gd?(g=f.k.gd,e.k.Eh(g)):f.k.gd<e.k.gd&&(g=e.k.gd,f.k.Eh(g));e=d.Ey(e.k,f.k);0<e&&1>e&&(e=(1-e)*g+e)}d.Nk=e}Number.MIN_VALUE<
e&&e<c&&(a=d,c=e)}}return{UC:a,VC:c}};nc.prototype.Kz=function(a){var c=a.ub.La();a=a.pb.La();return c.uc()==V.mc&&c.Vc()||a.uc()==V.mc&&a.Vc()?!1:!0};var Ed=function(a,c){this.jd="Contact"+Dd++;this.Ae=new Yc;this.Hm=new Yc;this.bn=!1;var b=a.La(),d=c.La();this.Vq=b.uc()!=V.mc||b.Hk||d.uc()!=V.mc||d.Hk;this.Ep=a.Mi()||c.Mi();this.po=!1;this.ub=a;this.pb=c;this.enabled=!0;this.On=b.Fh();this.Pn=d.Fh();this.dq=d.Ca.Fh();this.cu()};t=Ed.prototype;t.vc=function(a,c){this.Ae.vc();this.Hm.vc();this.bn=
!1;var b=a.La(),d=c.La();this.Vq=b.uc()!=V.mc||b.Hk||d.uc()!=V.mc||d.Hk;this.Ep=a.Mi()||c.Mi();this.po=!1;this.ub=a;this.pb=c;this.enabled=!0;this.On=b.Fh();this.Pn=d.Fh();this.dq=d.Ca.Fh();this.cu()};t.cu=function(){this.On.Tj(this);this.Pn.Tj(this);this.dq.Tj(this);this.Lu()};t.Lu=function(){var a=!1,c=!1;!this.Mi()&&this.pq()&&(this.qq()&&(a=!0),this.Vq&&(c=!0));this.On.Eq(this,a,c);this.Pn.Eq(this,a,c);this.dq.Eq(this,a,c)};t.pz=function(){this.On.yq(this);this.Pn.yq(this);this.dq.yq(this)};t.qq=
function(){return this.bn};t.Mi=function(){return this.Ep};t.pq=function(){return this.enabled};t.zn=function(a){var c=this.ub.La();return c!=a?c:this.pb.La()};t.hu=function(){this.po=!0};t.Ay=function(){this.po=!1};t.Ju=function(a){var c=this.Hm;this.Hm=this.Ae;this.Ae=c;this.enabled=!0;var b=!1,c=this.qq(),d=this.ub.La(),e=this.pb.La(),f=this.ub.Aj.Fl(this.pb.Aj);if(this.Ep){if(f){var b=this.ub.jc(),d=d.Ld(),f=this.pb.jc(),g=e.Ld(),e=new Oc;e.uh=new Qc;e.uh.Set(b);e.vh=new Qc;e.vh.Set(f);e.Xp=d;
e.Yp=g;e.gy=!0;d=new dd;d.count=0;b=new Pc;Nc(b,d,e);b=b.Sg<10*Number.MIN_VALUE}this.Ae.Ib=0}else{this.Vq=d.uc()!=V.mc||d.Hk||e.uc()!=V.mc||e.Hk?!0:!1;if(f)for(this.Xf(),b=0<this.Ae.Ib,f=0;f<this.Ae.Ib;f++){g=this.Ae.ea[f];g.Ej=0;for(var k=g.Ij=0;k<this.Hm.Ib;k++){var n=this.Hm.ea[k];if(n.Ye.nd==g.Ye.nd){g.Ej=n.Ej;g.Ij=n.Ij;break}}}else this.Ae.Ib=0;b!=c&&(d.Hc(!0),e.Hc(!0))}this.bn=b;b!=c&&this.Lu();!c&&b&&a.pn(this)};t.Xf=function(){};t.Ey=function(a,c){Fd.uh.Set(this.ub.jc());Fd.vh.Set(this.pb.jc());
Fd.Kx=a;Fd.Lx=c;Fd.FD=.005;var b=Fd;Gd++;var d=b.uh,e=b.vh,f=b.Kx,g=b.Lx,k=d.Na+e.Na,b=b.FD,n=0,m=0,l=0;Hd.count=0;for(Id.gy=!1;;){f.Ld(Jd,n);g.Ld(Kd,n);Id.uh=d;Id.vh=e;Id.Xp=Jd;Id.Yp=Kd;Nc(Ld,Hd,Id);if(0>=Ld.Sg){n=1;break}Md.Pb(Hd,d,Jd,e,Kd);var h=Md.Xf(Jd,Kd);if(0>=h){n=1;break}0==m&&(l=h>k?Math.max(k-b,.75*k):Math.max(h-b,.02*k));if(h-l<.5*b){if(0==m){n=1;break}break}var q=n,r=n,s=1;f.Ld(Jd,s);g.Ld(Kd,s);var u=Md.Xf(Jd,Kd);if(u>=l){n=1;break}for(var p=0;;){var A=0,A=p&1?r+(l-h)*(s-r)/(u-h):.5*
(r+s);f.Ld(Jd,A);g.Ld(Kd,A);var D=Md.Xf(Jd,Kd);if(Math.abs(D-l)<.025*b){q=A;break}D>l?(r=A,h=D):(s=A,u=D);p++;Nd++;if(50==p)break}Od=Math.max(Od,p);if(q<(1+100*Number.MIN_VALUE)*n)break;n=q;m++;Pd++;if(1E3==m)break}Qd=Math.max(Qd,m);return n};var Fd=new ed,Dd=0,Rd=function(a,c){Ed.call(this,a,c)};x(Rd,Ed);Rd.prototype.vc=function(a,c){Ed.prototype.vc.call(this,a,c)};Rd.prototype.Xf=function(){var a=this.Ae,c=this.ub.jc(),b=this.ub.La().A,d=this.pb.jc(),e=this.pb.La().A;a.Ib=0;var f=e.position.x+(e.n.i.x*
d.Wa.x+e.n.j.x*d.Wa.y)-(b.position.x+(b.n.i.x*c.Wa.x+b.n.j.x*c.Wa.y)),b=e.position.y+(e.n.i.y*d.Wa.x+e.n.j.y*d.Wa.y)-(b.position.y+(b.n.i.y*c.Wa.x+b.n.j.y*c.Wa.y)),e=c.Na+d.Na;f*f+b*b>e*e||(a.Oa=1,a.la.D(c.Wa),a.Cc.aa(),a.Ib=1,a.ea[0].la.D(d.Wa),a.ea[0].Ye.Ni(0))};var Td=function(){this.ng=O.r(0,0);this.Hb=O.r(0,0);this.ed=O.r(0,0);this.qh=new P;this.Md=new P;this.Lb=[];for(var a=0;2>a;a++)this.Lb[a]=new Sd},Sd=function(){this.Hb=O.r(0,0);this.zb=O.r(0,0);this.Ab=O.r(0,0)};Sd.prototype.vc=function(){this.Hb.Set(0,
0);this.zb.Set(0,0);this.Ab.Set(0,0)};var td=function(){this.Gf={};this.kh={};this.ll(Rd,oc.hf,oc.hf);this.ll(Ud,W.hf,oc.hf);this.ll(Vd,W.hf,W.hf);this.ll(Wd,"b2EdgeShape",oc.hf);this.ll(Xd,W.hf,"b2EdgeShape")};td.prototype.ll=function(a,c,b){this.kh[c]=this.kh[c]||{};this.kh[c][b]=this.kh[c][b]||[];this.Gf[c]=this.Gf[c]||{};this.Gf[c][b]=new Yd;this.Gf[c][b].ov=a;this.Gf[c][b].jx=!0;c!=b&&(this.Gf[b]=this.Gf[b]||{},this.Gf[b][c]=new Yd,this.Gf[b][c].ov=a,this.Gf[b][c].jx=!1)};td.prototype.Ke=function(a,
c){var b=a.jc().Ki(),d=c.jc().Ki(),e=this.Gf[b][d],f=e.ov;return null!=f?e.jx?0<this.kh[b][d].length?(b=this.kh[b][d].pop(),b.vc(a,c),b):new f(a,c):0<this.kh[d][b].length?(b=this.kh[d][b].pop(),b.vc(c,a),b):new f(c,a):null};td.prototype.Cd=function(a){var c=a.ub.jc().Ki(),b=a.pb.jc().Ki();this.kh[c][b].push(a)};var gd=function(){this.Xn=[];for(var a=0;a<=jd;a++)this.Xn[a]=null;this.Yn=[];for(a=0;a<=jd;a++)this.Yn[a]=null;this.Yi={}};t=gd.prototype;t.Ea=function(a){return this.Xn[a]};t.Tj=function(a){var c=
a.jd;if(null==this.Yi[c]){this.Yi[c]=[];for(var b=0;b<=jd;b++)this.Yi[c][b]=null;this.Wf(a,c,jd)}};t.Eq=function(a,c,b){c?this.Wf(a,a.jd,Bd):this.$f(a.jd,Bd);b?this.Wf(a,a.jd,Cd):this.$f(a.jd,Cd)};t.yq=function(a){a=a.jd;if(null!=this.Yi[a]){for(var c=0;c<=jd;c++)this.$f(a,c);delete this.Yi[a]}};t.$f=function(a,c){var b=this.Yi[a];if(null!=b){var d=b[c];if(null!=d){b[c]=null;var b=d.cf,e=d.next;null==b?this.Xn[c]=e:b.kf(e);null==e?this.Yn[c]=b:e.lf(b);Zd.push(d)}}};t.Wf=function(a,c,b){c=this.Yi[c];
if(null==c[b]){if(0<Zd.length){var d=Zd.pop();d.next=null;d.cf=null;d.nc=a;a=d}else a=new $d(a);c[b]=a;a=this.Yn[b];null!=a?(a.kf(c[b]),c[b].lf(a)):this.Xn[b]=c[b];this.Yn[b]=c[b]}};var Bd=0,Cd=1,jd=2,$d=function(a){this.nc=a;this.cf=this.next=null},Zd=[];$d.prototype.kf=function(a){this.next=a};$d.prototype.lf=function(a){this.cf=a};var Yd=function(){},ae=function(){this.ma=O.r(0,0);this.op=[];this.ea=[];for(var a=0;2>a;a++)this.ea[a]=O.r(0,0)};ae.prototype.Pb=function(a){switch(a.type){case 1:this.Cz(a);
break;case 2:this.Dz(a);break;case 4:this.Ez(a)}};ae.prototype.Cz=function(a){var c=a.I.A.n,b=a.Hb,d=a.I.A.position.x+(c.i.x*b.x+c.j.x*b.y),e=a.I.A.position.y+(c.i.y*b.x+c.j.y*b.y),c=a.K.A.n,b=a.Lb[0].Hb,f=a.K.A.position.x+(c.i.x*b.x+c.j.x*b.y),c=a.K.A.position.y+(c.i.y*b.x+c.j.y*b.y),b=f-d,g=c-e,k=b*b+g*g;k>xc?(k=Math.sqrt(k),this.ma.x=b/k,this.ma.y=g/k):(this.ma.x=1,this.ma.y=0);this.ea[0].x=.5*(d+f);this.ea[0].y=.5*(e+c);this.op[0]=b*this.ma.x+g*this.ma.y-a.Ap};ae.prototype.Dz=function(a){this.ma.x=
a.I.A.n.i.x*a.ng.x+a.I.A.n.j.x*a.ng.y;this.ma.y=a.I.A.n.i.y*a.ng.x+a.I.A.n.j.y*a.ng.y;for(var c=a.I.A.position.x+(a.I.A.n.i.x*a.Hb.x+a.I.A.n.j.x*a.Hb.y),b=a.I.A.position.y+(a.I.A.n.i.y*a.Hb.x+a.I.A.n.j.y*a.Hb.y),d=0;d<a.bf;d++){var e=a.K.A.position.x+(a.K.A.n.i.x*a.Lb[d].Hb.x+a.K.A.n.j.x*a.Lb[d].Hb.y),f=a.K.A.position.y+(a.K.A.n.i.y*a.Lb[d].Hb.x+a.K.A.n.j.y*a.Lb[d].Hb.y);this.op[d]=(e-c)*this.ma.x+(f-b)*this.ma.y-a.Ap;this.ea[d].x=e;this.ea[d].y=f}};ae.prototype.Ez=function(a){this.ma.x=a.K.A.n.i.x*
a.ng.x+a.K.A.n.j.x*a.ng.y;this.ma.y=a.K.A.n.i.y*a.ng.x+a.K.A.n.j.y*a.ng.y;for(var c=a.K.A.position.x+(a.K.A.n.i.x*a.Hb.x+a.K.A.n.j.x*a.Hb.y),b=a.K.A.position.y+(a.K.A.n.i.y*a.Hb.x+a.K.A.n.j.y*a.Hb.y),d=0;d<a.bf;d++){var e=a.I.A.position.x+(a.I.A.n.i.x*a.Lb[d].Hb.x+a.I.A.n.j.x*a.Lb[d].Hb.y),f=a.I.A.position.y+(a.I.A.n.i.y*a.Lb[d].Hb.x+a.I.A.n.j.y*a.Lb[d].Hb.y);this.op[d]=(e-c)*this.ma.x+(f-b)*this.ma.y-a.Ap;this.ea[d].Set(e,f)}this.ma.x*=-1;this.ma.y*=-1};var zd=function(){this.pg=[]};t=zd.prototype;
t.Pb=function(a,c,b){for(this.Cm=b;this.pg.length<this.Cm;)this.pg[this.pg.length]=new Td;for(a=0;a<b;a++){var d=c[a],e=d.ub,f=d.pb,g=e.oh.Na,k=f.oh.Na,n=e.La(),m=f.La(),l=d.Ae,h=Math.sqrt(e.Bs*f.Bs),q,e=e.Is,f=f.Is;q=e>f?e:f;var r=n.q.x,s=n.q.y,u=m.q.x,p=m.q.y,A=n.C,D=m.C;be.Pb(l,n.A,g,m.A,k);e=be.ma.x;d=be.ma.y;f=this.pg[a];f.I=n;f.K=m;f.NC=l;f.ed.x=e;f.ed.y=d;f.bf=l.Ib;f.ig=h;f.Ag=q;f.ng.x=l.Cc.x;f.ng.y=l.Cc.y;f.Hb.x=l.la.x;f.Hb.y=l.la.y;f.Ap=g+k;f.type=l.Oa;for(g=0;g<f.bf;++g){h=l.ea[g];k=f.Lb[g];
k.Kb=h.Ej;k.Eg=h.Ij;k.Hb.D(h.la);h=k.zb.x=be.ea[g].x-n.k.u.x;q=k.zb.y=be.ea[g].y-n.k.u.y;var L=k.Ab.x=be.ea[g].x-m.k.u.x,z=k.Ab.y=be.ea[g].y-m.k.u.y,B=h*d-q*e,C=L*d-z*e,B=B*B,C=C*C;k.qh=1/(n.G+m.G+n.N*B+m.N*C);var y=n.P*n.G+m.P*m.G,y=y+(n.P*n.N*B+m.P*m.N*C);k.LA=1/y;C=d;y=-e;B=h*y-q*C;C=L*y-z*C;B*=B;C*=C;k.DD=1/(n.G+m.G+n.N*B+m.N*C);k.gn=0;h=f.ed.x*(u+-D*z-r- -A*q)+f.ed.y*(p+D*L-s-A*h);-1>h&&(k.gn+=-f.Ag*h)}2==f.bf&&(p=f.Lb[0],u=f.Lb[1],l=n.G,n=n.N,r=m.G,m=m.N,s=p.zb.x*d-p.zb.y*e,p=p.Ab.x*d-p.Ab.y*
e,A=u.zb.x*d-u.zb.y*e,u=u.Ab.x*d-u.Ab.y*e,e=l+r+n*s*s+m*p*p,d=l+r+n*A*A+m*u*u,m=l+r+n*s*A+m*p*u,e*e<100*(e*d-m*m)?(f.Md.i.Set(e,m),f.Md.j.Set(m,d),f.Md.mq(f.qh)):f.bf=1)}};t.Le=function(a){for(var c=0;c<this.Cm;++c){var b=this.pg[c],d=b.I,e=b.K,f=d.G,g=d.N,k=e.G,n=e.N,m=b.ed.x,l=b.ed.y,h=l,q=-m,r=0,s=0;if(a.Bh)for(s=b.bf,r=0;r<s;++r){var u=b.Lb[r];u.Kb*=a.Yb;u.Eg*=a.Yb;var p=u.Kb*m+u.Eg*h,A=u.Kb*l+u.Eg*q;d.C-=g*(u.zb.x*A-u.zb.y*p);d.q.x-=f*p;d.q.y-=f*A;e.C+=n*(u.Ab.x*A-u.Ab.y*p);e.q.x+=k*p;e.q.y+=
k*A}else for(s=b.bf,r=0;r<s;++r)d=b.Lb[r],d.Kb=0,d.Eg=0}};t.he=function(){for(var a=0;a<this.Cm;a++)this.wz(this.pg[a])};t.wz=function(a){for(var c=a.ed.x,b=a.ed.y,d=0;d<a.bf;d++)zd.prototype.xz(a,a.Lb[d]);if(1==a.bf){var d=a.Lb[0],e=d.Kb-d.qh*((a.K.q.x-a.K.C*d.Ab.y-a.I.q.x+a.I.C*d.zb.y)*c+(a.K.q.y+a.K.C*d.Ab.x-a.I.q.y-a.I.C*d.zb.x)*b-d.gn),e=0<e?e:0,f=e-d.Kb,g=f*c,b=f*b;a.I.q.x-=a.I.G*g;a.I.q.y-=a.I.G*b;a.I.C-=a.I.N*(d.zb.x*b-d.zb.y*g);a.K.q.x+=a.K.G*g;a.K.q.y+=a.K.G*b;a.K.C+=a.K.N*(d.Ab.x*b-d.Ab.y*
g);d.Kb=e}else for(var d=a.Lb[0],e=a.Lb[1],f=d.Kb,g=e.Kb,k=(a.K.q.x-a.K.C*d.Ab.y-a.I.q.x+a.I.C*d.zb.y)*c+(a.K.q.y+a.K.C*d.Ab.x-a.I.q.y-a.I.C*d.zb.x)*b-d.gn,b=(a.K.q.x-a.K.C*e.Ab.y-a.I.q.x+a.I.C*e.zb.y)*c+(a.K.q.y+a.K.C*e.Ab.x-a.I.q.y-a.I.C*e.zb.x)*b-e.gn,k=k-(a.Md.i.x*f+a.Md.j.x*g),b=b-(a.Md.i.y*f+a.Md.j.y*g);;){c=-(a.qh.i.x*k+a.qh.j.x*b);if(0<=c){var n=-(a.qh.i.y*k+a.qh.j.y*b);if(0<=n){this.Gn(a,d,e,c-f,n-g);d.Kb=c;e.Kb=n;break}}c=-d.qh*k;if(0<=c&&0<=a.Md.i.y*c+b){this.Gn(a,d,e,c-f,-g);d.Kb=c;e.Kb=
0;break}c=-e.qh*b;if(0<=c&&0<=a.Md.j.x*c+k){this.Gn(a,d,e,-f,c-g);d.Kb=0;e.Kb=c;break}if(0<=k&&0<=b){this.Gn(a,d,e,-f,-g);d.Kb=0;e.Kb=0;break}break}};t.xz=function(a,c){var b=a.ed.y,d=-a.ed.x,e=a.ig*c.Kb,e=U.mb(c.Eg-c.DD*((a.K.q.x-a.K.C*c.Ab.y-a.I.q.x+a.I.C*c.zb.y)*b+(a.K.q.y+a.K.C*c.Ab.x-a.I.q.y-a.I.C*c.zb.x)*d),-e,e),f=e-c.Eg,b=f*b,d=f*d;a.I.q.x-=a.I.G*b;a.I.q.y-=a.I.G*d;a.I.C-=a.I.N*(c.zb.x*d-c.zb.y*b);a.K.q.x+=a.K.G*b;a.K.q.y+=a.K.G*d;a.K.C+=a.K.N*(c.Ab.x*d-c.Ab.y*b);c.Eg=e};t.Gn=function(a,c,
b,d,e){var f=d*a.ed.x;d*=a.ed.y;var g=e*a.ed.x;e*=a.ed.y;a.I.q.x-=a.I.G*(f+g);a.I.q.y-=a.I.G*(d+e);a.I.C-=a.I.N*(c.zb.x*d-c.zb.y*f+b.zb.x*e-b.zb.y*g);a.K.q.x+=a.K.G*(f+g);a.K.q.y+=a.K.G*(d+e);a.K.C+=a.K.N*(c.Ab.x*d-c.Ab.y*f+b.Ab.x*e-b.Ab.y*g);c.Kb=0;b.Kb=0};t.jq=function(){for(var a=0;a<this.Cm;++a)for(var c=this.pg[a],b=c.NC,d=0;d<c.bf;++d){var e=b.ea[d],f=c.Lb[d];e.Ej=f.Kb;e.Ij=f.Eg}};t.ge=function(a){void 0===a&&(a=0);for(var c=0,b=0;b<this.Cm;b++){var d=this.pg[b],e=d.I,f=d.K,g=e.P*e.G,k=e.P*
e.N,n=f.P*f.G,m=f.P*f.N;ce.Pb(d);for(var l=ce.ma,h=0;h<d.bf;h++){var q=d.Lb[h],r=ce.ea[h],s=ce.op[h],u=r.x-e.k.u.x,p=r.y-e.k.u.y,A=r.x-f.k.u.x,r=r.y-f.k.u.y,c=c<s?c:s,s=-q.LA*U.mb(a*(s+.005),-.2,0),q=s*l.x,s=s*l.y;e.k.u.x-=g*q;e.k.u.y-=g*s;e.k.J-=k*(u*s-p*q);e.tb();f.k.u.x+=n*q;f.k.u.y+=n*s;f.k.J+=m*(A*s-r*q);f.tb()}}return-.0075<c};var Wd=function(a,c){Ed.call(this,a,c)};x(Wd,Ed);Wd.prototype.vc=function(a,c){Ed.prototype.vc.call(this,a,c)};Wd.prototype.Xf=function(){this.ub.jc();this.pb.jc()};var Ud=
function(a,c){Ed.call(this,a,c)};x(Ud,Ed);Ud.prototype.vc=function(a,c){Ed.prototype.vc.call(this,a,c)};Ud.prototype.Xf=function(){a:{var a=this.Ae,c=this.ub.jc(),b=this.ub.La().A,d=this.pb.jc(),e=this.pb.La().A;a.Ib=0;for(var f=e.position.x+(e.n.i.x*d.Wa.x+e.n.j.x*d.Wa.y)-b.position.x,g=e.position.y+(e.n.i.y*d.Wa.x+e.n.j.y*d.Wa.y)-b.position.y,e=f*b.n.i.x+g*b.n.i.y,b=f*b.n.j.x+g*b.n.j.y,f=0,g=-Number.MAX_VALUE,k=c.Na+d.Na,n=0;n<c.Ha;++n){var m=c.na[n].x*(e-c.H[n].x)+c.na[n].y*(b-c.H[n].y);if(m>k)break a;
m>g&&(g=m,f=n)}m=f+1;m>=c.Ha&&(m=0);var n=c.H[f],l=c.H[m];g<Number.MIN_VALUE?(a.Ib=1,a.Oa=2,a.Cc.D(c.na[f]),a.la.x=.5*(n.x+l.x),a.la.y=.5*(n.y+l.y),a.ea[0].la.D(d.Wa),a.ea[0].Ye.Ni(0)):0>=(e-n.x)*(l.x-n.x)+(b-n.y)*(l.y-n.y)?(e-n.x)*(e-n.x)+(b-n.y)*(b-n.y)>k*k||(a.Ib=1,a.Oa=2,a.Cc.x=e-n.x,a.Cc.y=b-n.y,a.Cc.md(),a.la.D(n),a.ea[0].la.D(d.Wa),a.ea[0].Ye.Ni(0)):0>=(e-l.x)*(n.x-l.x)+(b-l.y)*(n.y-l.y)?(e-l.x)*(e-l.x)+(b-l.y)*(b-l.y)>k*k||(a.Ib=1,a.Oa=2,a.Cc.x=e-l.x,a.Cc.y=b-l.y,a.Cc.md(),a.la.D(l),a.ea[0].la.D(d.Wa),
a.ea[0].Ye.Ni(0)):(m=.5*(n.x+l.x),n=.5*(n.y+l.y),g=(e-m)*c.na[f].x+(b-n)*c.na[f].y,g>k||(a.Ib=1,a.Oa=2,a.Cc.x=c.na[f].x,a.Cc.y=c.na[f].y,a.Cc.md(),a.la.Set(m,n),a.ea[0].la.D(d.Wa),a.ea[0].Ye.Ni(0)))}};var Xd=function(a,c){Ed.call(this,a,c)};x(Xd,Ed);Xd.prototype.vc=function(a,c){Ed.prototype.vc.call(this,a,c)};Xd.prototype.Xf=function(){this.ub.jc();this.pb.jc()};var Vd=function(a,c){Ed.call(this,a,c)};x(Vd,Ed);Vd.prototype.vc=function(a,c){Ed.prototype.vc.call(this,a,c)};Vd.prototype.Xf=function(){var a=
this.Ae,c=this.ub.jc(),b=this.ub.La().A,d=this.pb.jc(),e=this.pb.La().A;a.Ib=0;var f=c.Na+d.Na,g=Lc(c,b,d,e),k=g.Yu;if(!(g.Fp>f)){var n=Lc(d,e,c,b);if(!(n.Fp>f)){var m=c,l=d,h=b,q=e,r=0;a.Oa=2;n.Fp>.98*g.Fp+.001&&(m=d,l=c,h=e,q=b,k=n.Yu,a.Oa=4,r=1);c=k;b=q;d=de;void 0===c&&(c=0);for(var e=h.n.i.x*m.na[c].x+h.n.j.x*m.na[c].y,g=h.n.i.y*m.na[c].x+h.n.j.y*m.na[c].y,n=b.n.i.x*e+b.n.i.y*g,g=b.n.j.x*e+b.n.j.y*g,e=n,n=0,s=Number.MAX_VALUE,u=0;u<l.Ha;u++){var p=e*l.na[u].x+g*l.na[u].y;p<s&&(s=p,n=u)}e=n+1;
e>=l.Ha&&(e=0);d[0].Ie.x=b.position.x+(b.n.i.x*l.H[n].x+b.n.j.x*l.H[n].y);d[0].Ie.y=b.position.y+(b.n.i.y*l.H[n].x+b.n.j.y*l.H[n].y);d[0].id.Gu(c);d[0].id.Eu(n);d[0].id.Fu(0);d[1].Ie.x=b.position.x+(b.n.i.x*l.H[e].x+b.n.j.x*l.H[e].y);d[1].Ie.y=b.position.y+(b.n.i.y*l.H[e].x+b.n.j.y*l.H[e].y);d[1].id.Gu(c);d[1].id.Eu(e);d[1].id.Fu(1);c=m.H[k];k=k+1<m.Ha?m.H[k+1]:m.H[0];ee.Set(k.x-c.x,k.y-c.y);ee.md();fe.x=ee.y;fe.y=-ee.x;ge.Set(.5*(c.x+k.x),.5*(c.y+k.y));he.x=h.n.i.x*ee.x+h.n.j.x*ee.y;he.y=h.n.i.y*
ee.x+h.n.j.y*ee.y;ie.x=-he.x;ie.y=-he.y;je.x=he.y;je.y=-he.x;ke.x=h.position.x+(h.n.i.x*c.x+h.n.j.x*c.y);ke.y=h.position.y+(h.n.i.y*c.x+h.n.j.y*c.y);le.x=h.position.x+(h.n.i.x*k.x+h.n.j.x*k.y);le.y=h.position.y+(h.n.i.y*k.x+h.n.j.y*k.y);if(!(2>Jc(me,de,ie,-he.x*ke.x-he.y*ke.y+f)||2>Jc(ne,me,he,he.x*le.x+he.y*le.y+f))){a.Cc.D(fe);a.la.D(ge);h=je.x*ke.x+je.y*ke.y;for(m=k=0;2>m;++m)je.x*ne[m].Ie.x+je.y*ne[m].Ie.y-h<=f&&(c=ne[m].Ie.x-q.position.x,l=ne[m].Ie.y-q.position.y,a.ea[k].la.x=c*q.n.i.x+l*q.n.i.y,
a.ea[k].la.y=c*q.n.j.x+l*q.n.j.y,a.ea[k].Ye.Set(ne[m].id),a.ea[k].Ye.sz(r),k++);a.Ib=k}}}};var pe=function(){this.jd="Controller"+oe++;this.Ca=null;this.wc=new ld};pe.prototype.Kg=function(){};pe.prototype.Sj=function(a){this.wc.Sj(a);a.kl(this)};pe.prototype.yl=function(a){this.wc.yl(a);a.zl(this)};pe.prototype.qn=function(){for(var a=this.wc.Ea(kd);a;a=a.next)this.yl(a.body)};var oe=0,qe=function(){pe.call(this);this.ed=O.r(0,-1);this.tf=this.offset=0;this.iy=O.r(0,0);this.qC=2;this.Qz=1;this.KD=
!0;this.Lv=null};x(qe,pe);qe.prototype.Kg=function(){this.KD&&(this.Lv=this.Ca.Iw.Vb());for(var a=this.wc.Ea(pd);a;a=a.next){for(var c=a.body,b=O.r(0,0),d=O.r(0,0),e=0,f=0,g=c.lq().Ea();g;g=g.next){var k=O.r(0,0),n=g.Te.jc().sn(this.ed,this.offset,c.Ld(),k),e=e+n;b.x+=n*k.x;b.y+=n*k.y;var m=0,m=1,f=f+n*m;d.x+=n*k.x*m;d.y+=n*k.y*m}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=f,d.y/=f,f=this.Lv.Gh(),f.kd(this.tf*e),c.Vf(f,d),f=c.Ly(b),f.Dq(this.iy),f.kd(-this.qC*e),c.Vf(f,b),c.on(-c.We/c.Zj()*e*c.xn()*this.Qz),
O.Ob(b),O.Ob(d))}};var re=function(){pe.call(this);this.au=O.r(0,0)};x(re,pe);re.prototype.Kg=function(a){a=O.r(this.au.x*a.wa,this.au.y*a.wa);for(var c=this.wc.Ea(pd);c;c=c.next){var b=c.body,d=b.Ii();b.Oi(O.r(d.x+a.x,d.y+a.y))}O.Ob(a)};var se=function(){pe.call(this);this.Iy=O.r(0,0)};x(se,pe);se.prototype.Kg=function(){for(var a=this.wc.Ea(pd);a;a=a.next){var c=a.body;c.Vf(this.Iy,c.$j())}};var hd=function(){this.Xq=this.Wq=null;this.Zn={}};hd.prototype.Ea=function(){return this.Wq};hd.prototype.kl=
function(a){var c=a.jd;if(null==this.Zn[c]){a=new te(a);var b=this.Xq;null!=b?b.kf(a):this.Wq=a;a.lf(b);this.Xq=a;this.Zn[c]=a}};hd.prototype.zl=function(a){a=a.jd;var c=this.Zn[a];if(null!=c){var b=c.cf,c=c.next;null==b?this.Wq=c:b.kf(c);null==c?this.Xq=b:c.lf(b);delete this.Zn[a]}};var te=function(a){this.lv=a;this.cf=this.next=null};te.prototype.kf=function(a){this.next=a};te.prototype.lf=function(a){this.cf=a};var ue=function(){pe.call(this);this.iu=1;this.fC=!0};x(ue,pe);ue.prototype.Kg=function(){var a=
null,c=null,b=0,d=null,e=null,f=0,g=0,k=0,f=null;if(this.fC)for(var n=this.wc.Ea(kd);n;n=n.next)for(var a=n.body,c=a.$j(),b=a.Zj(),m=this.wc.Ea(kd);m;m=m.next){if(d=m.body,a.Vc()||d.Vc())e=d.$j(),f=e.x-c.x,g=e.y-c.y,k=f*f+g*g,k<Number.MIN_VALUE||(f=O.r(f,g),f.kd(this.iu/k/Math.sqrt(k)*b*d.Zj()),a.Vc()&&a.Vf(f,c),f.kd(-1),d.Vc()&&d.Vf(f,e),O.Ob(f))}else for(n=this.wc.Ea(kd);n;n=n.next)for(a=bodyNode.body,c=a.$j(),b=a.Zj(),m=this.wc.Ea(kd);m;m=m.next)if(d=bodyNode.body,a.Vc()||d.Vc())e=d.$j(),f=e.x-
c.x,g=e.y-c.y,k=f*f+g*g,k<Number.MIN_VALUE||(f=O.r(f,g),f.kd(this.iu/k*b*d.Zj()),a.Vc()&&a.Vf(f,c),f.kd(-1),d.Vc()&&d.Vf(f,e),O.Ob(f))};var ve=function(){pe.call(this);this.yz=new P;this.Ns=0};x(ve,pe);ve.prototype.Kg=function(a){a=a.wa;if(!(a<=Number.MIN_VALUE)){a>this.Ns&&0<this.Ns&&(a=this.Ns);for(var c=this.wc.Ea(pd);c;c=c.next){var b=c.body,d=b.oq(U.Fb(this.yz,b.nq(b.Ii())));b.Oi(O.r(b.Ii().x+d.x*a,b.Ii().y+d.y*a))}}};var Z=function(a){this.wd=new we;this.xd=new we;this.sg=O.r(0,0);this.tg=O.r(0,
0);this.Oa=a.type;this.di=this.Jk=null;this.Q=a.I;this.R=a.K;this.Gw=a.Uq};Z.prototype.uc=function(){return this.Oa};Z.prototype.ql=function(){return this.Q};Z.prototype.kq=function(){return this.R};Z.prototype.Li=function(){return this.Q.Li()&&this.R.Li()};Z.Ke=function(a){return a.Ke()};Z.prototype.Le=function(){};Z.prototype.he=function(){};Z.prototype.jq=function(){};Z.prototype.ge=function(){return!1};Z.FA=0;Z.nk=1;Z.DA=2;Z.gr=3;Z.EA=4;Z.hF=5;Z.BA=6;Z.CA=7;Z.GA=8;Z.AA=9;Z.qd=0;Z.gg=1;Z.Ac=2;
Z.Sh=3;var xe=function(){this.type=Z.FA;this.K=this.I=null;this.Uq=!1},we=function(){},ye=function(a){Z.call(this,a);this.Y=O.r(0,0);this.Z=O.r(0,0);this.$b=O.r(0,0);this.Y.D(a.ib);this.Z.D(a.jb);this.Cs=a.length;this.As=a.wo;this.wC=a.ho;this.Fw=this.Dj=this.B=0};x(ye,Z);ye.prototype.Le=function(a){var c,b=0,d=this.Q,e=this.R;c=d.A.n;var f=this.Y.x-d.k.L.x,g=this.Y.y-d.k.L.y,b=c.i.x*f+c.j.x*g,g=c.i.y*f+c.j.y*g,f=b;c=e.A.n;var k=this.Z.x-e.k.L.x,n=this.Z.y-e.k.L.y,b=c.i.x*k+c.j.x*n,n=c.i.y*k+c.j.y*
n,k=b;this.$b.x=e.k.u.x+k-d.k.u.x-f;this.$b.y=e.k.u.y+n-d.k.u.y-g;b=Math.sqrt(this.$b.x*this.$b.x+this.$b.y*this.$b.y);.005<b?this.$b.kd(1/b):this.$b.aa();c=f*this.$b.y-g*this.$b.x;var m=k*this.$b.y-n*this.$b.x;c=d.G+d.N*c*c+e.G+e.N*m*m;this.P=0!=c?1/c:0;if(0<this.As){var b=b-this.Cs,m=2*Math.PI*this.As,l=this.P*m*m;this.Dj=a.wa*(2*this.P*this.wC*m+a.wa*l);this.Dj=0!=this.Dj?1/this.Dj:0;this.Fw=b*a.wa*l*this.Dj;this.P=c+this.Dj;this.P=0!=this.P?1/this.P:0}a.Bh?(this.B*=a.Yb,a=this.B*this.$b.x,c=this.B*
this.$b.y,d.q.x-=d.G*a,d.q.y-=d.G*c,d.C-=d.N*(f*c-g*a),e.q.x+=e.G*a,e.q.y+=e.G*c,e.C+=e.N*(k*c-n*a)):this.B=0};ye.prototype.he=function(){var a=this.Y.x-this.Q.k.L.x,c=this.Y.y-this.Q.k.L.y,b=this.Q.A.n.i.x*a+this.Q.A.n.j.x*c,c=this.Q.A.n.i.y*a+this.Q.A.n.j.y*c,a=b,d=this.Z.x-this.R.k.L.x,e=this.Z.y-this.R.k.L.y,b=this.R.A.n.i.x*d+this.R.A.n.j.x*e,e=this.R.A.n.i.y*d+this.R.A.n.j.y*e,d=b,f=-this.P*(this.$b.x*(this.R.q.x-this.R.C*e-(this.Q.q.x-this.Q.C*c))+this.$b.y*(this.R.q.y+this.R.C*d-(this.Q.q.y+
this.Q.C*a))+this.Fw+this.Dj*this.B);this.B+=f;b=f*this.$b.x;f*=this.$b.y;this.Q.q.x-=this.Q.G*b;this.Q.q.y-=this.Q.G*f;this.Q.C-=this.Q.N*(a*f-c*b);this.R.q.x+=this.R.G*b;this.R.q.y+=this.R.G*f;this.R.C+=this.R.N*(d*f-e*b)};ye.prototype.ge=function(){if(0<this.As)return!0;var a=this.Y.x-this.Q.k.L.x,c=this.Y.y-this.Q.k.L.y,b=this.Q.A.n.i.x*a+this.Q.A.n.j.x*c,c=this.Q.A.n.i.y*a+this.Q.A.n.j.y*c,a=b,d=this.Z.x-this.R.k.L.x,e=this.Z.y-this.R.k.L.y,b=this.R.A.n.i.x*d+this.R.A.n.j.x*e,e=this.R.A.n.i.y*
d+this.R.A.n.j.y*e,d=b,f=this.R.k.u.x+d-this.Q.k.u.x-a,g=this.R.k.u.y+e-this.Q.k.u.y-c,k=Math.sqrt(f*f+g*g),b=U.mb(k-this.Cs,-.2,.2),n=-this.P*b;this.$b.Set(f/k,g/k);f=n*this.$b.x;n*=this.$b.y;this.Q.k.u.x-=this.Q.G*f;this.Q.k.u.y-=this.Q.G*n;this.Q.k.J-=this.Q.N*(a*n-c*f);this.R.k.u.x+=this.R.G*f;this.R.k.u.y+=this.R.G*n;this.R.k.J+=this.R.N*(d*n-e*f);this.Q.tb();this.R.tb();return.005>Math.abs(b)};var qc=function(){xe.call(this);this.ib=O.r(0,0);this.jb=O.r(0,0);this.type=Z.gr;this.length=1;this.ho=
this.wo=0};x(qc,xe);qc.prototype.Pb=function(a,c,b,d){this.I=a;this.K=c;this.ib.D(this.I.Uc(b));this.jb.D(this.K.Uc(d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.ho=this.wo=0};qc.prototype.Ke=function(){return new ye(this)};var ze=function(a){Z.call(this,a);this.xe=O.r(0,0);this.ye=O.r(0,0);this.Fs=new P;this.we=O.r(0,0);this.xe.D(a.ib);this.ye.D(a.jb);this.Fs.aa();this.Am=0;this.we.aa();this.gh=0;this.HC=a.PC;this.JC=a.QC};x(ze,Z);ze.prototype.Le=function(a){var c,b=0,d=this.Q,e=this.R;
c=d.A.n;var f=this.xe.x-d.k.L.x,g=this.xe.y-d.k.L.y,b=c.i.x*f+c.j.x*g,g=c.i.y*f+c.j.y*g,f=b;c=e.A.n;var k=this.ye.x-e.k.L.x,n=this.ye.y-e.k.L.y,b=c.i.x*k+c.j.x*n,n=c.i.y*k+c.j.y*n,k=b;c=d.G;var b=e.G,m=d.N,l=e.N,h=new P;h.i.x=c+b;h.j.x=0;h.i.y=0;h.j.y=c+b;h.i.x+=m*g*g;h.j.x+=-m*f*g;h.i.y+=-m*f*g;h.j.y+=m*f*f;h.i.x+=l*n*n;h.j.x+=-l*k*n;h.i.y+=-l*k*n;h.j.y+=l*k*k;h.mq(this.Fs);this.Am=m+l;0<this.Am&&(this.Am=1/this.Am);a.Bh?(this.we.x*=a.Yb,this.we.y*=a.Yb,this.gh*=a.Yb,a=this.we,d.q.x-=c*a.x,d.q.y-=
c*a.y,d.C-=m*(f*a.y-g*a.x+this.gh),e.q.x+=b*a.x,e.q.y+=b*a.y,e.C+=l*(k*a.y-n*a.x+this.gh)):(this.we.aa(),this.gh=0)};ze.prototype.he=function(a){var c,b=0,d=this.Q,e=this.R,f=d.q,g=d.C,k=e.q,n=e.C,m=d.G,l=e.G,h=d.N,q=e.N;c=d.A.n;var r=this.xe.x-d.k.L.x,s=this.xe.y-d.k.L.y,b=c.i.x*r+c.j.x*s,s=c.i.y*r+c.j.y*s,r=b;c=e.A.n;var u=this.ye.x-e.k.L.x,p=this.ye.y-e.k.L.y,b=c.i.x*u+c.j.x*p,p=c.i.y*u+c.j.y*p,u=b;c=0;var b=-this.Am*(n-g),A=this.gh;c=a.wa*this.JC;this.gh=U.mb(this.gh+b,-c,c);b=this.gh-A;g-=h*
b;n+=q*b;c=U.Fb(this.Fs,O.r(-(k.x-n*p-f.x+g*s),-(k.y+n*u-f.y-g*r)));b=this.we.Vb();this.we.Hg(c);c=a.wa*this.HC;this.we.Dn()>c*c&&(this.we.md(),this.we.kd(c));c=U.hb(this.we,b);f.x-=m*c.x;f.y-=m*c.y;g-=h*(r*c.y-s*c.x);k.x+=l*c.x;k.y+=l*c.y;n+=q*(u*c.y-p*c.x);d.C=g;e.C=n};ze.prototype.ge=function(){return!0};var Ae=function(){xe.call(this);this.ib=O.r(0,0);this.jb=O.r(0,0);this.type=Z.AA;this.QC=this.PC=0};x(Ae,xe);Ae.prototype.Pb=function(a,c,b){this.I=a;this.K=c;this.ib.D(this.I.Uc(b));this.jb.D(this.K.Uc(b))};
Ae.prototype.Ke=function(){return new ze(this)};var Ce=function(a){Z.call(this,a);this.lh=O.r(0,0);this.mh=O.r(0,0);this.Y=O.r(0,0);this.Z=O.r(0,0);this.ob=new Be;var c=a.Ak.Oa,b=a.Bk.Oa;this.Lk=this.Hj=this.Kk=this.Gj=null;var d=0,e=0;this.zC=a.Ak.ql();this.Q=a.Ak.kq();c==Z.nk?(this.Gj=a.Ak,this.lh.D(this.Gj.Y),this.Y.D(this.Gj.Z),d=this.Gj.yn()):(this.Kk=a.Ak,this.lh.D(this.Kk.Y),this.Y.D(this.Kk.Z),d=this.Kk.sl());this.AC=a.Bk.ql();this.R=a.Bk.kq();b==Z.nk?(this.Hj=a.Bk,this.mh.D(this.Hj.Y),this.Z.D(this.Hj.Z),
e=this.Hj.yn()):(this.Lk=a.Bk,this.mh.D(this.Lk.Y),this.Z.D(this.Lk.Z),e=this.Lk.sl());this.yb=a.ri;this.Ik=d+this.yb*e;this.B=0};x(Ce,Z);Ce.prototype.Le=function(a){var c=this.zC,b=this.AC,d=this.Q,e=this.R,f=0,g=0,k=0,n=0,m=k=0,l=0;this.ob.aa();this.Gj?(this.ob.Qi=-1,l+=d.N):(c=c.A.n,g=this.Kk.Gd,f=c.i.x*g.x+c.j.x*g.y,g=c.i.y*g.x+c.j.y*g.y,c=d.A.n,k=this.Y.x-d.k.L.x,n=this.Y.y-d.k.L.y,m=c.i.x*k+c.j.x*n,n=c.i.y*k+c.j.y*n,k=m*g-n*f,this.ob.Cf.Set(-f,-g),this.ob.Qi=-k,l+=d.G+d.N*k*k);this.Hj?(this.ob.Ri=
-this.yb,l+=this.yb*this.yb*e.N):(c=b.A.n,g=this.Lk.Gd,f=c.i.x*g.x+c.j.x*g.y,g=c.i.y*g.x+c.j.y*g.y,c=e.A.n,k=this.Z.x-e.k.L.x,n=this.Z.y-e.k.L.y,m=c.i.x*k+c.j.x*n,n=c.i.y*k+c.j.y*n,k=m*g-n*f,this.ob.Df.Set(-this.yb*f,-this.yb*g),this.ob.Ri=-this.yb*k,l+=this.yb*this.yb*(e.G+e.N*k*k));this.P=0<l?1/l:0;a.Bh?(d.q.x+=d.G*this.B*this.ob.Cf.x,d.q.y+=d.G*this.B*this.ob.Cf.y,d.C+=d.N*this.B*this.ob.Qi,e.q.x+=e.G*this.B*this.ob.Df.x,e.q.y+=e.G*this.B*this.ob.Df.y,e.C+=e.N*this.B*this.ob.Ri):this.B=0};Ce.prototype.he=
function(){var a=this.Q,c=this.R,b=-this.P*this.ob.Cy(a.q,a.C,c.q,c.C);this.B+=b;a.q.x+=a.G*b*this.ob.Cf.x;a.q.y+=a.G*b*this.ob.Cf.y;a.C+=a.N*b*this.ob.Qi;c.q.x+=c.G*b*this.ob.Df.x;c.q.y+=c.G*b*this.ob.Df.y;c.C+=c.N*b*this.ob.Ri};Ce.prototype.ge=function(){var a=this.Q,c=this.R,b=0,d=0,b=this.Gj?this.Gj.yn():this.Kk.sl(),d=this.Hj?this.Hj.yn():this.Lk.sl(),b=-this.P*(this.Ik-(b+this.yb*d));a.k.u.x+=a.G*b*this.ob.Cf.x;a.k.u.y+=a.G*b*this.ob.Cf.y;a.k.J+=a.N*b*this.ob.Qi;c.k.u.x+=c.G*b*this.ob.Df.x;
c.k.u.y+=c.G*b*this.ob.Df.y;c.k.J+=c.N*b*this.ob.Ri;a.tb();c.tb();return!0};var De=function(){xe.call(this);this.type=Z.BA;this.Bk=this.Ak=null;this.ri=1};x(De,xe);De.prototype.Pb=function(a,c,b){this.Ak=a;this.I=a.ql();this.Bk=c;this.K=c.ql();this.ri=b};De.prototype.Ke=function(){return new Ce(this)};var Be=function(){this.Cf=O.r(0,0);this.Df=O.r(0,0)};Be.prototype.aa=function(){this.Cf.aa();this.Qi=0;this.Df.aa();this.Ri=0};Be.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);
this.Cf.D(a);this.Qi=c;this.Df.D(b);this.Ri=d};Be.prototype.Cy=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);return this.Cf.x*a.x+this.Cf.y*a.y+this.Qi*c+(this.Df.x*b.x+this.Df.y*b.y)+this.Ri*d};var Ee=function(a){Z.call(this,a);this.Y=O.r(0,0);this.Z=O.r(0,0);this.Gd=O.r(0,0);this.nh=O.r(0,0);this.O=O.r(0,0);this.ba=O.r(0,0);this.V=new P;this.B=O.r(0,0);this.Y.D(a.ib);this.Z.D(a.jb);this.Gd.D(a.yj);this.nh.x=-this.Gd.y;this.nh.y=this.Gd.x;this.B.aa();this.Ga=this.yd=0;this.ze=a.vs;this.Be=
a.Xt;this.Gs=a.Ms;this.Gm=a.Rk;this.Ff=a.ej;this.ci=a.ok;this.qa=Z.qd;this.O.aa();this.ba.aa()};x(Ee,Z);Ee.prototype.sl=function(){var a=this.Q,c=this.R,b=a.Bn(this.Y),d=c.Bn(this.Z),c=d.x-b.x,b=d.y-b.y,a=a.oq(this.Gd);return a.x*c+a.y*b};Ee.prototype.Le=function(a){var c=this.Q,b=this.R,d,e=0;this.sg.D(c.Ji());this.tg.D(b.Ji());var f=c.Ld();b.Ld();d=c.A.n;var g=this.Y.x-this.sg.x,k=this.Y.y-this.sg.y,e=d.i.x*g+d.j.x*k,k=d.i.y*g+d.j.y*k,g=e;d=b.A.n;var n=this.Z.x-this.tg.x,m=this.Z.y-this.tg.y,e=
d.i.x*n+d.j.x*m,m=d.i.y*n+d.j.y*m,n=e;d=b.k.u.x+n-c.k.u.x-g;e=b.k.u.y+m-c.k.u.y-k;this.wb=c.G;this.xb=b.G;this.bd=c.N;this.cd=b.N;this.O.D(U.Fb(f.n,this.Gd));this.Pa=(d+g)*this.O.y-(e+k)*this.O.x;this.Qa=n*this.O.y-m*this.O.x;this.yd=this.wb+this.xb+this.bd*this.Pa*this.Pa+this.cd*this.Qa*this.Qa;this.yd=this.yd>Number.MIN_VALUE?1/this.yd:0;this.ba.D(U.Fb(f.n,this.nh));this.Sa=(d+g)*this.ba.y-(e+k)*this.ba.x;this.Ta=n*this.ba.y-m*this.ba.x;f=this.wb;g=this.xb;k=this.bd;n=this.cd;this.V.i.x=f+g+k*
this.Sa*this.Sa+n*this.Ta*this.Ta;this.V.i.y=k*this.Sa*this.Pa+n*this.Ta*this.Qa;this.V.j.x=this.V.i.y;this.V.j.y=f+g+k*this.Pa*this.Pa+n*this.Qa*this.Qa;this.Ff?(d=this.O.x*d+this.O.y*e,.01>Math.abs(this.Be-this.ze)?this.qa=Z.Sh:d<=this.ze?this.qa!=Z.gg&&(this.qa=Z.gg,this.B.y=0):d>=this.Be?this.qa!=Z.Ac&&(this.qa=Z.Ac,this.B.y=0):(this.qa=Z.qd,this.B.y=0)):this.qa=Z.qd;0==this.ci&&(this.Ga=0);a.Bh?(this.B.x*=a.Yb,this.B.y*=a.Yb,this.Ga*=a.Yb,a=this.B.x*this.ba.x+(this.Ga+this.B.y)*this.O.x,d=this.B.x*
this.ba.y+(this.Ga+this.B.y)*this.O.y,e=this.B.x*this.Sa+(this.Ga+this.B.y)*this.Pa,f=this.B.x*this.Ta+(this.Ga+this.B.y)*this.Qa,c.q.x-=this.wb*a,c.q.y-=this.wb*d,c.C-=this.bd*e,b.q.x+=this.xb*a,b.q.y+=this.xb*d,b.C+=this.cd*f):(this.B.aa(),this.Ga=0)};Ee.prototype.he=function(a){var c=this.Q,b=this.R,d=c.q,e=c.C,f=b.q,g=b.C,k=0,n=0,m=0,l=0;this.ci&&this.qa!=Z.Sh&&(l=this.yd*(this.Gm-(this.O.x*(f.x-d.x)+this.O.y*(f.y-d.y)+this.Qa*g-this.Pa*e)),k=this.Ga,n=a.wa*this.Gs,this.Ga=U.mb(this.Ga+l,-n,n),
l=this.Ga-k,k=l*this.O.x,n=l*this.O.y,m=l*this.Pa,l*=this.Qa,d.x-=this.wb*k,d.y-=this.wb*n,e-=this.bd*m,f.x+=this.xb*k,f.y+=this.xb*n,g+=this.cd*l);n=this.ba.x*(f.x-d.x)+this.ba.y*(f.y-d.y)+this.Ta*g-this.Sa*e;this.Ff&&this.qa!=Z.qd?(m=this.O.x*(f.x-d.x)+this.O.y*(f.y-d.y)+this.Qa*g-this.Pa*e,k=this.B.Vb(),a=this.V.Jh(O.r(0,0),-n,-m),this.B.Hg(a),this.qa==Z.gg?this.B.y=Math.max(this.B.y,0):this.qa==Z.Ac&&(this.B.y=Math.min(this.B.y,0)),n=-n-(this.B.y-k.y)*this.V.j.x,m=0,m=0!=this.V.i.x?n/this.V.i.x+
k.x:k.x,this.B.x=m,a.x=this.B.x-k.x,a.y=this.B.y-k.y,k=a.x*this.ba.x+a.y*this.O.x,n=a.x*this.ba.y+a.y*this.O.y,m=a.x*this.Sa+a.y*this.Pa,l=a.x*this.Ta+a.y*this.Qa):(a=0,a=0!=this.V.i.x?-n/this.V.i.x:0,this.B.x+=a,k=a*this.ba.x,n=a*this.ba.y,m=a*this.Sa,l=a*this.Ta);d.x-=this.wb*k;d.y-=this.wb*n;e-=this.bd*m;f.x+=this.xb*k;f.y+=this.xb*n;g+=this.cd*l;c.q.D(d);c.C=e;b.q.D(f);b.C=g};Ee.prototype.ge=function(){var a=this.Q,c=this.R,b=a.k.u,d=a.k.J,e=c.k.u,f=c.k.J,g,k=0,n=0,m=0,l=0,h=g=0,q=0,n=!1,r=0,
s=P.Yj(d),m=P.Yj(f);g=s;var q=this.Y.x-this.sg.x,u=this.Y.y-this.sg.y,k=g.i.x*q+g.j.x*u,u=g.i.y*q+g.j.y*u,q=k;g=m;m=this.Z.x-this.tg.x;l=this.Z.y-this.tg.y;k=g.i.x*m+g.j.x*l;l=g.i.y*m+g.j.y*l;m=k;g=e.x+m-b.x-q;k=e.y+l-b.y-u;if(this.Ff){this.O=U.Fb(s,this.Gd);this.Pa=(g+q)*this.O.y-(k+u)*this.O.x;this.Qa=m*this.O.y-l*this.O.x;var p=this.O.x*g+this.O.y*k;.01>Math.abs(this.Be-this.ze)?(r=U.mb(p,-.2,.2),h=Math.abs(p),n=!0):p<=this.ze?(r=U.mb(p-this.ze+.005,-.2,0),h=this.ze-p,n=!0):p>=this.Be&&(r=U.mb(p-
this.Be+.005,0,.2),h=p-this.Be,n=!0)}this.ba=U.Fb(s,this.nh);this.Sa=(g+q)*this.ba.y-(k+u)*this.ba.x;this.Ta=m*this.ba.y-l*this.ba.x;s=O.r(0,0);u=this.ba.x*g+this.ba.y*k;h=Math.max(h,Math.abs(u));q=0;n?(n=this.wb,m=this.xb,l=this.bd,g=this.cd,this.V.i.x=n+m+l*this.Sa*this.Sa+g*this.Ta*this.Ta,this.V.i.y=l*this.Sa*this.Pa+g*this.Ta*this.Qa,this.V.j.x=this.V.i.y,this.V.j.y=n+m+l*this.Pa*this.Pa+g*this.Qa*this.Qa,this.V.Jh(s,-u,-r)):(n=this.wb,m=this.xb,l=this.bd,g=this.cd,r=n+m+l*this.Sa*this.Sa+g*
this.Ta*this.Ta,s.x=0!=r?-u/r:0,s.y=0);r=s.x*this.ba.x+s.y*this.O.x;n=s.x*this.ba.y+s.y*this.O.y;u=s.x*this.Sa+s.y*this.Pa;s=s.x*this.Ta+s.y*this.Qa;b.x-=this.wb*r;b.y-=this.wb*n;d-=this.bd*u;e.x+=this.xb*r;e.y+=this.xb*n;f+=this.cd*s;a.k.J=d;c.k.J=f;a.tb();c.tb();return.005>=h&&q<=sc};var Fe=function(){xe.call(this);this.ib=O.r(0,0);this.jb=O.r(0,0);this.yj=O.r(0,0);this.type=Z.CA;this.yj.Set(1,0);this.ej=!1;this.Xt=this.vs=0;this.ok=!1;this.Rk=this.Ms=0};x(Fe,xe);Fe.prototype.Pb=function(a,c,b,
d){this.I=a;this.K=c;this.ib=this.I.Uc(b);this.jb=this.K.Uc(b);this.yj=this.I.nq(d)};Fe.prototype.Ke=function(){return new Ee(this)};var Ge=function(a){Z.call(this,a);this.Y=O.r(0,0);this.Z=O.r(0,0);this.Gd=O.r(0,0);this.nh=O.r(0,0);this.O=O.r(0,0);this.ba=O.r(0,0);this.V=new zc;this.B=new yc(0,0,0);this.Y.D(a.ib);this.Z.D(a.jb);this.Gd.D(a.yj);this.nh.x=-this.Gd.y;this.nh.y=this.Gd.x;this.KC=a.zg;this.B.aa();this.Ga=this.yd=0;this.ze=a.vs;this.Be=a.Xt;this.Gs=a.Ms;this.Gm=a.Rk;this.Ff=a.ej;this.ci=
a.ok;this.qa=Z.qd;this.O.aa();this.ba.aa()};x(Ge,Z);Ge.prototype.sl=function(){var a=this.Q,c=this.R,b=a.Bn(this.Y),d=c.Bn(this.Z),c=d.x-b.x,b=d.y-b.y,a=a.oq(this.Gd);return a.x*c+a.y*b};Ge.prototype.Le=function(a){var c=this.Q,b=this.R,d,e=0;this.sg.D(c.Ji());this.tg.D(b.Ji());var f=c.Ld();b.Ld();d=c.A.n;var g=this.Y.x-this.sg.x,k=this.Y.y-this.sg.y,e=d.i.x*g+d.j.x*k,k=d.i.y*g+d.j.y*k,g=e;d=b.A.n;var n=this.Z.x-this.tg.x,m=this.Z.y-this.tg.y,e=d.i.x*n+d.j.x*m,m=d.i.y*n+d.j.y*m,n=e;d=b.k.u.x+n-c.k.u.x-
g;e=b.k.u.y+m-c.k.u.y-k;this.wb=c.G;this.xb=b.G;this.bd=c.N;this.cd=b.N;this.O.D(U.Fb(f.n,this.Gd));this.Pa=(d+g)*this.O.y-(e+k)*this.O.x;this.Qa=n*this.O.y-m*this.O.x;this.yd=this.wb+this.xb+this.bd*this.Pa*this.Pa+this.cd*this.Qa*this.Qa;this.yd>Number.MIN_VALUE&&(this.yd=1/this.yd);this.ba.D(U.Fb(f.n,this.nh));this.Sa=(d+g)*this.ba.y-(e+k)*this.ba.x;this.Ta=n*this.ba.y-m*this.ba.x;f=this.wb;g=this.xb;k=this.bd;n=this.cd;this.V.i.x=f+g+k*this.Sa*this.Sa+n*this.Ta*this.Ta;this.V.i.y=k*this.Sa+n*
this.Ta;this.V.i.z=k*this.Sa*this.Pa+n*this.Ta*this.Qa;this.V.j.x=this.V.i.y;this.V.j.y=k+n;this.V.j.z=k*this.Pa+n*this.Qa;this.V.ka.x=this.V.i.z;this.V.ka.y=this.V.j.z;this.V.ka.z=f+g+k*this.Pa*this.Pa+n*this.Qa*this.Qa;this.Ff?(d=this.O.x*d+this.O.y*e,.01>Math.abs(this.Be-this.ze)?this.qa=Z.Sh:d<=this.ze?this.qa!=Z.gg&&(this.qa=Z.gg,this.B.z=0):d>=this.Be?this.qa!=Z.Ac&&(this.qa=Z.Ac,this.B.z=0):(this.qa=Z.qd,this.B.z=0)):this.qa=Z.qd;0==this.ci&&(this.Ga=0);a.Bh?(this.B.x*=a.Yb,this.B.y*=a.Yb,
this.Ga*=a.Yb,a=this.B.x*this.ba.x+(this.Ga+this.B.z)*this.O.x,d=this.B.x*this.ba.y+(this.Ga+this.B.z)*this.O.y,e=this.B.x*this.Sa+this.B.y+(this.Ga+this.B.z)*this.Pa,f=this.B.x*this.Ta+this.B.y+(this.Ga+this.B.z)*this.Qa,c.q.x-=this.wb*a,c.q.y-=this.wb*d,c.C-=this.bd*e,b.q.x+=this.xb*a,b.q.y+=this.xb*d,b.C+=this.cd*f):(this.B.aa(),this.Ga=0)};Ge.prototype.he=function(a){var c=this.Q,b=this.R,d=c.q,e=c.C,f=b.q,g=b.C,k=0,n=0,m=0,l=0;this.ci&&this.qa!=Z.Sh&&(l=this.yd*(this.Gm-(this.O.x*(f.x-d.x)+this.O.y*
(f.y-d.y)+this.Qa*g-this.Pa*e)),k=this.Ga,a=a.wa*this.Gs,this.Ga=U.mb(this.Ga+l,-a,a),l=this.Ga-k,k=l*this.O.x,n=l*this.O.y,m=l*this.Pa,l*=this.Qa,d.x-=this.wb*k,d.y-=this.wb*n,e-=this.bd*m,f.x+=this.xb*k,f.y+=this.xb*n,g+=this.cd*l);m=this.ba.x*(f.x-d.x)+this.ba.y*(f.y-d.y)+this.Ta*g-this.Sa*e;n=g-e;this.Ff&&this.qa!=Z.qd?(a=this.O.x*(f.x-d.x)+this.O.y*(f.y-d.y)+this.Qa*g-this.Pa*e,k=this.B.Vb(),a=this.V.El(new yc(0,0,0),-m,-n,-a),this.B.Hg(a),this.qa==Z.gg?this.B.z=Math.max(this.B.z,0):this.qa==
Z.Ac&&(this.B.z=Math.min(this.B.z,0)),m=-m-(this.B.z-k.z)*this.V.ka.x,n=-n-(this.B.z-k.z)*this.V.ka.y,n=this.V.dk(O.r(0,0),m,n),n.x+=k.x,n.y+=k.y,this.B.x=n.x,this.B.y=n.y,a.x=this.B.x-k.x,a.y=this.B.y-k.y,a.z=this.B.z-k.z,k=a.x*this.ba.x+a.z*this.O.x,n=a.x*this.ba.y+a.z*this.O.y,m=a.x*this.Sa+a.y+a.z*this.Pa,l=a.x*this.Ta+a.y+a.z*this.Qa):(a=this.V.dk(O.r(0,0),-m,-n),this.B.x+=a.x,this.B.y+=a.y,k=a.x*this.ba.x,n=a.x*this.ba.y,m=a.x*this.Sa+a.y,l=a.x*this.Ta+a.y);d.x-=this.wb*k;d.y-=this.wb*n;e-=
this.bd*m;f.x+=this.xb*k;f.y+=this.xb*n;g+=this.cd*l;c.q.D(d);c.C=e;b.q.D(f);b.C=g};Ge.prototype.ge=function(){var a=this.Q,c=this.R,b=a.k.u,d=a.k.J,e=c.k.u,f=c.k.J,g,k=0,n=0,m=0,l=k=g=0,h=0,n=!1,q=0,r=P.Yj(d),s=P.Yj(f);g=r;var h=this.Y.x-this.sg.x,u=this.Y.y-this.sg.y,k=g.i.x*h+g.j.x*u,u=g.i.y*h+g.j.y*u,h=k;g=s;s=this.Z.x-this.tg.x;m=this.Z.y-this.tg.y;k=g.i.x*s+g.j.x*m;m=g.i.y*s+g.j.y*m;s=k;g=e.x+s-b.x-h;k=e.y+m-b.y-u;if(this.Ff){this.O=U.Fb(r,this.Gd);this.Pa=(g+h)*this.O.y-(k+u)*this.O.x;this.Qa=
s*this.O.y-m*this.O.x;var p=this.O.x*g+this.O.y*k;.01>Math.abs(this.Be-this.ze)?(q=U.mb(p,-.2,.2),l=Math.abs(p),n=!0):p<=this.ze?(q=U.mb(p-this.ze+.005,-.2,0),l=this.ze-p,n=!0):p>=this.Be&&(q=U.mb(p-this.Be+.005,0,.2),l=p-this.Be,n=!0)}this.ba=U.Fb(r,this.nh);this.Sa=(g+h)*this.ba.y-(k+u)*this.ba.x;this.Ta=s*this.ba.y-m*this.ba.x;r=new yc(0,0,0);u=this.ba.x*g+this.ba.y*k;s=f-d-this.KC;l=Math.max(l,Math.abs(u));h=Math.abs(s);n?(n=this.wb,m=this.xb,g=this.bd,k=this.cd,this.V.i.x=n+m+g*this.Sa*this.Sa+
k*this.Ta*this.Ta,this.V.i.y=g*this.Sa+k*this.Ta,this.V.i.z=g*this.Sa*this.Pa+k*this.Ta*this.Qa,this.V.j.x=this.V.i.y,this.V.j.y=g+k,this.V.j.z=g*this.Pa+k*this.Qa,this.V.ka.x=this.V.i.z,this.V.ka.y=this.V.j.z,this.V.ka.z=n+m+g*this.Pa*this.Pa+k*this.Qa*this.Qa,this.V.El(r,-u,-s,-q)):(n=this.wb,m=this.xb,g=this.bd,k=this.cd,q=g*this.Sa+k*this.Ta,p=g+k,this.V.i.Set(n+m+g*this.Sa*this.Sa+k*this.Ta*this.Ta,q,0),this.V.j.Set(q,p,0),q=this.V.dk(O.r(0,0),-u,-s),r.x=q.x,r.y=q.y,r.z=0);q=r.x*this.ba.x+r.z*
this.O.x;n=r.x*this.ba.y+r.z*this.O.y;u=r.x*this.Sa+r.y+r.z*this.Pa;r=r.x*this.Ta+r.y+r.z*this.Qa;b.x-=this.wb*q;b.y-=this.wb*n;d-=this.bd*u;e.x+=this.xb*q;e.y+=this.xb*n;f+=this.cd*r;a.k.J=d;c.k.J=f;a.tb();c.tb();return.005>=l&&h<=sc};var He=function(){xe.call(this);this.ib=O.r(0,0);this.jb=O.r(0,0);this.yj=O.r(0,0);this.type=Z.DA;this.yj.Set(1,0);this.zg=0;this.ej=!1;this.Xt=this.vs=0;this.ok=!1;this.Rk=this.Ms=0};x(He,xe);He.prototype.Pb=function(a,c,b,d){this.I=a;this.K=c;this.ib=this.I.Uc(b);
this.jb=this.K.Uc(b);this.yj=this.I.nq(d);this.zg=this.K.hd()-this.I.hd()};He.prototype.Ke=function(){return new Ge(this)};var Je=function(a){Z.call(this,a);this.lh=O.r(0,0);this.mh=O.r(0,0);this.Y=O.r(0,0);this.Z=O.r(0,0);this.Xa=O.r(0,0);this.Ya=O.r(0,0);this.Xe=this.Q.Ca.BC;this.lh.x=a.Do.x-this.Xe.A.position.x;this.lh.y=a.Do.y-this.Xe.A.position.y;this.mh.x=a.Eo.x-this.Xe.A.position.x;this.mh.y=a.Eo.y-this.Xe.A.position.y;this.Y.D(a.ib);this.Z.D(a.jb);this.yb=a.ri;this.Ik=a.hs+this.yb*a.ks;this.Kw=
Math.min(a.Mw,this.Ik-this.yb*Ie);this.Lw=Math.min(a.Nw,(this.Ik-Ie)/this.yb);this.rg=this.qg=this.B=0};x(Je,Z);Je.prototype.Le=function(a){var c=this.Q,b=this.R,d;d=c.A.n;var e=this.Y.x-c.k.L.x,f=this.Y.y-c.k.L.y,g=d.i.x*e+d.j.x*f,f=d.i.y*e+d.j.y*f,e=g;d=b.A.n;var k=this.Z.x-b.k.L.x,n=this.Z.y-b.k.L.y,g=d.i.x*k+d.j.x*n,n=d.i.y*k+d.j.y*n,k=g;d=b.k.u.x+k;var g=b.k.u.y+n,m=this.Xe.A.position.x+this.mh.x,l=this.Xe.A.position.y+this.mh.y;this.Xa.Set(c.k.u.x+e-(this.Xe.A.position.x+this.lh.x),c.k.u.y+
f-(this.Xe.A.position.y+this.lh.y));this.Ya.Set(d-m,g-l);d=this.Xa.Zf();g=this.Ya.Zf();.005<d?this.Xa.kd(1/d):this.Xa.aa();.005<g?this.Ya.kd(1/g):this.Ya.aa();0<this.Ik-d-this.yb*g?(this.Js=Z.qd,this.B=0):this.Js=Z.Ac;d<this.Kw?(this.Ds=Z.qd,this.qg=0):this.Ds=Z.Ac;g<this.Lw?(this.Es=Z.qd,this.rg=0):this.Es=Z.Ac;d=e*this.Xa.y-f*this.Xa.x;g=k*this.Ya.y-n*this.Ya.x;this.Em=c.G+c.N*d*d;this.Fm=b.G+b.N*g*g;this.np=this.Em+this.yb*this.yb*this.Fm;this.Em=1/this.Em;this.Fm=1/this.Fm;this.np=1/this.np;a.Bh?
(this.B*=a.Yb,this.qg*=a.Yb,this.rg*=a.Yb,a=(-this.B-this.qg)*this.Xa.x,d=(-this.B-this.qg)*this.Xa.y,g=(-this.yb*this.B-this.rg)*this.Ya.x,m=(-this.yb*this.B-this.rg)*this.Ya.y,c.q.x+=c.G*a,c.q.y+=c.G*d,c.C+=c.N*(e*d-f*a),b.q.x+=b.G*g,b.q.y+=b.G*m,b.C+=b.N*(k*m-n*g)):this.rg=this.qg=this.B=0};Je.prototype.he=function(){var a=this.Q,c=this.R,b;b=a.A.n;var d=this.Y.x-a.k.L.x,e=this.Y.y-a.k.L.y,f=b.i.x*d+b.j.x*e,e=b.i.y*d+b.j.y*e,d=f;b=c.A.n;var g=this.Z.x-c.k.L.x,k=this.Z.y-c.k.L.y,f=b.i.x*g+b.j.x*
k,k=b.i.y*g+b.j.y*k,g=f,n=f=b=0,m=0;b=m=b=m=n=f=b=0;this.Js==Z.Ac&&(b=a.q.x+-a.C*e,f=a.q.y+a.C*d,n=c.q.x+-c.C*k,m=c.q.y+c.C*g,b=-(this.Xa.x*b+this.Xa.y*f)-this.yb*(this.Ya.x*n+this.Ya.y*m),m=this.np*-b,b=this.B,this.B=Math.max(0,this.B+m),m=this.B-b,b=-m*this.Xa.x,f=-m*this.Xa.y,n=-this.yb*m*this.Ya.x,m=-this.yb*m*this.Ya.y,a.q.x+=a.G*b,a.q.y+=a.G*f,a.C+=a.N*(d*f-e*b),c.q.x+=c.G*n,c.q.y+=c.G*m,c.C+=c.N*(g*m-k*n));this.Ds==Z.Ac&&(b=a.q.x+-a.C*e,f=a.q.y+a.C*d,b=-(this.Xa.x*b+this.Xa.y*f),m=-this.Em*
b,b=this.qg,this.qg=Math.max(0,this.qg+m),m=this.qg-b,b=-m*this.Xa.x,f=-m*this.Xa.y,a.q.x+=a.G*b,a.q.y+=a.G*f,a.C+=a.N*(d*f-e*b));this.Es==Z.Ac&&(n=c.q.x+-c.C*k,m=c.q.y+c.C*g,b=-(this.Ya.x*n+this.Ya.y*m),m=-this.Fm*b,b=this.rg,this.rg=Math.max(0,this.rg+m),m=this.rg-b,n=-m*this.Ya.x,m=-m*this.Ya.y,c.q.x+=c.G*n,c.q.y+=c.G*m,c.C+=c.N*(g*m-k*n))};Je.prototype.ge=function(){var a=this.Q,c=this.R,b,d=this.Xe.A.position.x+this.lh.x,e=this.Xe.A.position.y+this.lh.y,f=this.Xe.A.position.x+this.mh.x,g=this.Xe.A.position.y+
this.mh.y,k=0,n=0,m=0,l=0,h=b=0,q=0,r=0,s=h=r=b=h=b=0;this.Js==Z.Ac&&(b=a.A.n,k=this.Y.x-a.k.L.x,n=this.Y.y-a.k.L.y,h=b.i.x*k+b.j.x*n,n=b.i.y*k+b.j.y*n,k=h,b=c.A.n,m=this.Z.x-c.k.L.x,l=this.Z.y-c.k.L.y,h=b.i.x*m+b.j.x*l,l=b.i.y*m+b.j.y*l,m=h,b=a.k.u.x+k,h=a.k.u.y+n,q=c.k.u.x+m,r=c.k.u.y+l,this.Xa.Set(b-d,h-e),this.Ya.Set(q-f,r-g),b=this.Xa.Zf(),h=this.Ya.Zf(),.005<b?this.Xa.kd(1/b):this.Xa.aa(),.005<h?this.Ya.kd(1/h):this.Ya.aa(),b=this.Ik-b-this.yb*h,s=Math.max(s,-b),b=U.mb(b+.005,-.2,0),r=-this.np*
b,b=-r*this.Xa.x,h=-r*this.Xa.y,q=-this.yb*r*this.Ya.x,r=-this.yb*r*this.Ya.y,a.k.u.x+=a.G*b,a.k.u.y+=a.G*h,a.k.J+=a.N*(k*h-n*b),c.k.u.x+=c.G*q,c.k.u.y+=c.G*r,c.k.J+=c.N*(m*r-l*q),a.tb(),c.tb());this.Ds==Z.Ac&&(b=a.A.n,k=this.Y.x-a.k.L.x,n=this.Y.y-a.k.L.y,h=b.i.x*k+b.j.x*n,n=b.i.y*k+b.j.y*n,k=h,b=a.k.u.x+k,h=a.k.u.y+n,this.Xa.Set(b-d,h-e),b=this.Xa.Zf(),.005<b?(this.Xa.x*=1/b,this.Xa.y*=1/b):this.Xa.aa(),b=this.Kw-b,s=Math.max(s,-b),b=U.mb(b+.005,-.2,0),r=-this.Em*b,b=-r*this.Xa.x,h=-r*this.Xa.y,
a.k.u.x+=a.G*b,a.k.u.y+=a.G*h,a.k.J+=a.N*(k*h-n*b),a.tb());this.Es==Z.Ac&&(b=c.A.n,m=this.Z.x-c.k.L.x,l=this.Z.y-c.k.L.y,h=b.i.x*m+b.j.x*l,l=b.i.y*m+b.j.y*l,m=h,q=c.k.u.x+m,r=c.k.u.y+l,this.Ya.Set(q-f,r-g),h=this.Ya.Zf(),.005<h?(this.Ya.x*=1/h,this.Ya.y*=1/h):this.Ya.aa(),b=this.Lw-h,s=Math.max(s,-b),b=U.mb(b+.005,-.2,0),r=-this.Fm*b,q=-r*this.Ya.x,r=-r*this.Ya.y,c.k.u.x+=c.G*q,c.k.u.y+=c.G*r,c.k.J+=c.N*(m*r-l*q),c.tb());return.005>s};var Ie=1,Ke=function(){xe.call(this);this.Do=O.r(0,0);this.Eo=
O.r(0,0);this.ib=O.r(0,0);this.jb=O.r(0,0);this.type=Z.EA;this.Do.Set(-1,1);this.Eo.Set(1,1);this.ib.Set(-1,0);this.jb.Set(1,0);this.Nw=this.ks=this.Mw=this.hs=0;this.ri=1;this.Uq=!0};x(Ke,xe);Ke.prototype.Pb=function(a,c,b,d,e,f,g){void 0===g&&(g=0);this.I=a;this.K=c;this.Do.D(b);this.Eo.D(d);this.ib=this.I.Uc(e);this.jb=this.K.Uc(f);a=e.x-b.x;b=e.y-b.y;this.hs=Math.sqrt(a*a+b*b);b=f.x-d.x;d=f.y-d.y;this.ks=Math.sqrt(b*b+d*d);this.ri=g;g=this.hs+this.ri*this.ks;this.Mw=g-this.ri*Ie;this.Nw=(g-Ie)/
this.ri};Ke.prototype.Ke=function(){return new Je(this)};var Le=function(a){Z.call(this,a);this.Md=new P;this.ul=new P;this.wl=new P;this.xl=new P;this.oc=new yc(0,0,0);this.xf=O.r(0,0);this.yg=O.r(0,0);this.Y=O.r(0,0);this.Z=O.r(0,0);this.B=new yc(0,0,0);this.P=new zc;this.Y.D(a.ib);this.Z.D(a.jb);this.Im=a.zg;this.B.aa();this.Ga=0;this.lp=a.us;this.Ks=a.Wt;this.IC=a.Ow;this.Gm=a.Rk;this.Ff=a.ej;this.ci=a.ok;this.qa=Z.qd};x(Le,Z);Le.prototype.yn=function(){return this.R.k.J-this.Q.k.J-this.Im};Le.prototype.Le=
function(a){var c=this.Q,b=this.R,d,e=0;d=c.A.n;var f=this.Y.x-c.k.L.x,g=this.Y.y-c.k.L.y,e=d.i.x*f+d.j.x*g,g=d.i.y*f+d.j.y*g,f=e;d=b.A.n;var k=this.Z.x-b.k.L.x,n=this.Z.y-b.k.L.y,e=d.i.x*k+d.j.x*n,n=d.i.y*k+d.j.y*n,k=e;d=c.G;var e=b.G,m=c.N,l=b.N;this.P.i.x=d+e+g*g*m+n*n*l;this.P.j.x=-g*f*m-n*k*l;this.P.ka.x=-g*m-n*l;this.P.i.y=this.P.j.x;this.P.j.y=d+e+f*f*m+k*k*l;this.P.ka.y=f*m+k*l;this.P.i.z=this.P.ka.x;this.P.j.z=this.P.ka.y;this.P.ka.z=m+l;this.yd=1/(m+l);this.ci||(this.Ga=0);if(this.Ff){var h=
b.k.J-c.k.J-this.Im;Math.abs(this.Ks-this.lp)<2*sc?this.qa=Z.Sh:h<=this.lp?(this.qa!=Z.gg&&(this.B.z=0),this.qa=Z.gg):h>=this.Ks?(this.qa!=Z.Ac&&(this.B.z=0),this.qa=Z.Ac):(this.qa=Z.qd,this.B.z=0)}else this.qa=Z.qd;a.Bh?(this.B.x*=a.Yb,this.B.y*=a.Yb,this.Ga*=a.Yb,a=this.B.x,h=this.B.y,c.q.x-=d*a,c.q.y-=d*h,c.C-=m*(f*h-g*a+this.Ga+this.B.z),b.q.x+=e*a,b.q.y+=e*h,b.C+=l*(k*h-n*a+this.Ga+this.B.z)):(this.B.aa(),this.Ga=0)};Le.prototype.he=function(a){var c=this.Q,b=this.R,d=0,e=d=0,f=0,g=0,k=0,n=c.q,
m=c.C,l=b.q,h=b.C,q=c.G,r=b.G,s=c.N,u=b.N;this.ci&&this.qa!=Z.Sh&&(e=this.yd*-(h-m-this.Gm),f=this.Ga,g=a.wa*this.IC,this.Ga=U.mb(this.Ga+e,-g,g),e=this.Ga-f,m-=s*e,h+=u*e);if(this.Ff&&this.qa!=Z.qd){a=c.A.n;e=this.Y.x-c.k.L.x;f=this.Y.y-c.k.L.y;d=a.i.x*e+a.j.x*f;f=a.i.y*e+a.j.y*f;e=d;a=b.A.n;g=this.Z.x-b.k.L.x;k=this.Z.y-b.k.L.y;d=a.i.x*g+a.j.x*k;k=a.i.y*g+a.j.y*k;g=d;a=l.x+-h*k-n.x- -m*f;var p=l.y+h*g-n.y-m*e;this.P.El(this.oc,-a,-p,-(h-m));this.qa==Z.Sh?this.B.Hg(this.oc):this.qa==Z.gg?(d=this.B.z+
this.oc.z,0>d&&(this.P.dk(this.yg,-a,-p),this.oc.x=this.yg.x,this.oc.y=this.yg.y,this.oc.z=-this.B.z,this.B.x+=this.yg.x,this.B.y+=this.yg.y,this.B.z=0)):this.qa==Z.Ac&&(d=this.B.z+this.oc.z,0<d&&(this.P.dk(this.yg,-a,-p),this.oc.x=this.yg.x,this.oc.y=this.yg.y,this.oc.z=-this.B.z,this.B.x+=this.yg.x,this.B.y+=this.yg.y,this.B.z=0));n.x-=q*this.oc.x;n.y-=q*this.oc.y;m-=s*(e*this.oc.y-f*this.oc.x+this.oc.z);l.x+=r*this.oc.x;l.y+=r*this.oc.y;h+=u*(g*this.oc.y-k*this.oc.x+this.oc.z)}else a=c.A.n,e=this.Y.x-
c.k.L.x,f=this.Y.y-c.k.L.y,d=a.i.x*e+a.j.x*f,f=a.i.y*e+a.j.y*f,e=d,a=b.A.n,g=this.Z.x-b.k.L.x,k=this.Z.y-b.k.L.y,d=a.i.x*g+a.j.x*k,k=a.i.y*g+a.j.y*k,g=d,this.P.dk(this.xf,-(l.x+-h*k-n.x- -m*f),-(l.y+h*g-n.y-m*e)),this.B.x+=this.xf.x,this.B.y+=this.xf.y,n.x-=q*this.xf.x,n.y-=q*this.xf.y,m-=s*(e*this.xf.y-f*this.xf.x),l.x+=r*this.xf.x,l.y+=r*this.xf.y,h+=u*(g*this.xf.y-k*this.xf.x);c.q.D(n);c.C=m;b.q.D(l);b.C=h};Le.prototype.ge=function(){var a=0,c,b=this.Q,d=this.R,e=0,f=c=0,g=0,k=0;if(this.Ff&&this.qa!=
Z.qd){var a=d.k.J-b.k.J-this.Im,n=0;this.qa==Z.Sh?(a=U.mb(a-this.lp,-tc,tc),n=-this.yd*a,e=Math.abs(a)):this.qa==Z.gg?(a-=this.lp,e=-a,a=U.mb(a+sc,-tc,0),n=-this.yd*a):this.qa==Z.Ac&&(e=a-=this.Ks,a=U.mb(a-sc,0,tc),n=-this.yd*a);b.k.J-=b.N*n;d.k.J+=d.N*n;b.tb();d.tb()}c=b.A.n;n=this.Y.x-b.k.L.x;a=this.Y.y-b.k.L.y;f=c.i.x*n+c.j.x*a;a=c.i.y*n+c.j.y*a;n=f;c=d.A.n;var m=this.Z.x-d.k.L.x,l=this.Z.y-d.k.L.y,f=c.i.x*m+c.j.x*l,l=c.i.y*m+c.j.y*l,m=f,g=d.k.u.x+m-b.k.u.x-n,k=d.k.u.y+l-b.k.u.y-a,h=g*g+k*k;c=
Math.sqrt(h);var f=b.G,q=d.G,r=b.N,s=d.N;h>.05*.05&&(h=1/(f+q),g=h*-g,k=h*-k,b.k.u.x-=.5*f*g,b.k.u.y-=.5*f*k,d.k.u.x+=.5*q*g,d.k.u.y+=.5*q*k,g=d.k.u.x+m-b.k.u.x-n,k=d.k.u.y+l-b.k.u.y-a);this.ul.i.x=f+q;this.ul.j.x=0;this.ul.i.y=0;this.ul.j.y=f+q;this.wl.i.x=r*a*a;this.wl.j.x=-r*n*a;this.wl.i.y=-r*n*a;this.wl.j.y=r*n*n;this.xl.i.x=s*l*l;this.xl.j.x=-s*m*l;this.xl.i.y=-s*m*l;this.xl.j.y=s*m*m;this.Md.jf(this.ul);this.Md.nn(this.wl);this.Md.nn(this.xl);this.Md.Jh(Me,-g,-k);g=Me.x;k=Me.y;b.k.u.x-=b.G*
g;b.k.u.y-=b.G*k;b.k.J-=b.N*(n*k-a*g);d.k.u.x+=d.G*g;d.k.u.y+=d.G*k;d.k.J+=d.N*(m*k-l*g);b.tb();d.tb();return.005>=c&&e<=sc};var Me=O.r(0,0),rc=function(){xe.call(this);this.ib=O.r(0,0);this.jb=O.r(0,0);this.type=Z.nk;this.ib.aa();this.jb.aa();this.Rk=this.Ow=this.Wt=this.us=this.zg=0;this.ok=this.ej=!1};x(rc,xe);rc.prototype.Pb=function(a,c,b){this.I=a;this.K=c;this.ib=this.I.Uc(b);this.jb=this.K.Uc(b);this.zg=this.K.hd()-this.I.hd()};rc.prototype.Ke=function(){return new Le(this)};var Ne=function(a){Z.call(this,
a);this.xe=O.r(0,0);this.ye=O.r(0,0);this.B=new yc(0,0,0);this.P=new zc;this.xe.D(a.ib);this.ye.D(a.jb);this.Im=a.zg};x(Ne,Z);Ne.prototype.Le=function(a){var c,b=0,d=this.Q,e=this.R;c=d.A.n;var f=this.xe.x-d.k.L.x,g=this.xe.y-d.k.L.y,b=c.i.x*f+c.j.x*g,g=c.i.y*f+c.j.y*g,f=b;c=e.A.n;var k=this.ye.x-e.k.L.x,n=this.ye.y-e.k.L.y,b=c.i.x*k+c.j.x*n,n=c.i.y*k+c.j.y*n,k=b;c=d.G;var b=e.G,m=d.N,l=e.N;this.P.i.x=c+b+g*g*m+n*n*l;this.P.j.x=-g*f*m-n*k*l;this.P.ka.x=-g*m-n*l;this.P.i.y=this.P.j.x;this.P.j.y=c+
b+f*f*m+k*k*l;this.P.ka.y=f*m+k*l;this.P.i.z=this.P.ka.x;this.P.j.z=this.P.ka.y;this.P.ka.z=m+l;a.Bh?(this.B.x*=a.Yb,this.B.y*=a.Yb,this.B.z*=a.Yb,d.q.x-=c*this.B.x,d.q.y-=c*this.B.y,d.C-=m*(f*this.B.y-g*this.B.x+this.B.z),e.q.x+=b*this.B.x,e.q.y+=b*this.B.y,e.C+=l*(k*this.B.y-n*this.B.x+this.B.z)):this.B.aa()};Ne.prototype.he=function(){var a,c=0,b=this.Q,d=this.R,e=b.q,f=b.C,g=d.q,k=d.C,n=b.G,m=d.G,l=b.N,h=d.N;a=b.A.n;var q=this.xe.x-b.k.L.x,r=this.xe.y-b.k.L.y,c=a.i.x*q+a.j.x*r,r=a.i.y*q+a.j.y*
r,q=c;a=d.A.n;var s=this.ye.x-d.k.L.x,u=this.ye.y-d.k.L.y,c=a.i.x*s+a.j.x*u,u=a.i.y*s+a.j.y*u,s=c;a=new yc(0,0,0);this.P.El(a,-(g.x-k*u-e.x+f*r),-(g.y+k*s-e.y-f*q),-(k-f));this.B.Hg(a);e.x-=n*a.x;e.y-=n*a.y;f-=l*(q*a.y-r*a.x+a.z);g.x+=m*a.x;g.y+=m*a.y;k+=h*(s*a.y-u*a.x+a.z);b.C=f;d.C=k};Ne.prototype.ge=function(){var a,c=0,b=this.Q,d=this.R;a=b.A.n;var e=this.xe.x-b.k.L.x,f=this.xe.y-b.k.L.y,c=a.i.x*e+a.j.x*f,f=a.i.y*e+a.j.y*f,e=c;a=d.A.n;var g=this.ye.x-d.k.L.x,k=this.ye.y-d.k.L.y,c=a.i.x*g+a.j.x*
k,k=a.i.y*g+a.j.y*k,g=c;a=b.G;var c=d.G,n=b.N,m=d.N,l=d.k.u.x+g-b.k.u.x-e,h=d.k.u.y+k-b.k.u.y-f,q=d.k.J-b.k.J-this.Im,r=Math.sqrt(l*l+h*h),s=Math.abs(q);.05<r&&(n*=1,m*=1);this.P.i.x=a+c+f*f*n+k*k*m;this.P.j.x=-f*e*n-k*g*m;this.P.ka.x=-f*n-k*m;this.P.i.y=this.P.j.x;this.P.j.y=a+c+e*e*n+g*g*m;this.P.ka.y=e*n+g*m;this.P.i.z=this.P.ka.x;this.P.j.z=this.P.ka.y;this.P.ka.z=n+m;var u=new yc(0,0,0);this.P.El(u,-l,-h,-q);b.k.u.x-=a*u.x;b.k.u.y-=a*u.y;b.k.J-=n*(e*u.y-f*u.x+u.z);d.k.u.x+=c*u.x;d.k.u.y+=c*u.y;
d.k.J+=m*(g*u.y-k*u.x+u.z);b.tb();d.tb();return.005>=r&&s<=sc};var Oe=function(){xe.call(this);this.ib=O.r(0,0);this.jb=O.r(0,0);this.type=Z.GA;this.zg=0};x(Oe,xe);Oe.prototype.Pb=function(a,c,b){this.I=a;this.K=c;this.ib.D(this.I.Uc(b));this.jb.D(this.K.Uc(b));this.zg=this.K.hd()-this.I.hd()};Oe.prototype.Ke=function(){return new Ne(this)};var de=[new Fc,new Fc],me=[new Fc,new Fc],ne=[new Fc,new Fc],ee=O.r(0,0),fe=O.r(0,0),ge=O.r(0,0),je=O.r(0,0),he=O.r(0,0),ie=O.r(0,0),ke=O.r(0,0),le=O.r(0,0),Gd=
0,Pd=0,Qd=0,Nd=0,Od=0,Hd=new dd,Id=new Oc,Jd=new ic,Kd=new ic,Md=new Zc,Ld=new Pc;kc.tD=new ic;lc.Wu=new lc;new function(){this.position=O.r(0,0);this.iy=O.r(0,0);this.ed=O.r(0,0);this.id=new Ec};nc.qF=new ic;nc.wx=new Ac;nc.xx=new Ac;var Fd=new ed,be=new fd,ce=new ae}function Pe(a,c,b,d,e,f){var g;if(g=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=f-.1||d-.1<=c&&c<=f+.1))g=.1<Math.abs(e-b)?.1>Math.abs((f-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return g}
function Qe(a,c){var b=O,d=Re(a),e=[],f,g,k,n,m,l,h,q,r;m=0;for(l=d.length;m<l;m++){g=d[m];f=[];f.length=g.length;h=r=0;for(q=g.length;h<q;h++)k=g[h],n=g[(h+1)%q],r+=k.x*n.y-k.y*n.x,f[h]=b.r(k.x,k.y);r=Math.abs(r/2);r>=.001*c&&e.push(f)}return e}
function Re(a){var c=[],b=0,d=0,e=0,f=0,g=0,k=g=0,n=0,m=0,l=0,f=0,h,q,r,s,u,p=f=b=0,A=0,e=[],n=[],D=!1,L=[],z=[];for(z.push(a);z.length;){c=z[0];d=c.length;D=!0;for(b=0;b<d;b++)if(m=b,l=b<d-1?b+1:b+1-d,f=b<d-2?b+2:b+2-d,a=c[m],h=c[l],q=c[f],f=a.x,e=a.y,n=h.x,g=h.y,k=q.x,q=q.y,f=f*g+n*q+k*e-e*n-g*k-q*f,0>f){D=!1;n=1E9;for(e=0;e<d;e++)if(e!==m&&e!==l){b=e;f=e<d-1?e+1:0;r=c[b];s=c[f];k=a.x;q=a.y;var B=h.x,C=h.y,g=r.x;r=r.y;var y=s.x;s=s.y;var G=B-k,E=C-q,H=y-g,F=s-r,H=(H*(r-q)-F*(g-k))/(E*H-G*F),G=k+
H*G,E=q+H*E,k=Pe(B,C,k,q,G,E),g=Pe(G,E,g,r,y,s);if(q=k&&g?O.r(G,E):null)g=h.x-q.x,k=h.y-q.y,g=g*g+k*k,g<n&&(A=b,p=f,u=q,n=g)}if(1E9===n)return[];e=[];n=[];b=A;f=p;r=c[b];s=c[f];p=u.y;A=s.y;.1>Math.abs(s.x-u.x)&&.1>Math.abs(A-p)||e.push(u);p=u.y;A=r.y;.1>Math.abs(r.x-u.x)&&.1>Math.abs(A-p)||n.push(u);A=-1;for(p=m;;){if(p!==f)e.push(c[p]);else{if(0>A||A>=d)return[];Pe(s.x,s.y,c[A].x,c[A].y,a.x,a.y)||e.push(c[p]);break}A=p;0>p-1?p=d-1:p--}e.reverse();A=-1;for(p=l;;){if(p!==b)n.push(c[p]);else{if(0>A||
A>=d)return[];p!==b||Pe(r.x,r.y,c[A].x,c[A].y,h.x,h.y)||n.push(c[p]);break}A=p;p+1>d-1?p=0:p++}z.push(e,n);z.shift();break}D&&L.push(z.shift())}return L}
function Se(a){for(var c=0;4E3>c;c++)O.Lg.push(new O(0,0));this.c=a;this.Kd=new nc(O.r(0,10),!0);this.ds=-1;a=new lc;a.behavior=this;a.pn=function(a){this.behavior.c.Xk(a.ub.La().dg.p,a.pb.La().dg.p)};this.Kd.Du(a);a=new mc;a.behavior=this;a.Pi=function(a,c){if(this.behavior.Nz)return!0;var e=a.La().dg.p.type,f=c.La().dg.p.type,g=e.ja.Physics_DisabledCollisions;return g&&g.contains(f)?!1:(g=f.ja.Physics_DisabledCollisions)&&g.contains(e)?!1:!0};this.Kd.Cu(a);this.AD=0;this.hn=8;this.Qm=3;this.Nz=
!0}
(function(){function a(){}function c(){}var b=O,d=V,e=pc,f=W,g=oc,k=qc,n=rc,m=Se.prototype;m.Wc=function(a){this.behavior=a;this.c=a.c};m.Wc.prototype.rb=function(){};m.kc=function(a,b){this.type=a;this.behavior=a.behavior;this.p=b;this.c=a.c;this.Kd=this.behavior.Kd};var l=m.kc.prototype;l.rb=function(){this.Ir=0!==this.ya[0];this.iv=this.ya[1];this.bt=0!==this.ya[2];this.tf=this.ya[3];this.ig=this.ya[4];this.Ag=this.ya[5];this.vj=this.ya[6];this.Si=this.ya[7];this.Xi=0!==this.ya[8];this.enabled=0!==
this.ya[9];this.body=null;this.p.gb();this.Po=this.p.x;this.Qo=this.p.y;this.mg=this.p.M;this.as=this.es=0;this.nx=this.cs=!1;this.Yr=null;this.Zr=-1;this.Yd?(this.Yd.length=0,this.$e.length=0,this.dh.clear()):(this.Yd=[],this.$e=[],this.dh=new ba);var a=this;this.Zd||(this.mi=function(b){a.Nm(b)});this.c.Iq(this.mi)};l.hx=function(){this.p.gb();this.Zq();this.Yr=this.p.nb;this.Zr=this.p.X};l.Kj=function(){this.jo();this.$e.length=0;this.dh.clear();this.body&&(this.Kd.un(this.body),this.body=null);
this.c.lt(this.mi)};l.Bd=function(){var a={e:this.enabled,im:this.Ir,pr:this.bt,d:this.tf,fr:this.ig,re:this.Ag,ld:this.vj,ad:this.Si,b:this.Xi,mcj:this.$e};if(this.enabled){var c=b.r(0,0);c.D(this.body.Ii());a.vx=c.x;a.vy=c.y;a.om=this.body.xn()}return a};l.Wd=function(a){this.jo();this.$e.length=0;this.dh.clear();this.body&&(this.Kd.un(this.body),this.body=null);this.enabled=a.e;this.Ir=a.im;this.bt=a.pr;this.tf=a.d;this.ig=a.fr;this.Ag=a.re;this.vj=a.ld;this.Si=a.ad;this.Xi=a.b;this.Po=this.p.x;
this.Qo=this.p.y;this.mg=this.p.M;this.es=this.p.width;this.as=this.p.height;this.enabled&&(this.Zq(),this.body.Oi(b.r(a.vx,a.vy)),this.body.Bl(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.Hc(!0),this.$e=a.mcj)};l.ag=function(){this.enabled&&this.kt();this.behavior.ds=this.c.Ci-1};l.Nm=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.$e.length;b<c;b++)this.$e[d]=this.$e[b],d<this.Yd.length&&(this.Yd[d]=this.Yd[b]),this.$e[b].Hf[1]==e?this.Kd.vn(this.Yd[b]):d++;this.$e.length=d;d<this.Yd.length&&(this.Yd.length=
d);this.dh.remove(a)};l.jo=function(){var a,b;a=0;for(b=this.Yd.length;a<b;a++)this.Kd.vn(this.Yd[a]);this.Yd.length=0};l.kt=function(){var a,b,c;a=0;for(b=this.$e.length;a<b;a++)switch(c=this.$e[a],c.type){case 0:this.jA(c.Hf[0],c.Hf[1],c.Hf[2],c.Hf[3],c.Hf[4]);break;case 1:this.lA(c.Hf[0],c.Hf[1]);break;case 2:this.kA(c.Hf[0],c.Hf[1],c.Hf[2],c.Hf[3])}};l.fA=function(){this.body&&(this.jo(),this.Kd.un(this.body),this.body=null,this.p.ja.Pe=null)};var h=[];l.Zq=function(){if(this.enabled){var a=this.p,
c=!1,k=null,l=null,m,n,D,L,z,B,C,y,G,E,H,F,ca;if(this.body){c=!0;k=b.r(0,0);k.D(this.body.Ii());l=this.body.xn();y=this.dh.Tf();m=0;for(n=y.length;m<n;m++)G=y[m].ja.Pe.dg,G.jo();this.fA()}G=new e;G.tf=this.tf;G.ig=this.ig;G.Ag=this.Ag;m=new d;m.type=this.Ir?0:2;a.gb();m.position.x=.02*a.Cb.ki();m.position.y=.02*a.Cb.li();m.M=a.M;m.nr=this.bt;m.vj=this.vj;m.Si=this.Si;m.Xi=this.Xi;y=this.p.Fa&&!this.p.Fa.oj();this.body=this.Kd.gq(m);this.body.dg=this;m=this.iv;y||this.p.xh||0!==this.iv||(m=1);n=Math.max(Math.abs(a.width),
1);D=Math.max(Math.abs(a.height),1);E=0>a.width;H=0>a.height;if(0===m)if(a.xh)for(F=a.Cb.ki()-a.x,C=a.Cb.li()-a.y,a.nB(h),y=[],m=0,n=h.length;m<n;++m){E=h[m];H=E.Ua;if(E.zd){if(!E.zd.$n){z=E.zd.bb;L=E.zd.Ad;for(D=0;D<L;++D)y.push(b.r(z[2*D],z[2*D+1]));D=E.id&3758096384;(-2147483648===D||1073741824===D||536870912===D||D&-2147483648&&D&1073741824&&D&536870912)&&y.reverse();E.zd.$n=Qe(y,(H.right-H.left)*(H.bottom-H.top));D=0;for(L=y.length;D<L;++D)b.Ob(y[D]);y.length=0}D=0;for(L=E.zd.$n.length;D<L;++D){ca=
E.zd.$n[D];z=0;for(B=ca.length;z<B;++z)y.push(b.r(.02*(H.left+ca[z].x-F),.02*(H.top+ca[z].y-C)));G.shape=new f;G.shape.Cl(y,y.length);this.body.Vj(G);z=0;for(B=y.length;z<B;++z)b.Ob(y[z]);y.length=0}}else y.push(b.r(.02*(H.left-F),.02*(H.top-C))),y.push(b.r(.02*(H.right-F),.02*(H.top-C))),y.push(b.r(.02*(H.right-F),.02*(H.bottom-C))),y.push(b.r(.02*(H.left-F),.02*(H.bottom-C))),G.shape=new f,G.shape.Cl(y,y.length),this.body.Vj(G);D=0;for(L=y.length;D<L;++D)b.Ob(y[D]);y.length=0}else{m=a.M;a.M=0;a.W();
a.gb();F=a.Cb.ki()-a.x;C=a.Cb.li()-a.y;a.M=m;a.W();a.Fa.Oh(E?-n:n,H?-D:D,0);z=a.Fa.bb;L=a.Fa.Ad;y=[];y.length=L;for(m=0;m<L;m++)y[m]=b.r(z[2*m]-F,z[2*m+1]-C);E!==H&&y.reverse();F=Qe(y,n*D);for(m=0;m<L;m++)b.Ob(y[m]);if(F.length)for(m=0,n=F.length;m<n;m++){y=F[m];D=0;for(L=y.length;D<L;D++)C=y[D],C.x*=.02,C.y*=.02;G.shape=new f;G.shape.Cl(y,y.length);this.body.Vj(G);D=0;for(L=y.length;D<L;D++)b.Ob(y[D])}else G.shape=new f,G.shape.Fn(.01*n,.01*D),this.body.Vj(G)}else 1===m?(G.shape=new f,G.shape.Fn(.01*
n,.01*D)):G.shape=new g(.01*Math.min(n,D)),this.body.Vj(G);a.ja.Pe=this.body;this.es=a.width;this.as=a.height;if(c)for(this.body.Oi(k),this.body.Bl(l),b.Ob(k),this.kt(),y=this.dh.Tf(),m=0,n=y.length;m<n;m++)G=y[m].ja.Pe.dg,G.kt();h.length=0}};l.Pf=function(){if(this.enabled){var a=this.p,c;0===this.behavior.AD?c=this.c.Di/60:(c=this.c.yo(this.p),c>1/30&&(c=1/30));this.c.Ci>this.behavior.ds&&0<this.c.Di&&(this.Kd.Kg(c,this.behavior.hn,this.behavior.Qm),this.Kd.eu(),this.behavior.ds=this.c.Ci);if(this.nx||
a.width!==this.es||a.height!==this.as||a.nb!==this.Yr||a.X!==this.Zr||a.xh&&a.Lj)this.Zq(),this.nx=!1,this.Yr=a.nb,this.Zr=a.X,a.xh&&a.Lj&&(a.Lj=!1);c=a.M!==this.mg;if(a.x!==this.Po||a.y!==this.Qo){a.gb();var d=a.Cb.ki(),e=a.Cb.li(),f=d-this.Po,g=e-this.Qo;this.body.Aq(b.r(.02*d,.02*e));this.body.Oi(b.r(f,g));this.cs=!0;this.body.Hc(!0)}else this.cs&&(this.cs=!1,this.body.Oi(b.r(0,0)),this.body.Aq(b.r(.02*a.Cb.ki(),.02*a.Cb.li())));c&&(this.body.En(a.M),this.body.Hc(!0));d=this.body.A.position;c=
d.x/.02;d=d.y/.02;e=this.body.hd();if(c!==a.x||d!==a.y||e!==a.M)if(a.x=c,a.y=d,a.M=e,a.W(),a.gb(),c=a.Cb.ki()-a.x,d=a.Cb.li()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.W();this.Po=a.x;this.Qo=a.y;this.mg=a.M}};l.zo=function(a){return-1!==a&&this.p.jg?0===a&&this.body?(this.body.A.position.x+this.body.Ji().x)/.02:this.p.jg(a,!0):this.p.x};l.Ao=function(a){return-1!==a&&this.p.jg?0===a&&this.body?(this.body.A.position.y+this.body.Ji().y)/.02:this.p.jg(a,!1):this.p.y};a.prototype.pq=function(){return this.enabled};
m.fa=new a;c.prototype.Vf=function(a,c,d){if(this.enabled){var e=this.zo(d);d=this.Ao(d);this.body.Vf(b.r(a,c),b.r(.02*e,.02*d))}};c.prototype.on=function(a){this.enabled&&this.body.on(w(a))};c.prototype.Bl=function(a){this.enabled&&(this.body.Bl(w(a)),this.body.Hc(!0))};l.jA=function(a,c,d,e,f){if(this.enabled&&(c=this.c.Vh(c))&&c!=this.p&&c.ja.Pe){c.ja.Pe.dg.dh.add(this.p);var g=this.zo(a);a=this.Ao(a);var h;c.jg?(h=c.jg(d,!0),d=c.jg(d,!1)):(h=c.x,d=c.y);var l=g-h,m=a-d,n=new k;n.Pb(this.body,c.ja.Pe,
b.r(.02*g,.02*a),b.r(.02*h,.02*d));n.length=.02*Math.sqrt(l*l+m*m);n.ho=e;n.wo=f;this.Yd.push(this.Kd.tn(n))}};l.lA=function(a,c){if(this.enabled){var d=this.c.Vh(c);if(d&&d!=this.p&&d.ja.Pe){d.ja.Pe.dg.dh.add(this.p);var e=this.zo(a),f=this.Ao(a),g=new n;g.Pb(this.body,d.ja.Pe,b.r(.02*e,.02*f));this.Yd.push(this.Kd.tn(g))}}};l.kA=function(a,c,d,e){if(this.enabled&&(c=this.c.Vh(c))&&c!=this.p&&c.ja.Pe){c.ja.Pe.dg.dh.add(this.p);var f=this.zo(a);a=this.Ao(a);var g=new n;g.Pb(this.body,c.ja.Pe,b.r(.02*
f,.02*a));g.ej=!0;g.us=w(d);g.Wt=w(e);this.Yd.push(this.Kd.tn(g))}};m.Nd=new c;m.Se=new function(){}})();function Te(a){this.c=a}
(function(){function a(){}var c=Te.prototype;c.Wc=function(a){this.behavior=a;this.c=a.c};c.Wc.prototype.rb=function(){};c.kc=function(a,b){this.type=a;this.behavior=a.behavior;this.p=b;this.c=a.c};var b=c.kc.prototype;b.rb=function(){this.Ec=null;this.vp=-1;this.mode=this.mg=this.Pp=this.Sk=this.th=this.Pm=0;var a=this;this.Zd||(this.mi=function(b){a.Nm(b)});this.c.Iq(this.mi)};b.Bd=function(){return{uid:this.Ec?this.Ec.uid:-1,pa:this.Pm,pd:this.th,msa:this.Sk,tsa:this.Pp,lka:this.mg,m:this.mode}};
b.Wd=function(a){this.vp=a.uid;this.Pm=a.pa;this.th=a.pd;this.Sk=a.msa;this.Pp=a.tsa;this.mg=a.lka;this.mode=a.m};b.ag=function(){this.Ec=-1===this.vp?null:this.c.Vh(this.vp);this.vp=-1};b.Nm=function(a){this.Ec==a&&(this.Ec=null)};b.Kj=function(){this.Ec=null;this.c.lt(this.mi)};b.Pf=function(){};b.Rp=function(){if(this.Ec){this.mg!==this.p.M&&(this.Sk=Ga(this.Sk+(this.p.M-this.mg)));var a=this.p.x,b=this.p.y;if(3===this.mode||4===this.mode){var c=Na(this.p.x,this.p.y,this.Ec.x,this.Ec.y);if(c>this.th||
4===this.mode&&c<this.th)b=Ja(this.Ec.x,this.Ec.y,this.p.x,this.p.y),a=this.Ec.x+Math.cos(b)*this.th,b=this.Ec.y+Math.sin(b)*this.th}else a=this.Ec.x+Math.cos(this.Ec.M+this.Pm)*this.th,b=this.Ec.y+Math.sin(this.Ec.M+this.Pm)*this.th;this.mg=c=Ga(this.Sk+(this.Ec.M-this.Pp));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.p.x===a&&this.p.y===b||(this.p.x=a,this.p.y=b,this.p.W());0!==this.mode&&2!==this.mode||this.p.M===c||(this.p.M=c,this.p.W())}};c.fa=new function(){};a.prototype.mz=
function(a,b){if(a){var c=a.Ev(this.p);c&&(this.Ec=c,this.Pm=Ja(c.x,c.y,this.p.x,this.p.y)-c.M,this.th=Na(c.x,c.y,this.p.x,this.p.y),this.mg=this.Sk=this.p.M,this.Pp=c.M,this.mode=b)}};c.Nd=new a;c.Se=new function(){}})();function Ue(a){this.c=a}
(function(){function a(){}var c=Ue.prototype;c.Wc=function(a){this.behavior=a;this.c=a.c};c.Wc.prototype.rb=function(){};c.kc=function(a,b){this.type=a;this.behavior=a.behavior;this.p=b;this.c=a.c;this.Ip=this.Ft=this.Et=this.Gr=this.Nl=this.Rl=this.Ck=this.mm=this.Dp=this.Xo=!1;this.ue=null;this.ns=-1;this.rj=this.qj=0;this.uo=!1;this.pk=this.pf=0;this.ro=!0;this.cb=this.xa=0};var b=c.kc.prototype;b.ey=function(){this.yc=Math.cos(this.tk);this.zc=Math.sin(this.tk);this.Nj=Math.cos(this.tk-Math.PI/
2);this.Oj=Math.sin(this.tk-Math.PI/2);this.yc=bb(this.yc);this.zc=bb(this.zc);this.Nj=bb(this.Nj);this.Oj=bb(this.Oj);this.yr=this.Yg;0>this.Yg&&(this.yc*=-1,this.zc*=-1,this.Yg=Math.abs(this.Yg))};b.rb=function(){this.Qk=this.ya[0];this.ek=this.ya[1];this.lk=this.ya[2];this.lm=this.ya[3];this.yr=this.Yg=this.ya[4];this.pp=this.ya[5];this.ir=0!==this.ya[6];this.Xr=this.ya[7]/1E3;this.dA=1===this.ya[8];this.enabled=0!==this.ya[9];this.il=!1;this.ln=this.c.Bi(this.p);this.os=-1;this.Qj=0;this.tk=w(90);
this.ey();var a=this;this.dA&&!this.c.$c&&(jQuery(document).keydown(function(b){a.Rs(b)}),jQuery(document).keyup(function(b){a.Ss(b)}));this.Zd||(this.mi=function(b){a.Nm(b)});this.c.Iq(this.mi);this.p.ja.isPlatformBehavior=!0};b.Bd=function(){return{ii:this.Gr,lfx:this.qj,lfy:this.rj,lfo:this.ue?this.ue.uid:-1,am:this.pf,en:this.enabled,fall:this.pk,ft:this.ro,dx:this.xa,dy:this.cb,ms:this.Qk,acc:this.ek,dec:this.lk,js:this.lm,g:this.Yg,g1:this.yr,mf:this.pp,wof:this.il,woj:this.ln?this.ln.uid:-1,
ga:this.tk,edj:this.ir,cdj:this.Nl,dj:this.Rl,sus:this.Xr}};b.Wd=function(a){this.Gr=a.ii;this.qj=a.lfx;this.rj=a.lfy;this.ns=a.lfo;this.pf=a.am;this.enabled=a.en;this.pk=a.fall;this.ro=a.ft;this.xa=a.dx;this.cb=a.dy;this.Qk=a.ms;this.ek=a.acc;this.lk=a.dec;this.lm=a.js;this.Yg=a.g;this.yr=a.g1;this.pp=a.mf;this.il=a.wof;this.os=a.woj;this.tk=a.ga;this.ir=a.edj;this.Nl=a.cdj;this.Rl=a.dj;this.Xr=a.sus;this.Ip=this.Ft=this.Et=this.Ck=this.mm=this.Dp=this.Xo=!1;this.Qj=0;this.ey()};b.ag=function(){this.ue=
-1===this.ns?null:this.c.Vh(this.ns);this.ln=-1===this.os?null:this.c.Vh(this.os)};b.Nm=function(a){this.ue==a&&(this.ue=null)};b.Kj=function(){this.ue=null;this.c.lt(this.mi)};b.Rs=function(a){switch(a.which){case 38:a.preventDefault();this.mm=!0;break;case 37:a.preventDefault();this.Xo=!0;break;case 39:a.preventDefault(),this.Dp=!0}};b.Ss=function(a){switch(a.which){case 38:a.preventDefault();this.Ck=this.mm=!1;break;case 37:a.preventDefault();this.Xo=!1;break;case 39:a.preventDefault(),this.Dp=
!1}};b.jF=function(){return 0>this.Yg?-1:1};b.Zv=function(){var a=null,b=null,c,g;c=this.p.x;g=this.p.y;this.p.x+=this.yc;this.p.y+=this.zc;this.p.W();if(this.ue&&this.c.Nf(this.p,this.ue))return this.p.x=c,this.p.y=g,this.p.W(),this.ue;(a=this.c.be(this.p))||0!==this.pk||(b=this.c.Bi(this.p,!0));this.p.x=c;this.p.y=g;this.p.W();if(a){if(this.c.Nf(this.p,a))return null;this.uo=!1;return a}if(b&&b.length){g=a=0;for(c=b.length;a<c;a++)b[g]=b[a],this.c.Nf(this.p,b[a])||g++;if(1<=g)return this.uo=!0,
b[0]}return null};b.Pf=function(){};b.ix=function(){var a=this.c.yo(this.p),b,c,g,k,n,m,l,h,q;this.mm||this.Ip||(this.Ck=!1);var r=this.Xo||this.Et;g=this.Dp||this.Ft;var s=(k=this.mm||this.Ip)&&!this.Ck;this.Ip=this.Ft=this.Et=!1;if(this.enabled){this.Gr&&(s=k=g=r=!1);k||(this.Qj=0);h=this.ue;q=!1;this.ro&&((this.c.be(this.p)||this.c.Bi(this.p))&&this.c.Kf(this.p,-this.yc,-this.zc,4,!0),this.ro=!1);!h||0!==this.cb||h.y===this.rj&&h.x===this.qj||(b=h.x-this.qj,c=h.y-this.rj,this.p.x+=b,this.p.y+=
c,this.p.W(),this.qj=h.x,this.rj=h.y,q=!0,this.c.be(this.p)&&this.c.Kf(this.p,-b,-c,2.5*Math.sqrt(b*b+c*c)));var u=this.Zv();if(c=this.c.be(this.p))if(this.p.ja.inputPredicted)this.c.Kf(this.p,-this.yc,-this.zc,10,!1);else if(this.c.kD(this.p,Math.max(this.p.width,this.p.height)/2))this.c.Xk(this.p,c);else return;u?(this.Nl=this.Rl=!1,0<this.cb&&(this.il||(this.c.gt(this.p,-this.yc,-this.zc,u),this.il=!0),this.cb=0),h!=u)?(this.ue=u,this.qj=u.x,this.rj=u.y,this.c.Xk(this.p,u)):q&&(c=this.c.be(this.p))&&
(this.c.Xk(this.p,c),0!==b&&(0<b?this.c.Kf(this.p,-this.Nj,-this.Oj):this.c.Kf(this.p,this.Nj,this.Oj)),this.c.Kf(this.p,-this.yc,-this.zc)):k||(this.Nl=!0);if(u&&s||!u&&this.ir&&k&&this.Nl&&!this.Rl)h=this.p.x,q=this.p.y,this.p.x-=this.yc,this.p.y-=this.zc,this.p.W(),this.c.be(this.p)?s=!1:(this.Qj=this.Xr,this.c.trigger(Ue.prototype.fa.ez,this.p),this.pf=2,this.cb=-this.lm,s=!0,u?this.Ck=!0:this.Rl=!0),this.p.x=h,this.p.y=q,this.p.W();u||(k&&0<this.Qj?(this.cb=-this.lm,this.Qj-=a):(this.ue=null,
this.cb+=this.Yg*a,this.cb>this.pp&&(this.cb=this.pp)),s&&(this.Ck=!0));this.il=!!u;r==g&&(0>this.xa?(this.xa+=this.lk*a,0<this.xa&&(this.xa=0)):0<this.xa&&(this.xa-=this.lk*a,0>this.xa&&(this.xa=0)));r&&!g&&(this.xa=0<this.xa?this.xa-(this.ek+this.lk)*a:this.xa-this.ek*a);g&&!r&&(this.xa=0>this.xa?this.xa+(this.ek+this.lk)*a:this.xa+this.ek*a);this.xa>this.Qk?this.xa=this.Qk:this.xa<-this.Qk&&(this.xa=-this.Qk);r=!1;0!==this.xa&&(h=this.p.x,q=this.p.y,b=this.xa*a*this.Nj,c=this.xa*a*this.Oj,this.p.x+=
this.Nj*(1<this.xa?1:-1)-this.yc,this.p.y+=this.Oj*(1<this.xa?1:-1)-this.zc,this.p.W(),k=!1,n=this.c.be(this.p),this.p.x=h+b,this.p.y=q+c,this.p.W(),g=this.c.be(this.p),!g&&u&&(g=this.c.Bi(this.p))&&(this.p.x=h,this.p.y=q,this.p.W(),this.c.Nf(this.p,g)?(g=null,k=!1):k=!0,this.p.x=h+b,this.p.y=q+c,this.p.W()),g?(b=Math.abs(this.xa*a)+2,n||!this.c.Kf(this.p,-this.yc,-this.zc,b,k,g))?(this.c.Xk(this.p,g),b=Math.max(Math.abs(this.xa*a*2.5),30),this.c.Kf(this.p,this.Nj*(0>this.xa?1:-1),this.Oj*(0>this.xa?
1:-1),b,!1)?!u||k||this.uo||(h=this.p.x,q=this.p.y,this.p.x+=this.yc,this.p.y+=this.zc,this.c.be(this.p)?this.c.Kf(this.p,-this.yc,-this.zc,3,!1)||(this.p.x=h,this.p.y=q,this.p.W()):(this.p.x=h,this.p.y=q,this.p.W())):(this.p.x=h,this.p.y=q,this.p.W()),k||(this.xa=0)):!n&&!s&&Math.abs(this.cb)<Math.abs(this.lm/4)&&(this.cb=0,u||(r=!0)):(h=this.Zv(),u&&!h?(c=Math.ceil(Math.abs(this.xa*a))+2,h=this.p.x,q=this.p.y,this.p.x+=this.yc*c,this.p.y+=this.zc*c,this.p.W(),this.c.be(this.p)||this.c.Bi(this.p)?
this.c.Kf(this.p,-this.yc,-this.zc,c+2,!0):(this.p.x=h,this.p.y=q,this.p.W())):h&&0===this.cb&&this.c.gt(this.p,-this.yc,-this.zc,h)));if(0!==this.cb){h=this.p.x;q=this.p.y;this.p.x+=this.cb*a*this.yc;this.p.y+=this.cb*a*this.zc;b=this.p.x;g=this.p.y;this.p.W();c=this.c.be(this.p);k=!1;if(!c&&0<this.cb&&!u){if((k=0<this.pk?null:this.c.Bi(this.p,!0))&&k.length){if(this.ln){this.p.x=h;this.p.y=q;this.p.W();l=n=0;for(m=k.length;n<m;n++)k[l]=k[n],this.c.Nf(this.p,k[n])||l++;k.length=l;this.p.x=b;this.p.y=
g;this.p.W()}1<=k.length&&(c=k[0])}k=!!c}c&&(this.c.Xk(this.p,c),this.Qj=0,b=k?Math.abs(this.cb*a*2.5+10):Math.max(Math.abs(this.cb*a*2.5+10),30),this.c.Kf(this.p,this.yc*(0>this.cb?1:-1),this.zc*(0>this.cb?1:-1),b,k,c)?(this.ue=c,this.qj=c.x,this.rj=c.y,(this.uo=k)&&(r=!0),this.cb=0):(this.p.x=h,this.p.y=q,this.p.W(),this.il=!0,k||(this.cb=0)))}3!==this.pf&&0<this.cb&&!u&&(this.c.trigger(Ue.prototype.fa.dz,this.p),this.pf=3);if(u||r)3===this.pf||r||s&&0===this.cb?(this.c.trigger(Ue.prototype.fa.jz,
this.p),this.pf=0===this.xa&&0===this.cb?0:1):(0!==this.pf&&0===this.xa&&0===this.cb&&(this.c.trigger(Ue.prototype.fa.wu,this.p),this.pf=0),1===this.pf||0===this.xa&&0===this.cb||s||(this.c.trigger(Ue.prototype.fa.vu,this.p),this.pf=1));0<this.pk&&this.pk--;this.ln=this.c.Bi(this.p)}};a.prototype.ez=function(){return!0};a.prototype.dz=function(){return!0};a.prototype.wu=function(){return!0};a.prototype.vu=function(){return!0};a.prototype.jz=function(){return!0};c.fa=new a;c.Nd=new function(){};c.Se=
new function(){}})();function Ve(a){this.c=a;this.Ct=this.Hp=this.Zm=this.Bt=0}
(function(){var a=Ve.prototype;a.Wc=function(a){this.behavior=a;this.c=a.c};a.Wc.prototype.rb=function(){};a.kc=function(a,c){this.type=a;this.behavior=a.behavior;this.p=c;this.c=a.c};var c=a.kc.prototype;c.rb=function(){this.enabled=0!==this.ya[0]};c.Bd=function(){return{smg:this.behavior.Bt,ss:this.behavior.Zm,se:this.behavior.Hp,smd:this.behavior.Ct}};c.Wd=function(a){this.behavior.Bt=a.smg;this.behavior.Zm=a.ss;this.behavior.Hp=a.se;this.behavior.Ct=a.smd};c.Pf=function(){};c.Rp=function(){if(this.enabled){var a=
this.behavior.rp.Tf(),c=0,e=0,f,g,k,n=0;f=0;for(g=a.length;f<g;f++){a:{k=a[f];for(var m=void 0,l=void 0,h=void 0,m=0,l=k.ra.length;m<l;++m)if(h=k.ra[m],h.behavior instanceof Ve){k=h;break a}k=null}k&&k.enabled&&(c+=a[f].x,e+=a[f].y,++n)}a=this.p.S.qc;g=this.c.pj.Pc;k=f=0;g>=this.behavior.Zm&&g<this.behavior.Hp&&(f=this.behavior.Bt*Math.min(this.c.Di,1),0===this.behavior.Ct&&(f*=1-(g-this.behavior.Zm)/(this.behavior.Hp-this.behavior.Zm)),g=Math.random()*Math.PI*2,k=Math.random()*f,f=Math.cos(g)*k,
k*=Math.sin(g));a.xt(c/n+f);a.yt(e/n+k)}};a.Nd=new function(){}})();function ec(a){this.c=a}(function(){function a(){}var c=ec.prototype;c.Wc=function(a){this.behavior=a;this.c=a.c};c.Wc.prototype.rb=function(){};c.kc=function(a,b){this.type=a;this.behavior=a.behavior;this.p=b;this.c=a.c};var b=c.kc.prototype;b.rb=function(){this.p.ja.solidEnabled=0!==this.ya[0]};b.Pf=function(){};a.prototype.pq=function(){return this.p.ja.solidEnabled};c.fa=new a;c.Nd=new function(){}})();
function cc(){return[gc,fc,hc,ec,Se,Te,Ue,Ve,dc.prototype.fa.tu,Te.prototype.Nd.mz,Ue.prototype.fa.vu,fc.prototype.Nd.qz,Ue.prototype.fa.wu,gc.prototype.fa.Qy,fc.prototype.Nd.tz]};
