// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var t,aa,ba,ea,fa,ga,ha,ja,v,la,ma,na,oa,pa,qa,ra,sa,ta,xa,ya,za,Aa,Ba,Ca,Da,w,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub={},Vb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function c(){this.pe=this.oe=this.te=this.qe=this.Je=this.Ie=this.Tc=this.Sc=0}function b(a,b,c,d){a<b?c<d?(s=a<c?a:c,u=b>d?b:d):(s=a<d?a:d,u=b>c?b:c):c<d?(s=b<c?b:c,u=a>d?a:d):(s=b<d?b:d,u=a>c?a:c)}function d(){this.items=this.Rf=null;this.Fk=0;x&&(this.Rf=new Set);this.ml=[];this.Yh=!0}function e(a){A[B++]=a}function f(){this.Rc=this.gq=this.y=this.u=0}function g(a){this.cb=[];this.$n=this.bo=this.co=this.ao=0;this.ro=null;this.mn(a)}function l(a,
b){this.Mc=a;this.Lc=b;this.cells={}}function n(a,b){this.Mc=a;this.Lc=b;this.cells={}}function m(a,b,c){var d;return D.length?(d=D.pop(),d.Zr=a,d.x=b,d.y=c,d):new aa(a,b,c)}function h(a,b,c){this.Zr=a;this.x=b;this.y=c;this.Fc=new ba}function k(a,b,c){var d;return G.length?(d=G.pop(),d.Zr=a,d.x=b,d.y=c,d):new ea(a,b,c)}function q(a,b,c){this.Zr=a;this.x=b;this.y=c;this.Fc=[];this.Ek=!0;this.Dg=new ba;this.Ol=!1}function r(a,b){return a.$f-b.$f}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ga=function(a){window.console&&window.console.error&&window.console.error(a)};ha=function(a){return"undefined"===typeof a};ja=function(a){return"number"===typeof a};v=function(a){return"string"===typeof a};la=function(a){return 0<a&&0===(a-1&a)};ma=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};na=function(a){return 0>a?-a:a};oa=function(a,b){return a<b?a:b};pa=Math.PI;qa=function(a){return 0<=a?a|0:(a|0)-1};ra=function(a){var b=a|0;return b===a?b:b+1};sa=function(a,b,c,d,f,k,x,g){var h,
e,l,p;a<c?(e=a,h=c):(e=c,h=a);f<x?(p=f,l=x):(p=x,l=f);if(h<p||e>l)return!1;b<d?(e=b,h=d):(e=d,h=b);k<g?(p=k,l=g):(p=g,l=k);if(h<p||e>l)return!1;h=f-a+x-c;e=k-b+g-d;a=c-a;b=d-b;f=x-f;k=g-k;g=na(b*f-k*a);return na(f*e-k*h)>g?!1:na(a*e-b*h)<=g};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.so=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-this.left};a.prototype.height=
function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.ZC=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.$C=function(a,b,c){return!(a.right+b<this.left||a.bottom+
c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.$c=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.Bo=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ta=a;c.prototype.ln=function(a){this.Sc=a.left;this.Tc=a.top;this.Ie=a.right;this.Je=a.top;this.qe=a.right;this.te=a.bottom;this.oe=a.left;this.pe=a.bottom};c.prototype.oy=function(a,b){if(0===b)this.ln(a);else{var c=Math.sin(b),d=Math.cos(b),
f=a.left*c,k=a.top*c,x=a.right*c,c=a.bottom*c,g=a.left*d,h=a.top*d,e=a.right*d,d=a.bottom*d;this.Sc=g-k;this.Tc=h+f;this.Ie=e-k;this.Je=h+x;this.qe=e-c;this.te=d+x;this.oe=g-c;this.pe=d+f}};c.prototype.offset=function(a,b){this.Sc+=a;this.Tc+=b;this.Ie+=a;this.Je+=b;this.qe+=a;this.te+=b;this.oe+=a;this.pe+=b;return this};var s=0,u=0;c.prototype.Jv=function(a){b(this.Sc,this.Ie,this.qe,this.oe);a.left=s;a.right=u;b(this.Tc,this.Je,this.te,this.pe);a.top=s;a.bottom=u};c.prototype.$c=function(a,b){var c=
this.Ie-this.Sc,d=this.Je-this.Tc,f=this.qe-this.Sc,k=this.te-this.Tc,x=a-this.Sc,g=b-this.Tc,h=c*c+d*d,e=c*f+d*k,d=c*x+d*g,l=f*f+k*k,p=f*x+k*g,q=1/(h*l-e*e),c=(l*d-e*p)*q,h=(h*p-e*d)*q;if(0<=c&&0<h&&1>c+h)return!0;c=this.oe-this.Sc;d=this.pe-this.Tc;h=c*c+d*d;e=c*f+d*k;d=c*x+d*g;q=1/(h*l-e*e);c=(l*d-e*p)*q;h=(h*p-e*d)*q;return 0<=c&&0<h&&1>c+h};c.prototype.Uh=function(a,b){if(b)switch(a){case 0:return this.Sc;case 1:return this.Ie;case 2:return this.qe;case 3:return this.oe;case 4:return this.Sc;
default:return this.Sc}else switch(a){case 0:return this.Tc;case 1:return this.Je;case 2:return this.te;case 3:return this.pe;case 4:return this.Tc;default:return this.Tc}};c.prototype.vi=function(){return(this.Sc+this.Ie+this.qe+this.oe)/4};c.prototype.wi=function(){return(this.Tc+this.Je+this.te+this.pe)/4};c.prototype.Bw=function(a){var b=a.vi(),c=a.wi();if(this.$c(b,c))return!0;b=this.vi();c=this.wi();if(a.$c(b,c))return!0;var d,f,k,x,g,h,e,l;for(e=0;4>e;e++)for(l=0;4>l;l++)if(b=this.Uh(e,!0),
c=this.Uh(e,!1),d=this.Uh(e+1,!0),f=this.Uh(e+1,!1),k=a.Uh(l,!0),x=a.Uh(l,!1),g=a.Uh(l+1,!0),h=a.Uh(l+1,!1),sa(b,c,d,f,k,x,g,h))return!0;return!1};xa=c;ya=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};za=function(a,b){var c,d;b=qa(b);if(!(0>b||b>=a.length)){c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};Aa=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};Ba=function(a,b){a.push.apply(a,b)};Ca=function(a,b){var c,d;c=0;for(d=a.length;c<
d;++c)if(a[c]===b)return c;return-1};Da=function(a,b){var c=Ca(a,b);-1!==c&&za(a,c)};w=function(a){return a/(180/pa)};Ea=function(a){return 180/pa*a};Fa=function(a){a%=360;0>a&&(a+=360);return a};Ga=function(a){a%=2*pa;0>a&&(a+=2*pa);return a};Ha=function(a){return Fa(Ea(a))};Ia=function(a){return Ga(w(a))};Ja=function(a,b,c,d){return Math.atan2(d-b,c-a)};Ka=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),f=Math.sin(b),k=Math.cos(b),c=c*f+d*k;return 1<=c?0:-1>=c?pa:Math.acos(c)};La=
function(a,b,c){var d=Math.sin(a),f=Math.cos(a),k=Math.sin(b),x=Math.cos(b);return Math.acos(d*k+f*x)>c?0<f*k-d*x?Ga(a+c):Ga(a-c):Ga(b)};Ma=function(a,b){var c=Math.sin(a),d=Math.cos(a),f=Math.sin(b),k=Math.cos(b);return 0>=d*f-c*k};Na=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Oa=function(a,b){return!a!==!b};Pa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Qa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var p=+new Date;Ra=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-p};var z=!1,C=z=!1,J=!1;"undefined"!==typeof window&&(z=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),z=!z&&/safari/i.test(navigator.userAgent),C=/(iphone|ipod|ipad)/i.test(navigator.userAgent),J=window.c2ejecta);
var x=!z&&!J&&!C&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.mh()?!1:x?this.Rf.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(x)this.Rf.has(a)||(this.Rf.add(a),this.Yh=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.Fk++,this.Yh=!1):(this.items={},this.items[b]=a,this.Fk=1,this.Yh=!1)}};d.prototype.remove=function(a){if(!this.mh())if(x)this.Rf.has(a)&&(this.Rf["delete"](a),
this.Yh=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Fk--,this.Yh=!1)}};d.prototype.clear=function(){this.mh()||(x?this.Rf.clear():(this.items=null,this.Fk=0),this.ml.length=0,this.Yh=!0)};d.prototype.mh=function(){return 0===this.count()};d.prototype.count=function(){return x?this.Rf.size:this.Fk};var A=null,B=0;d.prototype.HE=function(){if(!this.Yh){if(x)this.ml.length=this.Rf.size,A=this.ml,B=0,this.Rf.forEach(e),A=null,B=0;else{var a=this.ml;a.length=
this.Fk;var b,c=0,d=this.items;if(d)for(b in d)d.hasOwnProperty(b)&&(a[c++]=d[b])}this.Yh=!0}};d.prototype.Zf=function(){this.HE();return this.ml};ba=d;new ba;Sa=function(a,b){x?Ta(a,b.Rf):Ua(a,b.Zf())};Ta=function(a,b){var c,d,f,k;d=c=0;for(f=a.length;c<f;++c)k=a[c],b.has(k)||(a[d++]=k);a.length=d};Ua=function(a,b){var c,d,f,k;d=c=0;for(f=a.length;c<f;++c)k=a[c],-1===Ca(b,k)&&(a[d++]=k);a.length=d};f.prototype.add=function(a){this.y=a-this.u;this.gq=this.Rc+this.y;this.u=this.gq-this.Rc-this.y;this.Rc=
this.gq};f.prototype.reset=function(){this.Rc=this.gq=this.y=this.u=0};Va=f;Wa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};g.prototype.mn=function(a){this.Zx=a;this.Cd=a.length/2;this.cb.length=a.length;this.ko=this.lo=-1;this.Mv=0};g.prototype.vj=function(){return!this.Zx.length};g.prototype.Za=function(){for(var a=this.cb,b=a[0],c=b,d=a[1],f=d,k,x,g=1,h=this.Cd;g<h;++g)x=2*g,k=a[x],x=a[x+1],k<b&&(b=k),k>c&&(c=k),x<d&&(d=x),x>f&&(f=x);this.ao=b;this.bo=c;this.co=d;this.$n=f};
g.prototype.ln=function(a,b,c){this.cb.length=8;this.Cd=4;var d=this.cb;d[0]=a.left-b;d[1]=a.top-c;d[2]=a.right-b;d[3]=a.top-c;d[4]=a.right-b;d[5]=a.bottom-c;d[6]=a.left-b;d[7]=a.bottom-c;this.lo=a.right-a.left;this.ko=a.bottom-a.top;this.Za()};g.prototype.hl=function(a,b,c,d,f){this.cb.length=8;this.Cd=4;var k=this.cb;k[0]=a.Sc-b;k[1]=a.Tc-c;k[2]=a.Ie-b;k[3]=a.Je-c;k[4]=a.qe-b;k[5]=a.te-c;k[6]=a.oe-b;k[7]=a.pe-c;this.lo=d;this.ko=f;this.Za()};g.prototype.ny=function(a){this.Cd=a.Cd;Aa(this.cb,a.cb);
this.ao=a.ao;this.co-a.co;this.bo=a.bo;this.$n=a.$n};g.prototype.Xh=function(a,b,c){if(this.lo!==a||this.ko!==b||this.Mv!==c){this.lo=a;this.ko=b;this.Mv=c;var d,f,k,x,g,h=0,e=1,l=this.Zx,p=this.cb;0!==c&&(h=Math.sin(c),e=Math.cos(c));c=0;for(k=this.Cd;c<k;c++)d=2*c,f=d+1,x=l[d]*a,g=l[f]*b,p[d]=x*e-g*h,p[f]=g*e+x*h;this.Za()}};g.prototype.$c=function(a,b){var c=this.cb;if(a===c[0]&&b===c[1])return!0;var d,f,k,x=this.Cd,g=this.ao-110,h=this.co-101,e=this.bo+131,l=this.$n+120,p,q,r=0,A=0;for(d=0;d<
x;d++)f=2*d,k=(d+1)%x*2,p=c[f],f=c[f+1],q=c[k],k=c[k+1],sa(g,h,a,b,p,f,q,k)&&r++,sa(e,l,a,b,p,f,q,k)&&A++;return 1===r%2||1===A%2};g.prototype.rm=function(a,b,c){var d=a.cb,f=this.cb;if(this.$c(d[0]+b,d[1]+c)||a.$c(f[0]-b,f[1]-c))return!0;var k,x,g,h,e,l,p,q,r,A,m,n;k=0;for(h=this.Cd;k<h;k++)for(x=2*k,g=(k+1)%h*2,q=f[x],x=f[x+1],r=f[g],A=f[g+1],g=0,p=a.Cd;g<p;g++)if(e=2*g,l=(g+1)%p*2,m=d[e]+b,e=d[e+1]+c,n=d[l]+b,l=d[l+1]+c,sa(q,x,r,A,m,e,n,l))return!0;return!1};g.prototype.SD=function(a){var b,c,
d;b=0;for(c=this.Cd;b<c;++b)d=2*b,this.cb[d]=2*a-this.cb[d]};g.prototype.iC=function(a){var b,c,d;b=0;for(c=this.Cd;b<c;++b)d=2*b+1,this.cb[d]=2*a-this.cb[d]};g.prototype.dB=function(){var a,b,c,d,f;a=0;for(b=this.Cd;a<b;++a)c=2*a,d=c+1,f=this.cb[c],this.cb[c]=this.cb[d],this.cb[d]=f};Xa=g;l.prototype.ci=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=m(this,a,b),this.cells[a][b]=d):null:c?(d=m(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};l.prototype.ke=function(a){return qa(a/
this.Mc)};l.prototype.le=function(a){return qa(a/this.Lc)};l.prototype.update=function(a,b,c){var d,f,k,x,g;if(b)for(d=b.left,f=b.right;d<=f;++d)for(k=b.top,x=b.bottom;k<=x;++k)if(!c||!c.$c(d,k))if(g=this.ci(d,k,!1))g.remove(a),g.mh()&&(g.Fc.clear(),1E3>D.length&&D.push(g),this.cells[d][k]=null);if(c)for(d=c.left,f=c.right;d<=f;++d)for(k=c.top,x=c.bottom;k<=x;++k)b&&b.$c(d,k)||this.ci(d,k,!0).ls(a)};l.prototype.Pp=function(a,b){var c,d,f,k,x,g;c=this.ke(a.left);f=this.le(a.top);d=this.ke(a.right);
for(x=this.le(a.bottom);c<=d;++c)for(k=f;k<=x;++k)(g=this.ci(c,k,!1))&&g.dump(b)};Ya=l;n.prototype.ci=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=k(this,a,b),this.cells[a][b]=d):null:c?(d=k(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};n.prototype.ke=function(a){return qa(a/this.Mc)};n.prototype.le=function(a){return qa(a/this.Lc)};n.prototype.update=function(a,b,c){var d,f,k,x,g;if(b)for(d=b.left,f=b.right;d<=f;++d)for(k=b.top,x=b.bottom;k<=x;++k)if(!c||!c.$c(d,k))if(g=
this.ci(d,k,!1))g.remove(a),g.mh()&&(g.reset(),1E3>G.length&&G.push(g),this.cells[d][k]=null);if(c)for(d=c.left,f=c.right;d<=f;++d)for(k=c.top,x=c.bottom;k<=x;++k)b&&b.$c(d,k)||this.ci(d,k,!0).ls(a)};n.prototype.Pp=function(a,b,c,d,f){var k,x;a=this.ke(a);b=this.le(b);c=this.ke(c);for(k=this.le(d);a<=c;++a)for(d=b;d<=k;++d)(x=this.ci(a,d,!1))&&x.dump(f)};n.prototype.JD=function(a){var b,c,d,f,k;b=a.left;d=a.top;c=a.right;for(f=a.bottom;b<=c;++b)for(a=d;a<=f;++a)if(k=this.ci(b,a,!1))k.Ek=!1};Za=n;
var D=[];h.prototype.mh=function(){return this.Fc.mh()};h.prototype.ls=function(a){this.Fc.add(a)};h.prototype.remove=function(a){this.Fc.remove(a)};h.prototype.dump=function(a){Ba(a,this.Fc.Zf())};aa=h;var G=[];q.prototype.mh=function(){if(!this.Fc.length)return!0;if(this.Fc.length>this.Dg.count())return!1;this.Nr();return!0};q.prototype.ls=function(a){this.Dg.contains(a)?(this.Dg.remove(a),this.Dg.mh()&&(this.Ol=!1)):this.Fc.length?(this.Fc[this.Fc.length-1].rg()>a.rg()&&(this.Ek=!1),this.Fc.push(a)):
(this.Fc.push(a),this.Ek=!0)};q.prototype.remove=function(a){this.Dg.add(a);this.Ol=!0;30<=this.Dg.count()&&this.Nr()};q.prototype.Nr=function(){this.Ol&&(this.Dg.count()===this.Fc.length?this.reset():(Sa(this.Fc,this.Dg),this.Dg.clear(),this.Ol=!1))};q.prototype.IB=function(){this.Ek||(this.Fc.sort(r),this.Ek=!0)};q.prototype.reset=function(){this.Fc.length=0;this.Ek=!0;this.Dg.clear();this.Ol=!1};q.prototype.dump=function(a){this.Nr();this.IB();this.Fc.length&&a.push(this.Fc)};ea=q;var E="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
$a=function(a){return 0>=a||11<=a?"source-over":E[a-1]};ab=function(a,b,c){if(c)switch(a.gd=c.ONE,a.bd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.gd=c.ONE;a.bd=c.ONE;break;case 3:a.gd=c.ONE;a.bd=c.ZERO;break;case 4:a.gd=c.ONE_MINUS_DST_ALPHA;a.bd=c.ONE;break;case 5:a.gd=c.DST_ALPHA;a.bd=c.ZERO;break;case 6:a.gd=c.ZERO;a.bd=c.SRC_ALPHA;break;case 7:a.gd=c.ONE_MINUS_DST_ALPHA;a.bd=c.ZERO;break;case 8:a.gd=c.ZERO;a.bd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.gd=c.DST_ALPHA;a.bd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.gd=
c.ONE_MINUS_DST_ALPHA,a.bd=c.SRC_ALPHA}};bb=function(a){return Math.round(1E6*a)/1E6};cb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};db=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||cb(a.tagName,"canvas")?!0:!1}})();var Wb="undefined"!==typeof Float32Array?Float32Array:Array;function Xb(a){var c=new Wb(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function Yb(a){var c=new Wb(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function Zb(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function $b(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function ac(a,c,b,d){d||(d=Yb());var e,f,g,l,n,m,h,k,q=a[0],r=a[1];a=a[2];f=b[0];g=b[1];e=b[2];b=c[1];m=c[2];q===c[0]&&r===b&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],m=r-c[1],h=a-c[2],k=1/Math.sqrt(b*b+m*m+h*h),b*=k,m*=k,h*=k,c=g*h-e*m,e=e*b-f*h,f=f*m-g*b,(k=Math.sqrt(c*c+e*e+f*f))?(k=1/k,c*=k,e*=k,f*=k):f=e=c=0,g=m*f-h*e,l=h*c-b*f,n=b*e-m*c,(k=Math.sqrt(g*g+l*l+n*n))?(k=1/k,g*=k,l*=k,n*=k):n=l=g=0,
d[0]=c,d[1]=g,d[2]=b,d[3]=0,d[4]=e,d[5]=l,d[6]=m,d[7]=0,d[8]=f,d[9]=n,d[10]=h,d[11]=0,d[12]=-(c*q+e*r+f*a),d[13]=-(g*q+l*r+n*a),d[14]=-(b*q+m*r+h*a),d[15]=1)}
(function(){function a(a){this.gi=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Nv=Xb([0,0,100]);this.Yw=Xb([0,0,0]);this.Oy=Xb([0,1,0]);this.zu=Xb([1,1,1]);this.aw=!0;this.kt=Yb();this.cf=Yb();this.Ow=Yb();this.yr=Yb();this.U=a;this.xw()}function c(a,b,c){this.U=a;this.nn=b;this.name=c;this.Ye=a.getAttribLocation(b,"aPos");this.mi=a.getAttribLocation(b,"aTex");this.Ww=a.getUniformLocation(b,"matP");this.rp=a.getUniformLocation(b,"matMV");this.Lk=
a.getUniformLocation(b,"opacity");this.Xw=a.getUniformLocation(b,"samplerFront");this.Fm=a.getUniformLocation(b,"samplerBack");this.Ej=a.getUniformLocation(b,"destStart");this.Dj=a.getUniformLocation(b,"destEnd");this.Qs=a.getUniformLocation(b,"seconds");this.Ps=a.getUniformLocation(b,"pixelWidth");this.Os=a.getUniformLocation(b,"pixelHeight");this.Em=a.getUniformLocation(b,"layerScale");this.Dm=a.getUniformLocation(b,"layerAngle");this.Hm=a.getUniformLocation(b,"viewOrigin");this.Gm=a.getUniformLocation(b,
"scrollPos");this.VC=!!(this.Ps||this.Os||this.Qs||this.Fm||this.Ej||this.Dj||this.Em||this.Dm||this.Hm||this.Gm);this.ix=this.jx=-999;this.tp=1;this.bx=this.ax=0;this.gx=this.$w=this.Zw=1;this.lx=this.kx=this.nx=this.mx=this.cx=0;this.Bs=[];this.hx=Yb();this.Lk&&a.uniform1f(this.Lk,1);this.Xw&&a.uniform1i(this.Xw,0);this.Fm&&a.uniform1i(this.Fm,1);this.Ej&&a.uniform2f(this.Ej,0,0);this.Dj&&a.uniform2f(this.Dj,1,1);this.Em&&a.uniform1f(this.Em,1);this.Dm&&a.uniform1f(this.Dm,0);this.Hm&&a.uniform2f(this.Hm,
0,0);this.Gm&&a.uniform2f(this.Gm,0,0);this.qj=!1}function b(a,b){this.type=a;this.da=b;this.U=b.U;this.ve=this.He=this.Ox=0;this.bb=this.Uf=null;this.qy=[]}a.prototype.xw=function(){var a=this.U,b;this.Pw=1;this.zj=this.li=null;this.wo=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Qw=a.ONE;this.Nw=a.ONE_MINUS_SRC_ALPHA;this.Dt=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Dt);
this.Bn=Array(4);this.sn=Array(4);for(b=0;4>b;b++)this.Bn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Bn[b]),this.sn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.sn[b]);this.Yg=0;this.XC=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.XC);this.wq=new Float32Array(16E3);this.iq=new Float32Array(16E3);this.cE=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,
c,a.STATIC_DRAW);this.Et=this.Le=0;this.uc=[];b=this.xr({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.uc.push(b);b=this.xr({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.uc.push(b);for(var e in bc)bc.hasOwnProperty(e)&&this.uc.push(this.xr(bc[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.jg=[];this.vf=0;this.td=!1;this.Xv=this.zm=-1;this.Xl=null;this.gC=a.createFramebuffer();this.ey=null;this.Oi=Xb([0,0,0]);this.Bx=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Bx&&
(this.Bx=2048);this.Ig(0)};c.prototype.su=function(a){var b=this.hx;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])Zb(a,this.hx),this.U.uniformMatrix4fv(this.rp,!1,a)};a.prototype.xr=function(a,b,d){var e=this.U,m=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(m,a.src);e.compileShader(m);if(!e.getShaderParameter(m,e.COMPILE_STATUS))return e.deleteShader(m),
null;var h=e.createShader(e.VERTEX_SHADER);e.shaderSource(h,b);e.compileShader(h);if(!e.getShaderParameter(h,e.COMPILE_STATUS))return e.deleteShader(m),e.deleteShader(h),null;b=e.createProgram();e.attachShader(b,m);e.attachShader(b,h);e.linkProgram(b);if(!e.getProgramParameter(b,e.LINK_STATUS))return e.deleteShader(m),e.deleteShader(h),e.deleteProgram(b),null;e.useProgram(b);e.deleteShader(m);e.deleteShader(h);d=new c(e,b,d);d.Ir=a.Ir||0;d.Jr=a.Jr||0;d.Vv=!!a.Vv;d.Bv=!!a.Bv;d.va=a.va||[];a=0;for(m=
d.va.length;a<m;a++)d.va[a][1]=e.getUniformLocation(b,d.va[a][0]),d.Bs.push(0),e.uniform1f(d.va[a][1],0);return d};a.prototype.Yr=function(a){var b,c;b=0;for(c=this.uc.length;b<c;b++)if(this.uc[b].name===a)return b;return-1};a.prototype.Yx=function(a,b,c){var d=this.cf,e=this.kt,h=[0,0,0,0,0,0,0,0];h[0]=d[0]*a+d[4]*b+d[12];h[1]=d[1]*a+d[5]*b+d[13];h[2]=d[2]*a+d[6]*b+d[14];h[3]=d[3]*a+d[7]*b+d[15];h[4]=e[0]*h[0]+e[4]*h[1]+e[8]*h[2]+e[12]*h[3];h[5]=e[1]*h[0]+e[5]*h[1]+e[9]*h[2]+e[13]*h[3];h[6]=e[2]*
h[0]+e[6]*h[1]+e[10]*h[2]+e[14]*h[3];h[7]=-h[2];0!==h[7]&&(h[7]=1/h[7],h[4]*=h[7],h[5]*=h[7],h[6]*=h[7],c[0]=(.5*h[4]+.5)*this.width,c[1]=(.5*h[5]+.5)*this.height)};a.prototype.gl=function(a,b,c){if(this.width!==a||this.height!==b||c){this.eh();this.width=a;this.height=b;this.U.viewport(0,0,a,b);b=a/b;var d=this.kt,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=Yb());var h=b-a,k=e-c;d[0]=2/h;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/k;d[6]=0;d[7]=0;d[8]=(b+a)/h;d[9]=(e+c)/k;d[10]=-1001/999;d[11]=-1;
d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;ac(this.Nv,this.Yw,this.Oy,this.cf);a=[0,0];b=[0,0];this.Yx(0,0,a);this.Yx(1,1,b);this.zu[0]=1/(b[0]-a[0]);this.zu[1]=-1/(b[1]-a[1]);a=0;for(b=this.uc.length;a<b;a++)c=this.uc[a],c.qj=!1,c.Ww&&(this.U.useProgram(c.nn),this.U.uniformMatrix4fv(c.Ww,!1,this.kt));this.U.useProgram(this.uc[this.zm].nn);this.U.bindTexture(this.U.TEXTURE_2D,null);this.U.activeTexture(this.U.TEXTURE1);this.U.bindTexture(this.U.TEXTURE_2D,null);this.U.activeTexture(this.U.TEXTURE0);this.zj=
this.li=null}};a.prototype.Fi=function(){ac(this.Nv,this.Yw,this.Oy,this.cf);$b(this.cf,this.zu)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Oi[0]=a;this.Oi[1]=b;this.Oi[2]=0;var c=this.cf,d=this.Oi,e=d[0],h=d[1],d=d[2];c[12]=c[0]*e+c[4]*h+c[8]*d+c[12];c[13]=c[1]*e+c[5]*h+c[9]*d+c[13];c[14]=c[2]*e+c[6]*h+c[10]*d+c[14];c[15]=c[3]*e+c[7]*h+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Oi[0]=a,this.Oi[1]=b,this.Oi[2]=1,$b(this.cf,this.Oi)};a.prototype.fy=function(a){if(0!==
a){var b=this.cf,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],h=b[1],k=b[2],q=b[3],r=b[4],s=b[5],u=b[6],p=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+r*d;c[1]=h*a+s*d;c[2]=k*a+u*d;c[3]=q*a+p*d;c[4]=e*-d+r*a;c[5]=h*-d+s*a;c[6]=k*-d+u*a;c[7]=q*-d+p*a}};a.prototype.Qi=function(){for(var a=!1,b=0;16>b;b++)if(this.Ow[b]!==this.cf[b]){a=!0;break}a&&(a=this.jf(),a.type=5,a.bb?Zb(this.cf,a.bb):a.bb=Yb(this.cf),Zb(this.cf,this.Ow),this.td=
!1)};b.prototype.qB=function(){this.U.bindTexture(this.U.TEXTURE_2D,this.Uf)};b.prototype.rB=function(){var a=this.U;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Uf);a.activeTexture(a.TEXTURE0)};b.prototype.nB=function(){var a=this.Ox,b=this.da;b.wo=a;b=b.Xl;b.Lk&&b.tp!==a&&(b.tp=a,this.U.uniform1f(b.Lk,a))};b.prototype.kB=function(){this.U.drawElements(this.U.TRIANGLES,this.ve,this.U.UNSIGNED_SHORT,2*this.He)};b.prototype.mB=function(){this.U.blendFunc(this.He,this.ve)};b.prototype.sB=
function(){var a,b,c,d=this.da.uc,e=this.da.Xv;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.rp?(c.su(this.bb),c.qj=!0):c.qj=!1;Zb(this.bb,this.da.yr)};b.prototype.lB=function(){var a=this.U,b=this.da;this.Uf?(b.zj===this.Uf&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.zj=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.gC),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Uf,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.fB=function(){var a=this.U;0===this.He?(a.clearColor(this.bb[0],this.bb[1],this.bb[2],this.bb[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.bb[0],this.bb[1],this.bb[2],this.bb[3]),a.clearColor(0,0,0,0),a.clear(this.U.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};b.prototype.jB=function(){var a=this.U,b=this.da,c=b.uc[1];a.useProgram(c.nn);!c.qj&&c.rp&&(c.su(b.yr),c.qj=!0);a.enableVertexAttribArray(c.Ye);
a.bindBuffer(a.ARRAY_BUFFER,b.Dt);a.vertexAttribPointer(c.Ye,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.He/4,this.ve);c=b.Xl;a.useProgram(c.nn);0<=c.Ye&&(a.enableVertexAttribArray(c.Ye),a.bindBuffer(a.ARRAY_BUFFER,b.Bn[b.Yg]),a.vertexAttribPointer(c.Ye,2,a.FLOAT,!1,0,0));0<=c.mi&&(a.enableVertexAttribArray(c.mi),a.bindBuffer(a.ARRAY_BUFFER,b.sn[b.Yg]),a.vertexAttribPointer(c.mi,2,a.FLOAT,!1,0,0))};b.prototype.oB=function(){var a=this.U,b=this.da,c=b.uc[this.He];b.Xv=this.He;b.Xl=c;a.useProgram(c.nn);
!c.qj&&c.rp&&(c.su(b.yr),c.qj=!0);c.Lk&&c.tp!==b.wo&&(c.tp=b.wo,a.uniform1f(c.Lk,b.wo));0<=c.Ye&&(a.enableVertexAttribArray(c.Ye),a.bindBuffer(a.ARRAY_BUFFER,b.Bn[b.Yg]),a.vertexAttribPointer(c.Ye,2,a.FLOAT,!1,0,0));0<=c.mi&&(a.enableVertexAttribArray(c.mi),a.bindBuffer(a.ARRAY_BUFFER,b.sn[b.Yg]),a.vertexAttribPointer(c.mi,2,a.FLOAT,!1,0,0))};b.prototype.pB=function(){var a,b,c=this.da.Xl,d=this.U;a=this.bb;c.Fm&&this.da.zj!==this.Uf&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Uf),
this.da.zj=this.Uf,d.activeTexture(d.TEXTURE0));var e=a[0];c.Ps&&e!==c.jx&&(c.jx=e,d.uniform1f(c.Ps,e));e=a[1];c.Os&&e!==c.ix&&(c.ix=e,d.uniform1f(c.Os,e));e=a[2];b=a[3];!c.Ej||e===c.ax&&b===c.bx||(c.ax=e,c.bx=b,d.uniform2f(c.Ej,e,b));e=a[4];b=a[5];!c.Dj||e===c.Zw&&b===c.$w||(c.Zw=e,c.$w=e,d.uniform2f(c.Dj,e,b));e=a[6];c.Em&&e!==c.gx&&(c.gx=e,d.uniform1f(c.Em,e));e=a[7];c.Dm&&e!==c.cx&&(c.cx=e,d.uniform1f(c.Dm,e));e=a[8];b=a[9];!c.Hm||e===c.mx&&b===c.nx||(c.mx=e,c.nx=b,d.uniform2f(c.Hm,e,b));e=a[10];
b=a[11];!c.Gm||e===c.kx&&b===c.lx||(c.kx=e,c.lx=b,d.uniform2f(c.Gm,e,b));c.Qs&&d.uniform1f(c.Qs,Ra()/1E3);if(c.va.length)for(a=0,b=c.va.length;a<b;a++)e=this.qy[a],e!==c.Bs[a]&&(c.Bs[a]=e,d.uniform1f(c.va[a][1],e))};a.prototype.jf=function(){this.vf===this.jg.length&&this.jg.push(new b(0,this));return this.jg[this.vf++]};a.prototype.eh=function(){if(0!==this.vf&&!this.U.isContextLost()){var a=this.U;0<this.Et&&(a.bindBuffer(a.ARRAY_BUFFER,this.Dt),a.bufferData(a.ARRAY_BUFFER,this.cE.subarray(0,this.Et),
a.STREAM_DRAW),b&&0<=b.Ye&&"<point>"===b.name&&a.vertexAttribPointer(b.Ye,4,a.FLOAT,!1,0,0));if(0<this.Le){var b=this.Xl;a.bindBuffer(a.ARRAY_BUFFER,this.Bn[this.Yg]);a.bufferData(a.ARRAY_BUFFER,this.wq.subarray(0,this.Le),a.STREAM_DRAW);b&&0<=b.Ye&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ye,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.sn[this.Yg]);a.bufferData(a.ARRAY_BUFFER,this.iq.subarray(0,this.Le),a.STREAM_DRAW);b&&0<=b.mi&&"<point>"!==b.name&&a.vertexAttribPointer(b.mi,2,a.FLOAT,
!1,0,0)}for(var c,a=0,b=this.vf;a<b;a++)switch(c=this.jg[a],c.type){case 1:c.kB();break;case 2:c.qB();break;case 3:c.nB();break;case 4:c.mB();break;case 5:c.sB();break;case 6:c.lB();break;case 7:c.fB();break;case 8:c.jB();break;case 9:c.oB();break;case 10:c.pB();break;case 11:c.rB()}this.Et=this.Le=this.vf=0;this.td=!1;this.Yg++;4<=this.Yg&&(this.Yg=0)}};a.prototype.el=function(a){if(a!==this.Pw){var b=this.jf();b.type=3;this.Pw=b.Ox=a;this.td=!1}};a.prototype.Fe=function(a){if(a!==this.li){var b=
this.jf();b.type=2;this.li=b.Uf=a;this.td=!1}};a.prototype.Hi=function(a,b){if(a!==this.Qw||b!==this.Nw){var c=this.jf();c.type=4;c.He=a;c.ve=b;this.Qw=a;this.Nw=b;this.td=!1}};a.prototype.ky=function(){this.Hi(this.U.ONE,this.U.ONE_MINUS_SRC_ALPHA)};a.prototype.Op=function(a,b,c,d,e,h,k,q){15992<=this.Le&&this.eh();var r=this.Le,s=this.wq,u=this.iq;if(this.td)this.jg[this.vf-1].ve+=6;else{var p=this.jf();p.type=1;p.He=r/4*3;p.ve=6;this.td=!0}s[r]=a;u[r++]=0;s[r]=b;u[r++]=0;s[r]=c;u[r++]=1;s[r]=d;
u[r++]=0;s[r]=e;u[r++]=1;s[r]=h;u[r++]=1;s[r]=k;u[r++]=0;s[r]=q;u[r++]=1;this.Le=r};a.prototype.Ci=function(a,b,c,d,e,h,k,q,r){15992<=this.Le&&this.eh();var s=this.Le,u=this.wq,p=this.iq;if(this.td)this.jg[this.vf-1].ve+=6;else{var z=this.jf();z.type=1;z.He=s/4*3;z.ve=6;this.td=!0}var z=r.left,C=r.top,J=r.right;r=r.bottom;u[s]=a;p[s++]=z;u[s]=b;p[s++]=C;u[s]=c;p[s++]=J;u[s]=d;p[s++]=C;u[s]=e;p[s++]=J;u[s]=h;p[s++]=r;u[s]=k;p[s++]=z;u[s]=q;p[s++]=r;this.Le=s};a.prototype.kE=function(a,b,c,d,e,h,k,
q,r,s,u,p,z,C,J,x){15992<=this.Le&&this.eh();var A=this.Le,B=this.wq,D=this.iq;if(this.td)this.jg[this.vf-1].ve+=6;else{var G=this.jf();G.type=1;G.He=A/4*3;G.ve=6;this.td=!0}B[A]=a;D[A++]=r;B[A]=b;D[A++]=s;B[A]=c;D[A++]=u;B[A]=d;D[A++]=p;B[A]=e;D[A++]=z;B[A]=h;D[A++]=C;B[A]=k;D[A++]=J;B[A]=q;D[A++]=x;this.Le=A};a.prototype.Ig=function(a){if(this.zm!==a){if(!this.uc[a]){if(0===this.zm)return;a=0}var b=this.jf();b.type=9;this.zm=b.He=a;this.td=!1}};a.prototype.dn=function(a){a=this.uc[a];return!(!a.Ej&&
!a.Dj)};a.prototype.Ht=function(a){a=this.uc[a];return!!(a.Ej||a.Dj||a.Vv)};a.prototype.hE=function(a){a=this.uc[a];return 0!==a.Ir||0!==a.Jr};a.prototype.xC=function(a){return this.uc[a].Ir};a.prototype.yC=function(a){return this.uc[a].Jr};a.prototype.zC=function(a,b){return this.uc[a].va[b][2]};a.prototype.Np=function(a){return this.uc[a].Bv};a.prototype.fl=function(a,b,c,d,e,h,k,q,r,s,u,p,z,C){var J=this.uc[this.zm],x,A;if(J.VC||C.length){x=this.jf();x.type=10;x.bb?Zb(this.cf,x.bb):x.bb=Yb();A=
x.bb;A[0]=b;A[1]=c;A[2]=d;A[3]=e;A[4]=h;A[5]=k;A[6]=q;A[7]=r;A[8]=s;A[9]=u;A[10]=p;A[11]=z;x.Uf=J.Fm?a:null;if(C.length)for(c=x.qy,c.length=C.length,a=0,b=C.length;a<b;a++)c[a]=C[a];this.td=!1}};a.prototype.clear=function(a,b,c,d){var e=this.jf();e.type=7;e.He=0;e.bb||(e.bb=Yb());e.bb[0]=a;e.bb[1]=b;e.bb[2]=c;e.bb[3]=d;this.td=!1};a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.jf();e.type=7;e.He=1;e.bb||(e.bb=Yb());e.bb[0]=a;e.bb[1]=b;e.bb[2]=c;e.bb[3]=d;this.td=!1}};a.prototype.gE=
function(){this.eh();this.U.flush()};var d=[],e={};a.prototype.XA=function(){d.length=0;e={}};a.prototype.Uw=function(a,b,c){var n;n=!1;b=!!b;var m=a.src+","+n+","+b+(n?",undefined":""),h=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(m))return h=e[m],h.jo++,h;this.eh();var k=this.U,q=la(a.width)&&la(a.height),h=k.createTexture();k.bindTexture(k.TEXTURE_2D,h);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=k.RGBA,s=k.RGBA,u=k.UNSIGNED_BYTE;if(c&&!this.gi)switch(c){case 1:s=r=k.RGB;
break;case 2:u=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:s=r=k.RGB,u=k.UNSIGNED_SHORT_5_6_5}if(!q&&n){c=document.createElement("canvas");c.width=ma(a.width);c.height=ma(a.height);var p=c.getContext("2d");p.webkitImageSmoothingEnabled=b;p.mozImageSmoothingEnabled=b;p.msImageSmoothingEnabled=b;p.imageSmoothingEnabled=b;p.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);k.texImage2D(k.TEXTURE_2D,0,r,s,u,c)}else k.texImage2D(k.TEXTURE_2D,0,r,s,u,a);n?(k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));b?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),q&&this.aw?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,
k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.li=null;h.Tl=a.width;h.Sl=a.height;h.jo=1;h.Lv=m;d.push(h);return e[m]=h};a.prototype.Xg=function(a,b,c,e,m){this.eh();var h=this.U;this.gi&&(e=!1);var k=h.createTexture();h.bindTexture(h.TEXTURE_2D,k);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,a,b,0,h.RGBA,e?h.UNSIGNED_SHORT_4_4_4_4:h.UNSIGNED_BYTE,null);m?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,
h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,c?h.LINEAR:h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,c?h.LINEAR:h.NEAREST);h.bindTexture(h.TEXTURE_2D,null);this.li=null;k.Tl=a;k.Sl=b;d.push(k);return k};a.prototype.NE=function(a,b){var c;this.eh();var d=this.U;this.gi&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.li=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.jo&&1<a.jo?a.jo--:(this.eh(),a===this.li&&(this.U.bindTexture(this.U.TEXTURE_2D,null),this.li=null),a===this.zj&&(this.U.activeTexture(this.U.TEXTURE1),this.U.bindTexture(this.U.TEXTURE_2D,null),this.U.activeTexture(this.U.TEXTURE0),
this.zj=null),Da(d,a),"undefined"!==typeof a.Lv&&delete e[a.Lv],this.U.deleteTexture(a)))};a.prototype.Hg=function(a){if(a!==this.ey){var b=this.jf();b.type=6;this.ey=b.Uf=a;this.td=!1}};eb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Ef=(this.Yo=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.lh=!!a.dc;this.tm="undefined"!==typeof window.AppMobi||this.lh;this.We=!!window.c2cocoonjs;this.Ff=!!window.c2ejecta;this.We&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Ff&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Ub=this.lh||this.We||this.Ff;this.gi=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.Gw=/tizen/i.test(navigator.userAgent);this.Dw=/android/i.test(navigator.userAgent)&&!this.Gw&&!this.gi;this.xs=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.gi;this.Lw=/ipad/i.test(navigator.userAgent);this.Kw=this.xs||this.Lw||this.Ff;this.iD=this.xs&&/os\s6/i.test(navigator.userAgent);this.Xo=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.gi;this.Cw=/amazonwebappplatform/i.test(navigator.userAgent);this.dD=/firefox/i.test(navigator.userAgent);this.fD=/safari/i.test(navigator.userAgent)&&!this.Xo&&!this.gi;this.ji="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.Iw=!("undefined"===
typeof window.c2isWindows8||!window.c2isWindows8);this.hD=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Ck=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.vs=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Hw=this.Iw||this.hD||this.vs;this.bD=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Ew=this.Dw&&!this.Xo&&!this.Yo&&!this.dD&&!this.Cw&&!this.Ub;this.devicePixelRatio=
1;this.hi=this.Ef||this.Yo||this.tm||this.We||this.Dw||this.Kw||this.Ck||this.vs||this.bD||this.Gw||this.Ff;this.hi||(this.hi=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.ji||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.ji=!0);this.cD="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.Ov=document.getElementById("c2canvasdiv");
this.$a=this.da=this.U=null;this.Rr="";this.Go=!1;this.Ix=this.Jx=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.lh&&(window.c2runtime=this);this.ji&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.Ew&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=a.width;this.height=a.height;this.Ja=this.width;this.Ia=this.height;this.uo=this.width;this.to=this.height;this.Bm=window.innerWidth;this.Am=window.innerHeight;this.jC=!1;this.mb=!0;this.vm=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.V=[];this.$b=[];this.Is={};this.Hf=[];this.Hr={};this.fh=[];this.ol=[];this.tq=[];this.LA=[];this.MA=[];this.Mw=this.xy=null;this.lj={};this.ps=this.fi=!1;this.nh=0;this.rs=!1;this.wf=[];this.qh=this.vd=
this.np=this.Xt="";this.rn=this.uy=!1;this.ur=this.Im=this.dh=this.ya=0;this.Ni=1;this.wj=new Va;this.xq=new Va;this.hp=0;this.Dx=!0;this.Jp=this.Lo=this.Do=this.Mi=this.Bj=this.Pr=0;this.nr=null;this.Ao=[];this.Gr=[];this.Co=-1;this.Rs=[[]];this.pu=this.sp=0;this.Jt(null);this.dm=this.Fx=this.Wm=0;this.fq=[];this.oq=this.Rp=-1;this.cp=!0;this.qp=0;this.um=!1;this.yE=0;this.Rl=null;this.TC=!1;this.Ds=0;this.Xe=this.$r=this.Lt=!1;this.Hx=new ba;this.qt=new ba;this.tt=new ba;this.cy=[];this.Sf=new Xa([]);
this.gu=new Xa([]);this.nk=[];this.Wo={};this.qk={};this.mk={};this.nl={};this.Iv={};this.Tw=this.lp=this.Xd=this.xe=this.Sw=this.kp=this.Cb=null;this.ll=this.ws=!1;this.Sr=[null,null];this.pj=0;this.yi={};this.aq=this.Kk=null;this.Ip=[];this.lE()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,k){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=k;e.onsuccess=function(d){d=d.target.result;d.onerror=k;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,
data:b}).onsuccess=c}}function f(a,b,c){var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=d;k.onerror=c;k.onsuccess=function(d){d=d.target.result;d.onerror=c;var k=d.transaction(["saves"]).objectStore("saves").get(a);k.onsuccess=function(){k.result?b(k.result.data):b(null)}}}function g(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function l(a){var b,c=
{};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!==typeof a[b].kg||(c[b]=a[b]);return c}b.prototype.lE=function(){var a=this,b;b=this.Ck?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.Iw||this.Ck||this.vs)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.Ub&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(k){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(e){}if("overrideMimeType"in
b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(h){}this.Ck?b.onreadystatechange=function(){4===b.readyState&&a.pp(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.pp(b.response);else if(a.Ff){var c=b.responseText,c=c.substr(c.indexOf("{"));a.pp(JSON.parse(c))}else a.pp(JSON.parse(b.responseText))},b.onerror=function(a){ga("Error requesting "+c+":");ga(a)});b.send()};b.prototype.YC=function(){var b=this,d,k,e,h,f,p,g,q,r;this.devicePixelRatio=(this.uj=(!this.Ub||this.Ff)&&
this.JE&&!this.Ew)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Vc();k=!(!this.jC&&(!this.dr||this.ji||this.Hw||this.Ck||this.Yo||this.Ef||this.Cw));0<this.Td&&this.setSize(a(),c(),!0);try{this.GB&&(this.We||this.Ff||!this.Ub)&&(d={alpha:k,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.U=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(l){}if(this.U){this.Ub||(this.Oc=document.createElement("canvas"),
jQuery(this.Oc).appendTo(this.canvas.parentNode),this.Oc.oncontextmenu=function(){return!1},this.Oc.onselectstart=function(){return!1},this.Oc.width=this.uo,this.Oc.height=this.to,jQuery(this.Oc).css({width:this.uo+"px",height:this.to+"px"}),this.Ux(),this.Ct=this.Oc.getContext("2d"));this.da=new eb(this.U,this.hi);this.da.gl(this.canvas.width,this.canvas.height);this.da.aw=0!==this.tB;this.$a=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.WD();fa("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.da.xw();b.da.gl(b.da.width,b.da.height,!0);b.xe=null;b.Xd=null;b.Sr[0]=null;b.Sr[1]=null;b.XD();b.mb=!0;fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(k=this.V.length;d<k;d++)for(f=this.V[d],e=0,h=f.qa.length;e<h;e++)g=f.qa[e],g.Qc=this.da.Yr(g.id),this.ll=this.ll||this.da.dn(g.Qc);d=0;for(k=this.Hf.length;d<k;d++){q=this.Hf[d];e=0;for(h=q.qa.length;e<h;e++)g=q.qa[e],
g.Qc=this.da.Yr(g.id);e=0;for(h=q.Ba.length;e<h;e++)for(r=q.Ba[e],f=0,p=r.qa.length;f<p;f++)g=r.qa[f],g.Qc=this.da.Yr(g.id),this.ll=this.ll||this.da.dn(g.Qc)}}else{if(0<this.Td&&this.lh){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.$a=AppMobi.canvas.getContext("2d");try{this.$a.samplingMode=this.ab?"smooth":"sharp",this.$a.globalScale=1,this.$a.HTML5CompatibilityMode=!0,this.$a.imageSmoothingEnabled=this.ab}catch(m){}0!==this.width&&
0!==this.height&&(this.$a.width=this.width,this.$a.height=this.height)}this.$a||(d=this.We?{antialias:!!this.ab,alpha:k}:{alpha:k},this.$a=this.canvas.getContext("2d",d),this.$a.webkitImageSmoothingEnabled=this.ab,this.$a.mozImageSmoothingEnabled=this.ab,this.$a.msImageSmoothingEnabled=this.ab,this.$a.imageSmoothingEnabled=this.ab);this.Ct=this.Oc=null}this.lq=function(){b.Vf(!1)};window==window.top||this.Ub||this.Hw||this.Ck||(document.addEventListener("mousedown",function(){window.focus()},!0),
document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.We&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.np="__c2_continuouspreview",this.rn=!0),this.bE&&!this.hi&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.Ub||(d=function(a){if(db(a)&&document.activeElement&&
document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.Td&&this.uj&&1<this.devicePixelRatio&&this.setSize(this.gc,this.fc,!0);this.Ky();this.QC();this.go();this.ka={}};
b.prototype.setSize=function(a,b,c){var d=0,k=0,e=0,h=0,h=0,f=this.iD&&this.fD&&!navigator.standalone&&!this.Ub&&!this.Ef;f&&(b+=60);if(this.Bm!==a||this.Am!==b||c){this.Bm=a;this.Am=b;var p=this.Td,g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.um)&&!this.Ef;if(g||0!==this.Td||c)g&&0<this.pj&&(p=this.pj),c=this.devicePixelRatio,4<=p?(e=this.gc/this.fc,a/b>e?(e*=b,5===p?(h=e*c/this.gc,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),
e=this.gc*h/c,h=this.fc*h/c,d=(a-e)/2,k=(b-h)/2,a=e,b=h):(d=(a-e)/2,a=e)):(h=a/e,5===p?(h=h*c/this.fc,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),e=this.gc*h/c,h=this.fc*h/c,d=(a-e)/2,k=(b-h)/2,a=e):k=(b-h)/2,b=h),g&&!this.ji&&(k=d=0)):this.ji&&this.um&&0===this.hw&&(d=Math.floor((a-this.gc)/2),k=Math.floor((b-this.fc)/2),a=this.gc,b=this.fc),2>p&&(this.Ql=c),this.uj&&this.Lw&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.uo=Math.round(a),this.to=Math.round(b),this.width=Math.round(a*c),this.height=
Math.round(b*c),this.mb=!0,this.Zy?(this.Ja=this.width,this.Ia=this.height,this.Ve=!0):this.width<this.gc&&this.height<this.fc||1===p?(this.Ja=this.width,this.Ia=this.height,this.Ve=!0):(this.Ja=this.gc,this.Ia=this.fc,this.Ve=!1,2===p?(e=this.gc/this.fc,p=this.Bm/this.Am,p<e?this.Ja=this.Ia*p:p>e&&(this.Ia=this.Ja/p)):3===p&&(e=this.gc/this.fc,p=this.Bm/this.Am,p>e?this.Ja=this.Ia*p:p<e&&(this.Ia=this.Ja/p))),this.Ov&&!this.Ub&&(jQuery(this.Ov).css({width:Math.round(a)+"px",height:Math.round(b)+
"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.Ff?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.uj&&!this.Ub&&jQuery(this.canvas).css({width:Math.round(a)+
"px",height:Math.round(b)+"px"})),this.Oc&&(this.Oc.width=Math.round(a),this.Oc.height=Math.round(b),jQuery(this.Oc).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.da&&this.da.gl(Math.round(a*c),Math.round(b*c)),this.lh&&this.$a&&(this.$a.width=Math.round(a),this.$a.height=Math.round(b)),this.$a&&(this.$a.webkitImageSmoothingEnabled=this.ab,this.$a.mozImageSmoothingEnabled=this.ab,this.$a.msImageSmoothingEnabled=this.ab,this.$a.imageSmoothingEnabled=this.ab),this.Ky(),this.Ub||!f&&
!this.xs||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.Ky=function(){if(this.PA&&0!==this.Bt){var a="portrait";2===this.Bt&&(a="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};b.prototype.WD=function(){this.da.XA();this.ws=
!0;var a,b,c;a=0;for(b=this.V.length;a<b;a++)c=this.V[a],c.yt&&c.yt()};b.prototype.XD=function(){this.ws=!1;var a,b,c;a=0;for(b=this.V.length;a<b;a++)c=this.V[a],c.zt&&c.zt()};b.prototype.Ux=function(){if(!this.Ub){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.um)&&!this.Ef?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Oc).css(a)}};var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||
window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var b;if(a&&!this.vm)for(fa("[Construct 2] Suspending"),this.vm=!0,-1!==this.Rp&&n&&n(this.Rp),-1!==this.oq&&clearTimeout(this.oq),a=0,b=this.fq.length;a<b;a++)this.fq[a](!0);else if(!a&&this.vm){fa("[Construct 2] Resuming");this.vm=!1;this.hp=Ra();this.Bj=Ra();a=this.Im=this.Lo=0;for(b=this.fq.length;a<b;a++)this.fq[a](!1);this.Vf(!1)}};b.prototype.Qh=function(a){return this.Ip[a]};
b.prototype.pp=function(a){a&&a.project||ga("Project model unavailable");a=a.project;this.name=a[0];this.gw=a[1];this.Td=a[12];this.hw=a[12];this.gc=a[10];this.fc=a[11];this.Px=this.gc/2;this.Qx=this.fc/2;this.Ub&&!this.Ff&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.hw=this.Td=3);this.xu=a[18];this.Cm=a[19];0===this.Cm&&(this.Kk=new Image,this.Kk.src="loading-logo.png");this.Wm=a[21];this.Ip=
cc();this.Jg=new dc(this);var b,c,d,k,e,h,p,f,g;b=0;for(c=a[2].length;b<c;b++)p=a[2][b],d=this.Qh(p[0]),fb(p,d.prototype),g=new d(this),g.$p=p[1],g.ki=p[2],g.Ex=p[9],g.fb&&g.fb(),this.plugins.push(g);this.Ip=cc();b=0;for(c=a[3].length;b<c;b++){p=a[3][b];e=this.Qh(p[1]);g=null;d=0;for(k=this.plugins.length;d<k;d++)if(this.plugins[d]instanceof e){g=this.plugins[d];break}var q=new g.xc(g);q.name=p[0];q.Aa=p[2];q.ns=p[3].slice(0);q.ME=p[3].length;q.TA=p[4];q.kC=p[5];q.Ka=p[11];q.Aa?(q.Fp=[],q.gh=this.dm++,
q.Eb=null):(q.Fp=null,q.gh=-1,q.Eb=[]);q.Eo=null;q.wk=null;q.cw=null;q.Gf=!1;q.Sd=null;p[6]?(q.hu=p[6][0],q.iu=p[6][1],q.DE=p[6][2]):(q.hu=null,q.iu=0,q.DE=0);q.Qd=p[7]?p[7]:null;q.index=b;q.C=[];q.yo=[];q.Ki=[new gb(q)];q.ah=0;q.mg=null;q.bB=0;q.jl=!0;q.uq=hb;q.lw=ib;q.wC=jb;q.pb=kb;q.gn=lb;q.It=mb;q.bl=nb;q.No=ob;q.Ur=pb;q.Wr=qb;q.Ug=rb;q.mw=sb;q.no=new Ya(this.gc,this.fc);q.Xn=!0;q.Yn=!1;q.ka={};q.toString=tb;q.$b=[];d=0;for(k=p[8].length;d<k;d++){f=p[8][d];var r=this.Qh(f[1]),l=null;e=0;for(h=
this.$b.length;e<h;e++)if(this.$b[e]instanceof r){l=this.$b[e];break}l||(l=new r(this),l.Hp=[],l.Gp=new ba,l.fb&&l.fb(),this.$b.push(l),ec&&l instanceof ec&&(this.xy=l),Vb.kD&&l instanceof Vb.kD&&(this.Mw=l));-1===l.Hp.indexOf(q)&&l.Hp.push(q);e=new l.xc(l,q);e.name=f[0];e.Ka=f[2];e.fb();q.$b.push(e)}q.global=p[9];q.qs=p[10];q.qa=[];d=0;for(k=p[12].length;d<k;d++)q.qa.push({id:p[12][d][0],name:p[12][d][1],Qc:-1,Yc:!0,index:d});q.mq=p[13];this.xu&&!q.Aa&&!q.qs&&g.ki||q.fb();q.name&&(this.types[q.name]=
q);this.V.push(q);g.$p&&(d=new g.Rb(q),d.uid=this.Wm++,d.$x=this.Fx++,d.rj=0,d.km=ub,d.toString=vb,d.wa=p[14],d.fb(),q.C.push(d),this.yi[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(e=a[4][b],h=this.V[e[0]],d=1,k=e.length;d<k;d++)p=this.V[e[d]],p.Eb.push(h),h.Fp.push(p);b=0;for(c=a[27].length;b<c;b++){e=a[27][b];h=[];d=0;for(k=e.length;d<k;d++)h.push(this.V[e[d]]);d=0;for(k=h.length;d<k;d++)h[d].Gf=!0,h[d].Sd=h}if(0<this.dm)for(b=0,c=this.V.length;b<c;b++)if(p=this.V[b],!p.Aa&&p.Eb.length){p.Eo=
Array(this.dm);p.wk=Array(this.dm);p.cw=Array(this.dm);q=[];d=l=r=f=0;for(k=p.Eb.length;d<k;d++)for(g=p.Eb[d],p.Eo[g.gh]=f,f+=g.ME,p.wk[g.gh]=r,r+=g.TA,p.cw[g.gh]=l,l+=g.kC,e=0,h=g.qa.length;e<h;e++)q.push(ya({},g.qa[e]));p.qa=q.concat(p.qa);d=0;for(k=p.qa.length;d<k;d++)p.qa[d].index=d}b=0;for(c=a[5].length;b<c;b++)p=a[5][b],d=new wb(this,p),this.Is[d.name]=d,this.Hf.push(d);b=0;for(c=a[6].length;b<c;b++)p=a[6][b],d=new xb(this,p),this.Hr[d.name]=d,this.fh.push(d);b=0;for(c=this.fh.length;b<c;b++)this.fh[b].Vb();
b=0;for(c=this.fh.length;b<c;b++)this.fh[b].Ry();b=0;for(c=this.tq.length;b<c;b++)this.tq[b].Vb();this.tq.length=0;this.OA=a[7];this.Bi=a[9];this.Ql=1;this.GB=a[13];this.ab=a[14];this.dr=a[15];this.JE=a[17];this.Bt=a[20];this.PA=0<this.Bt;this.bE=a[22];this.Ve=this.Zy=a[23];this.tB=a[24];this.eE=a[25];this.bq=Date.now();this.Ip.length=0;this.YC()};var m=!1;b.prototype.Yy=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){m=a.Kv=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",b)};this.Ff?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){m=a.Kv=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):a.src=b);this.ol.push(a)};b.prototype.hC=function(a){var b,c;b=0;for(c=this.ol.length;b<c;b++)if(this.ol[b].YA===a)return this.ol[b];return null};var h=0,k=!1;b.prototype.QC=function(){this.Rl&&(h=this.Rl.uG(this.OA))};b.prototype.Dv=function(){var a=h,b=0,c=0,d=!0,e,p,c=
0;for(e=this.ol.length;c<e;c++){p=this.ol[c];var f=p.Uv;if(!f||0>=f)f=5E4;a+=f;p.src&&(p.complete||p.loaded)&&!p.Kv?b+=f:d=!1}d&&this.eE&&this.Rl&&(k||(this.Rl.vG(),k=!0),c=this.Rl.nG(),b+=c,c<h&&(d=!1));this.Tj=0==a?0:b/a;return d};b.prototype.go=function(){if(this.$a||this.da){var a=this.$a||this.Ct;this.Oc&&this.Ux();this.Tj=0;this.Rw=-1;if(this.Dv())this.RC();else{var b=Date.now()-this.bq;if(a){var c=this.width,d=this.height,k=this.devicePixelRatio;this.Oc&&(c=this.uo,d=this.to,k=1);if(3!==this.Cm&&
(this.We||500<=b&&this.Rw!=this.Tj)){a.clearRect(0,0,c,d);var b=c/2,d=d/2,c=0===this.Cm&&this.Kk.complete,e=40*k,h=0,p=80*k,f;c&&(p=this.Kk.width*k,f=this.Kk.height*k,e=p/2,h=f/2,a.drawImage(this.Kk,qa(b-e),qa(d-h),p,f));1>=this.Cm?(b=qa(b-e)+.5,d=qa(d+(h+(c?12*k:0)))+.5,a.fillStyle=m?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(p*this.Tj),6*k),a.strokeStyle="black",a.strokeRect(b,d,p,6*k),a.strokeStyle="white",a.strokeRect(b-1*k,d-1*k,p+2*k,8*k)):2===this.Cm&&(a.font=this.Ff?"12pt ArialMT":"12pt Arial",
a.fillStyle=m?"#f00":"#999",a.wG="middle",k=Math.round(100*this.Tj)+"%",c=a.measureText?a.measureText(k):null,a.fillText(k,b-(c?c.width:0)/2,d))}this.Rw=this.Tj}setTimeout(function(a){return function(){a.go()}}(this),this.We?10:100)}}};b.prototype.RC=function(){this.Oc&&(this.canvas.parentNode.removeChild(this.Oc),this.Oc=this.Ct=null);this.bq=Date.now();this.Bj=Ra();var a,b,c;if(this.xu)for(a=0,b=this.V.length;a<b;a++)c=this.V[a],c.Aa||c.qs||!c.Hc.ki||c.fb();else this.cp=!1;a=0;for(b=this.Hf.length;a<
b;a++)this.Hf[a].ZA();2<=this.Td&&(a=this.gc/this.fc,b=this.width/this.height,this.Ql=2!==this.Td&&b>a||2===this.Td&&b<a?this.height/this.fc:this.width/this.gc);this.gw?this.Is[this.gw].eu():this.Hf[0].eu();this.xu||(this.qp=1,this.trigger(dc.prototype.T.Uu,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.V.length;a<b;a++)c=this.V[a],c.VD&&c.VD();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.Vf(!1);this.lh&&AppMobi.webview.execute("onGameReady();")};var q=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Vf=function(b){if(this.Cb){var d=Ra();if(this.TC&&this.Lt&&29>d-this.Ds)this.Lt=!1,this.Ds=d,q?this.Rp=q(this.lq,this.canvas):this.oq=setTimeout(this.lq,this.hi?1:16);else{this.Lt=!0;this.Ds=d;var k=this.Td,e=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement)&&!this.Ef;(e||this.um)&&0<this.pj&&(k=this.pj);0<k&&(!this.Kw||window.self!==window.top)&&(k=window.innerHeight,this.Bm===window.innerWidth&&this.Am===k||this.setSize(a(),c()));this.Ub||(e?(this.Go||(this.Rr=jQuery(this.canvas).css("margin")||"0",this.Go=!0),this.Xo||this.ji||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/
2)+"px"})):this.Go?(this.Xo||this.ji||jQuery(this.canvas).css("margin",this.Rr),this.Rr="",this.Go=!1,0===this.Td&&this.setSize(Math.round(this.Jx/this.devicePixelRatio),Math.round(this.Ix/this.devicePixelRatio),!0)):(this.Jx=this.width,this.Ix=this.height));this.cp&&(e=this.Dv(),this.qp=this.Tj,e&&(this.cp=!1,this.Tj=1,this.trigger(dc.prototype.T.Uu,null)));this.nD();!this.mb&&!this.We||this.ws||this.rn||b||(this.mb=!1,this.da?this.zf():this.$h(),this.aq&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.aq[0],
this.aq[1]),this.trigger(dc.prototype.T.Mz,null)),this.aq=null));this.oG||(this.Mi++,this.Do++,this.Lo++);this.Im+=Ra()-d;this.vm||b||(q?this.Rp=q(this.lq,this.canvas):this.oq=setTimeout(this.lq,this.hi?1:16))}}};b.prototype.nD=function(){var a,b,c,d,k,e,h,p,f;a=Ra();1E3<=a-this.Bj&&(this.Bj+=1E3,1E3<=a-this.Bj&&(this.Bj=a),this.Pr=this.Lo,this.Lo=0,this.ur=this.Im,this.Im=0);this.Dx&&(0!==this.hp&&(b=a-this.hp,0!==b||this.cD?(this.dh=b/1E3,.5<this.dh?this.dh=0:.1<this.dh&&(this.dh=.1)):(10<=this.xG&&
(this.Dx=!1),this.dh=1/60)),this.hp=a);this.ya=this.dh*this.Ni;this.wj.add(this.ya);this.xq.add(this.dh);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.um)&&!this.Ef;2<=this.Td||a&&0<this.pj?(b=this.gc/this.fc,c=this.width/this.height,d=this.Td,a&&0<this.pj&&(d=this.pj),this.Ql=2!==d&&c>b||2===d&&c<b?this.height/this.fc:this.width/this.gc,this.Cb&&(this.Cb.Yt(this.Cb.scrollX),this.Cb.Zt(this.Cb.scrollY))):this.Ql=this.uj?this.devicePixelRatio:
1;this.Vc();this.nh++;this.Jg.nE();this.nh--;this.Vc();this.nh++;c=this.Hx.Zf();a=0;for(b=c.length;a<b;a++)c[a].pG();a=0;for(b=this.V.length;a<b;a++)if(h=this.V[a],!h.Aa&&(h.$b.length||h.Eb.length))for(c=0,d=h.C.length;c<d;c++)for(p=h.C[c],k=0,e=p.ta.length;k<e;k++)p.ta[k].Vf();a=0;for(b=this.V.length;a<b;a++)if(h=this.V[a],!h.Aa&&(h.$b.length||h.Eb.length))for(c=0,d=h.C.length;c<d;c++)for(p=h.C[c],k=0,e=p.ta.length;k<e;k++)f=p.ta[k],f.Wx&&f.Wx();c=this.qt.Zf();a=0;for(b=c.length;a<b;a++)c[a].Vf();
this.nh--;this.UC();for(a=0;this.nr&&10>a++;)this.$v(this.nr);a=0;for(b=this.fh.length;a<b;a++)this.fh[a].bs=!1;this.Cb.$l&&this.Cb.$l.tc();this.cy.length=0;this.nh++;a=0;for(b=this.V.length;a<b;a++)if(h=this.V[a],!h.Aa&&(h.$b.length||h.Eb.length))for(c=0,d=h.C.length;c<d;c++)for(p=h.C[c],k=0,e=p.ta.length;k<e;k++)f=p.ta[k],f.tn&&f.tn();c=this.tt.Zf();a=0;for(b=c.length;a<b;a++)c[a].tn();this.nh--};b.prototype.$v=function(a){var b=this.Cb;this.Cb.AE();var c,d,k,e,h,p,f;if(this.da)for(c=0,d=this.V.length;c<
d;c++)h=this.V[c],h.Aa||!h.ru||h.global&&0!==h.C.length||-1!==a.qm.indexOf(h)||h.ru();b==a&&(this.Jg.he.length=0);a.eu();c=0;for(d=this.V.length;c<d;c++)if(h=this.V[c],h.global||h.Hc.$p)for(a=0,b=h.C.length;a<b;a++)if(p=h.C[a],p.xt&&p.xt(),p.ta)for(k=0,e=p.ta.length;k<e;k++)f=p.ta[k],f.xt&&f.xt();this.mb=!0;this.Vc()};b.prototype.Cy=function(a){this.qt.add(a)};b.prototype.EE=function(a){this.tt.add(a)};b.prototype.Oo=function(a){return a&&-1!==a.Vm?this.dh*a.Vm:this.ya};b.prototype.$h=function(){this.Cb.$h(this.$a);
this.lh&&this.$a.present()};b.prototype.zf=function(){this.Cb.zf(this.da);this.da.gE()};b.prototype.cr=function(a){a&&this.Ao.push(a)};b.prototype.Pt=function(a){Da(this.Ao,a)};b.prototype.di=function(a){a=a.toString();return this.yi.hasOwnProperty(a)?this.yi[a]:null};var r=[];b.prototype.ck=function(a){var b,c;b=a.type.name;var d=null;if(this.lj.hasOwnProperty(b)){if(d=this.lj[b],d.contains(a))return}else d=r.length?r.pop():new ba,this.lj[b]=d;d.add(a);this.fi=!0;if(a.Gf)for(b=0,c=a.siblings.length;b<
c;b++)this.ck(a.siblings[b]);this.ps&&d.ml.push(a);this.nh++;this.trigger(Object.getPrototypeOf(a.type.Hc).T.Oz,a);this.nh--};b.prototype.Vc=function(){if(this.fi){var a,b,c,d,k,e;this.ps=!0;c=0;for(k=this.wf.length;c<k;++c)for(a=this.wf[c],b=a.type,b.C.push(a),d=0,e=b.Eb.length;d<e;++d)b.Eb[d].C.push(a),b.Eb[d].jl=!0;this.wf.length=0;this.Cz();Qa(this.lj);this.fi=this.ps=!1}};b.prototype.Cz=function(){for(var a in this.lj)this.lj.hasOwnProperty(a)&&this.jz(this.lj[a])};b.prototype.jz=function(a){var b=
a.Zf(),c=b[0].type,d,k,e,h,p,f;Sa(c.C,a);c.jl=!0;0===c.C.length&&(c.Yn=!1);d=0;for(k=c.Eb.length;d<k;++d)f=c.Eb[d],Sa(f.C,a),f.jl=!0;d=0;for(k=this.Jg.he.length;d<k;++d)if(p=this.Jg.he[d],p.de.hasOwnProperty(c.index)&&Sa(p.de[c.index].tj,a),!c.Aa)for(e=0,h=c.Eb.length;e<h;++e)f=c.Eb[e],p.de.hasOwnProperty(f.index)&&Sa(p.de[f.index].tj,a);if(p=b[0].S){if(p.Xf)for(e=p.C,d=0,k=e.length;d<k;++d)h=e[d],a.contains(h)&&(h.Za(),p.be.update(h,h.Ld,null),h.Ld.set(0,0,-1,-1));Sa(p.C,a);p.kn(0)}for(d=0;d<b.length;++d)this.iz(b[d],
c);a.clear();r.push(a);this.mb=!0};b.prototype.iz=function(a,b){var c,d,k;c=0;for(d=this.Ao.length;c<d;++c)this.Ao[c](a);a.Zh&&b.no.update(a,a.Zh,null);(c=a.S)&&c.dl(a,!0);if(a.ta)for(c=0,d=a.ta.length;c<d;++c)k=a.ta[c],k.Rj&&k.Rj(),k.behavior.Gp.remove(a);this.Hx.remove(a);this.qt.remove(a);this.tt.remove(a);a.Rj&&a.Rj();this.yi.hasOwnProperty(a.uid.toString())&&delete this.yi[a.uid.toString()];this.Jp--;100>b.yo.length&&b.yo.push(a)};var s=[];b.prototype.jj=function(a,b,c,d,k,e){var h,p,f,q;if(!a)return null;
var g=this.V[a[1]],r=g.Hc.ki;if(this.cp&&r&&!g.qs||r&&!this.da&&11===a[0][11])return null;var l=b;r||(b=null);var m;g.yo.length?(m=g.yo.pop(),m.ae=!0,g.Hc.Rb.call(m,g)):(m=new g.Hc.Rb(g),m.ae=!1);m.uid=c&&!e?a[2]:this.Wm++;this.yi[m.uid.toString()]=m;m.$x=this.Fx++;m.rj=g.C.length;h=0;for(p=this.wf.length;h<p;++h)this.wf[h].type===g&&m.rj++;m.km=ub;m.toString=vb;f=a[3];if(m.ae)Qa(m.ka);else{m.ka={};if("undefined"!==typeof cr_is_preview)for(m.Aw=[],m.Aw.length=f.length,h=0,p=f.length;h<p;h++)m.Aw[h]=
f[h][1];m.qc=[];m.qc.length=f.length}h=0;for(p=f.length;h<p;h++)m.qc[h]=f[h][0];if(r){var n=a[0];m.x=ha(d)?n[0]:d;m.y=ha(k)?n[1]:k;m.z=n[2];m.width=n[3];m.height=n[4];m.depth=n[5];m.M=n[6];m.opacity=n[7];m.Vd=n[8];m.Wd=n[9];m.Gd=n[10];h=n[11];!this.da&&g.qa.length&&(m.Gd=h);m.Vl=$a(m.Gd);this.U&&ab(m,m.Gd,this.U);if(m.ae){h=0;for(p=n[12].length;h<p;h++)for(f=0,q=n[12][h].length;f<q;f++)m.Hb[h][f]=n[12][h][f];m.Zb.set(0,0,0,0);m.Zh.set(0,0,-1,-1);m.Ld.set(0,0,-1,-1);m.Db.ln(m.Zb);m.ir.length=0}else{m.Hb=
n[12].slice(0);h=0;for(p=m.Hb.length;h<p;h++)m.Hb[h]=n[12][h].slice(0);m.Ra=[];m.Th=[];m.Th.length=g.qa.length;m.Zb=new ta(0,0,0,0);m.Zh=new ta(0,0,-1,-1);m.Ld=new ta(0,0,-1,-1);m.Db=new xa;m.ir=[];m.X=yb;m.eG=zb;m.$c=Ab;m.Za=Bb;m.IE=Cb;m.Ty=Db;m.rg=Eb}m.Gh=!1;m.Gy=0;m.Fy=0;m.Ey=null;14===n.length&&(m.Gh=!0,m.Gy=n[13][0],m.Fy=n[13][1],m.Ey=n[13][2]);h=0;for(p=g.qa.length;h<p;h++)m.Th[h]=!0;m.Jh=Fb;m.Jh();m.Vy=!!m.Ra.length;m.hr=!0;m.lr=!0;g.Xn=!0;m.visible=!0;m.Vm=-1;m.S=b;m.$f=b.C.length;"undefined"===
typeof m.Fa&&(m.Fa=null);this.mb=m.Wg=!0}var z;h=s.length=0;for(p=g.Eb.length;h<p;h++)s.push.apply(s,g.Eb[h].$b);s.push.apply(s,g.$b);if(m.ae)for(h=0,p=s.length;h<p;h++){var C=s[h];z=m.ta[h];z.ae=!0;C.behavior.Rb.call(z,C,m);n=a[4][h];f=0;for(q=n.length;f<q;f++)z.wa[f]=n[f];z.fb();C.behavior.Gp.add(m)}else for(m.ta=[],h=0,p=s.length;h<p;h++)C=s[h],z=new C.behavior.Rb(C,m),z.ae=!1,z.wa=a[4][h].slice(0),z.fb(),m.ta.push(z),C.behavior.Gp.add(m);n=a[5];if(m.ae)for(h=0,p=n.length;h<p;h++)m.wa[h]=n[h];
else m.wa=n.slice(0);this.wf.push(m);this.fi=!0;b&&(b.Pl(m,!0),1!==b.ef||1!==b.ff)&&(g.Yn=!0);this.Jp++;if(g.Gf){if(m.Gf=!0,m.ae?m.siblings.length=0:m.siblings=[],!c&&!e){h=0;for(p=g.Sd.length;h<p;h++)if(g.Sd[h]!==g){if(!g.Sd[h].mg)return null;m.siblings.push(this.jj(g.Sd[h].mg,l,!1,r?m.x:d,r?m.y:k,!0))}h=0;for(p=m.siblings.length;h<p;h++)for(m.siblings[h].siblings.push(m),f=0;f<p;f++)h!==f&&m.siblings[h].siblings.push(m.siblings[f])}}else m.Gf=!1,m.siblings=null;m.fb();h=0;for(p=m.ta.length;h<p;h++)m.ta[h].Vx&&
m.ta[h].Vx();return m};b.prototype.Xr=function(a){var b,c;b=0;for(c=this.Cb.Ba.length;b<c;b++){var d=this.Cb.Ba[b];if(cb(d.name,a))return d}return null};b.prototype.hm=function(a){a=qa(a);0>a&&(a=0);a>=this.Cb.Ba.length&&(a=this.Cb.Ba.length-1);return this.Cb.Ba[a]};b.prototype.or=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].pb().Fb=!0};b.prototype.gn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].gn()};b.prototype.It=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].It()};b.prototype.bl=
function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].bl()};b.prototype.Py=function(a){if(a.Xn){var b,c,d=a.C;b=0;for(c=d.length;b<c;++b)d[b].Ty();d=this.wf;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].Ty();a.Xn=!1}};b.prototype.oC=function(a,b,c,d){var k,h,e=a?1!==a.ef||1!==a.ff:!1;if(b.Aa)for(a=0,k=b.Fp.length;a<k;++a)h=b.Fp[a],e||h.Yn?Ba(d,h.C):(this.Py(h),h.no.Pp(c,d));else e||b.Yn?Ba(d,b.C):(this.Py(b),b.no.Pp(c,d))};b.prototype.rw=function(a,b,c,d){var k,h;k=0;for(h=b.length;k<h;++k)this.oC(a,
b[k],c,d)};b.prototype.AC=function(a,b,c){var d=this.xy;d&&this.rw(a,d.Hp,b,c)};b.prototype.uC=function(a,b,c){var d=this.Mw;d&&this.rw(a,d.Hp,b,c)};b.prototype.hq=function(a,b,c){var d=a.pb(),k,h,e,p,f,g;if(d.Fb)for(d.Fb=!1,k=d.C.length=0,p=a.C.length;k<p;k++)e=a.C[k],e.Za(),f=e.S.qd(b,c,!0),g=e.S.qd(b,c,!1),e.$c(f,g)&&d.C.push(e);else{k=h=0;for(p=d.C.length;k<p;k++)e=d.C[k],e.Za(),f=e.S.qd(b,c,!0),g=e.S.qd(b,c,!1),e.$c(f,g)&&(d.C[h]=d.C[k],h++);d.C.length=h}a.Ug();return d.as()};b.prototype.Tf=
function(a,b){if(!(a&&b&&a!==b&&a.Wg&&b.Wg))return!1;a.Za();b.Za();var c=a.S,d=b.S,k,h,e,p,f,g,q,r;if(c===d||c.ef===d.ef&&d.ff===d.ff&&c.scale===d.scale&&c.M===d.M&&c.ag===d.ag){if(!a.Zb.ZC(b.Zb)||!a.Db.Bw(b.Db)||a.Gh&&b.Gh)return!1;if(a.Gh)return this.By(a,b);if(b.Gh)return this.By(b,a);q=a.Fa&&!a.Fa.vj();k=b.Fa&&!b.Fa.vj();if(!q&&!k)return!0;q?(a.Fa.Xh(a.width,a.height,a.M),q=a.Fa):(this.Sf.hl(a.Db,a.x,a.y,a.width,a.height),q=this.Sf);k?(b.Fa.Xh(b.width,b.height,b.M),r=b.Fa):(this.Sf.hl(b.Db,b.x,
b.y,b.width,b.height),r=this.Sf);return q.rm(r,b.x-a.x,b.y-a.y)}q=a.Fa&&!a.Fa.vj();k=b.Fa&&!b.Fa.vj();q?(a.Fa.Xh(a.width,a.height,a.M),this.Sf.ny(a.Fa)):this.Sf.hl(a.Db,a.x,a.y,a.width,a.height);q=this.Sf;k?(b.Fa.Xh(b.width,b.height,b.M),this.gu.ny(b.Fa)):this.gu.hl(b.Db,b.x,b.y,b.width,b.height);r=this.gu;k=0;for(h=q.Cd;k<h;k++)e=2*k,p=e+1,f=q.cb[e],g=q.cb[p],q.cb[e]=c.ud(f+a.x,g+a.y,!0),q.cb[p]=c.ud(f+a.x,g+a.y,!1);q.Za();k=0;for(h=r.Cd;k<h;k++)e=2*k,p=e+1,f=r.cb[e],g=r.cb[p],r.cb[e]=d.ud(f+b.x,
g+b.y,!0),r.cb[p]=d.ud(f+b.x,g+b.y,!1);r.Za();return q.rm(r,0,0)};var u=new xa;new ta(0,0,0,0);var p=[];b.prototype.By=function(a,b){var c,d,k,h,e=b.Zb,f=a.x,q=a.y;a.pC(e,p);var g=b.Fa&&!b.Fa.vj();c=0;for(d=p.length;c<d;++c)if(k=p[c],h=k.Ua,e.$C(h,f,q)&&(u.ln(h),u.offset(f,q),u.Bw(b.Db)))if(g)if(b.Fa.Xh(b.width,b.height,b.M),k.Bd){if(k.Bd.rm(b.Fa,b.x-(f+h.left),b.y-(q+h.top)))return p.length=0,!0}else{if(this.Sf.hl(u,0,0,h.right-h.left,h.bottom-h.top),this.Sf.rm(b.Fa,b.x,b.y))return p.length=0,!0}else if(k.Bd){if(this.Sf.hl(b.Db,
0,0,b.width,b.height),k.Bd.rm(this.Sf,-(f+h.left),-(q+h.top)))return p.length=0,!0}else return p.length=0,!0;p.length=0;return!1};b.prototype.Ly=function(a,b){if(!b)return!1;var c,d,k,h,e;c=0;for(d=a.$b.length;c<d;c++)if(a.$b[c].behavior instanceof b)return!0;if(!a.Aa)for(c=0,d=a.Eb.length;c<d;c++)for(e=a.Eb[c],k=0,h=e.$b.length;k<h;k++)if(e.$b[k].behavior instanceof b)return!0;return!1};b.prototype.My=function(a){return this.Ly(a,Vb.xF)};b.prototype.qu=function(a){return this.Ly(a,Vb.yF)};var z=
[];b.prototype.ee=function(a){var b,c,d;a.Za();this.AC(a.S,a.Zb,z);b=0;for(c=z.length;b<c;++b)if(d=z[b],d.ka.solidEnabled&&this.Tf(a,d))return z.length=0,d;z.length=0;return null};var C=[];b.prototype.Li=function(a,b){var c=null;b&&(c=C,c.length=0);a.Za();this.uC(a.S,a.Zb,z);var d,k,h;d=0;for(k=z.length;d<k;++d)if(h=z[d],h.ka.jumpthruEnabled&&this.Tf(a,h))if(b)c.push(h);else return z.length=0,h;z.length=0;return c};b.prototype.Qf=function(a,b,c,d,k,h){d=d||50;var e=a.x,p=a.y,f,q=null,g=null;for(f=
0;f<d;f++)if(a.x=e+b*f,a.y=p+c*f,a.X(),!this.Tf(a,q)&&((q=this.ee(a))&&(g=q),!q&&(k&&(q=h?this.Tf(a,h)?h:null:this.Li(a))&&(g=q),!q)))return g&&this.Kt(a,b,c,g),!0;a.x=e;a.y=p;a.X();return!1};b.prototype.Kt=function(a,b,c,d){var k=2,h,e=!1;h=!1;for(var p=a.x,f=a.y;16>=k;)h=1/k,k*=2,a.x+=b*h*(e?1:-1),a.y+=c*h*(e?1:-1),a.X(),this.Tf(a,d)?h=e=!0:(h=e=!1,p=a.x,f=a.y);h&&(a.x=p,a.y=f,a.X())};b.prototype.jE=function(a,b){var c=ha(b)?100:b,d=0,k=a.x,h=a.y,e=0,p=0,f=0,q=this.ee(a);if(!q)return!0;for(;d<=
c;){switch(e){case 0:p=0;f=-1;d++;break;case 1:p=1;f=-1;break;case 2:p=1;f=0;break;case 3:f=p=1;break;case 4:p=0;f=1;break;case 5:p=-1;f=1;break;case 6:p=-1;f=0;break;case 7:f=p=-1}e=(e+1)%8;a.x=qa(k+p*d);a.y=qa(h+f*d);a.X();if(!this.Tf(a,q)&&(q=this.ee(a),!q))return!0}a.x=k;a.y=h;a.X();return!1};b.prototype.cl=function(a,b){a.Wg&&b.Wg&&this.cy.push([a,b])};var J=-1;b.prototype.trigger=function(a,b,c){if(!this.Cb)return!1;var d=this.Cb.$l;if(!d)return!1;var k=!1,h,e,p;J++;var f=d.Cr;e=0;for(p=f.length;e<
p;++e)h=this.Iy(a,b,f[e],c),k=k||h;h=this.Iy(a,b,d,c);J--;return k||h};b.prototype.Iy=function(a,b,c,d){var k=!1,h,e,p,f;if(b)for(p=this.ou(a,b,b.type.name,c,d),k=k||p,f=b.type.Eb,h=0,e=f.length;h<e;++h)p=this.ou(a,b,f[h].name,c,d),k=k||p;else p=this.ou(a,b,"system",c,d),k=k||p;return k};b.prototype.ou=function(a,b,c,d,k){var h,e=!1,p=!1,p="undefined"!==typeof k,f=(p?d.ew:d.Jy)[c];if(!f)return e;var q=null;d=0;for(h=f.length;d<h;++d)if(f[d].method==a){q=f[d].cm;break}if(!q)return e;a=p?q[k]:q;if(!a)return null;
d=0;for(h=a.length;d<h;d++)k=a[d][0],p=a[d][1],p=this.fC(b,c,k,p),e=e||p;return e};b.prototype.fC=function(a,b,c,d){var k,h,e=!1;this.pu++;var p=this.Ud().xf;p&&this.gn(p.Ii);var f=1<this.pu;this.gn(c.Ii);f&&this.iE();var q=this.Jt(c);q.xf=c;a&&(k=this.types[b].pb(),k.Fb=!1,k.C.length=1,k.C[0]=a,this.types[b].Ug());a=!0;if(c.parent){b=q.Ay;for(k=c.parent;k;)b.push(k),k=k.parent;b.reverse();k=0;for(h=b.length;k<h;k++)if(!b[k].pE()){a=!1;break}}a&&(this.Do++,c.Cg?c.oE(d):c.tc(),e=e||q.Aj);this.Tx();
f&&this.dE();this.bl(c.Ii);p&&this.bl(p.Ii);this.fi&&0===this.nh&&0===J&&!this.rs&&this.Vc();this.pu--;return e};b.prototype.qC=function(){var a=this.Ud();return a.xf.Zc[a.Hd]};b.prototype.iE=function(){this.sp++;this.sp>=this.Rs.length&&this.Rs.push([])};b.prototype.dE=function(){this.sp--};b.prototype.jw=function(){return this.Rs[this.sp]};b.prototype.Jt=function(a){this.Co++;this.Co>=this.Gr.length&&this.Gr.push(new Gb);var b=this.Ud();b.reset(a);return b};b.prototype.Tx=function(){this.Co--};
b.prototype.Ud=function(){return this.Gr[this.Co]};b.prototype.kw=function(a,b){for(var c,d,k,h,e,p;b;){c=0;for(d=b.kf.length;c<d;c++)if(p=b.kf[c],p instanceof Hb&&cb(a,p.name))return p;b=b.parent}c=0;for(d=this.fh.length;c<d;c++)for(e=this.fh[c],k=0,h=e.bi.length;k<h;k++)if(p=e.bi[k],p instanceof Hb&&cb(a,p.name))return p;return null};b.prototype.nw=function(a){var b,c;b=0;for(c=this.Hf.length;b<c;b++)if(this.Hf[b].Ka===a)return this.Hf[b];return null};b.prototype.So=function(a){var b,c;b=0;for(c=
this.V.length;b<c;b++)if(this.V[b].Ka===a)return this.V[b];return null};b.prototype.rC=function(a){var b,c;b=0;for(c=this.nk.length;b<c;b++)if(this.nk[b].Ka===a)return this.nk[b];return null};b.prototype.UC=function(){var a=this,b=this.Xt,c=this.qh,d=this.np,k=!1;this.uy&&(k=!0,b="__c2_continuouspreview",this.uy=!1);if(b.length){this.Vc();c=this.uE();if(window.indexedDB&&!this.We)e(b,c,function(){fa("Saved state to IndexedDB storage ("+c.length+" bytes)");a.qh=c;a.trigger(dc.prototype.T.Qq,null);
a.qh="";k&&g()},function(d){try{localStorage.setItem("__c2save_"+b,c),fa("Saved state to WebStorage ("+c.length+" bytes)"),a.qh=c,a.trigger(dc.prototype.T.Qq,null),a.qh="",k&&g()}catch(h){fa("Failed to save game state: "+d+"; "+h)}});else try{localStorage.setItem("__c2save_"+b,c),fa("Saved state to WebStorage ("+c.length+" bytes)"),a.qh=c,this.trigger(dc.prototype.T.Qq,null),a.qh="",k&&g()}catch(h){fa("Error saving to WebStorage: "+h)}this.vd=this.np=this.Xt=""}d.length&&(window.indexedDB&&!this.We?
f(d,function(b){b?(a.vd=b,fa("Loaded state from IndexedDB storage ("+a.vd.length+" bytes)")):(a.vd=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+a.vd.length+" bytes)"));a.rn=!1;a.vd.length||a.trigger(dc.prototype.T.Pq,null)},function(){a.vd=localStorage.getItem("__c2save_"+d)||"";fa("Loaded state from WebStorage ("+a.vd.length+" bytes)");a.rn=!1;a.vd.length||a.trigger(dc.prototype.T.Pq,null)}):(this.vd=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+
this.vd.length+" bytes)"),this.rn=!1,a.vd.length||a.trigger(dc.prototype.T.Pq,null)),this.Xt=this.np="");this.vd.length&&(this.Vc(),this.mD(this.vd),this.qh=this.vd,this.trigger(dc.prototype.T.aA,null),this.vd=this.qh="")};b.prototype.uE=function(){var a,b,c,d,k,h,e,p={c2save:!0,version:1,rt:{time:this.wj.Rc,walltime:this.xq.Rc,timescale:this.Ni,tickcount:this.Mi,execcount:this.Do,next_uid:this.Wm,running_layout:this.Cb.Ka,start_time_offset:Date.now()-this.bq},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};a=0;for(b=this.V.length;a<b;a++)if(k=this.V[a],!k.Aa&&!this.My(k)){h={instances:[]};Pa(k.ka)&&(h.ex=l(k.ka));c=0;for(d=k.C.length;c<d;c++)h.instances.push(this.Wt(k.C[c]));p.types[k.Ka.toString()]=h}a=0;for(b=this.Hf.length;a<b;a++)c=this.Hf[a],p.layouts[c.Ka.toString()]=c.Dd();d=p.events.groups;a=0;for(b=this.nk.length;a<b;a++)c=this.nk[a],d[c.Ka.toString()]=this.Wo[c.lm].Vo;b=p.events.cnds;for(e in this.qk)this.qk.hasOwnProperty(e)&&(a=this.qk[e],Pa(a.ka)&&(b[e]={ex:l(a.ka)}));
b=p.events.acts;for(e in this.mk)this.mk.hasOwnProperty(e)&&(a=this.mk[e],Pa(a.ka)&&(b[e]={ex:a.ka}));b=p.events.vars;for(e in this.nl)this.nl.hasOwnProperty(e)&&(a=this.nl[e],a.Zo||a.parent&&!a.wm||(b[e]=a.data));p.system=this.Jg.Dd();return JSON.stringify(p)};b.prototype.by=function(){var a,b,c,d,k,h;this.yi={};a=0;for(b=this.V.length;a<b;a++)if(c=this.V[a],!c.Aa)for(d=0,k=c.C.length;d<k;d++)h=c.C[d],this.yi[h.uid.toString()]=h};b.prototype.mD=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=
a.rt;this.wj.reset();this.wj.Rc=b.time;this.xq.reset();this.xq.Rc=b.walltime||0;this.Ni=b.timescale;this.Mi=b.tickcount;this.Do=b.execcount;this.bq=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.Cb.Ka)if(c=this.nw(c))this.$v(c);else return;var d,k,h,e,p,f,q;f=a.types;for(k in f)if(f.hasOwnProperty(k)&&(e=this.So(parseInt(k,10)))&&!e.Aa&&!this.My(e)){f[k].ex?e.ka=f[k].ex:Qa(e.ka);p=e.C;h=f[k].instances;c=0;for(d=oa(p.length,h.length);c<d;c++)this.op(p[c],h[c]);c=h.length;for(d=p.length;c<
d;c++)this.ck(p[c]);c=p.length;for(d=h.length;c<d;c++){p=null;if(e.Hc.ki&&(p=this.Cb.Ro(h[c].w.l),!p))continue;p=this.jj(e.mg,p,!1,0,0,!0);this.op(p,h[c])}e.jl=!0}this.Vc();this.by();d=a.layouts;for(k in d)d.hasOwnProperty(k)&&(c=this.nw(parseInt(k,10)))&&c.Yd(d[k]);d=a.events.groups;for(k in d)d.hasOwnProperty(k)&&(c=this.rC(parseInt(k,10)))&&this.Wo[c.lm]&&(this.Wo[c.lm].Vo=d[k]);c=a.events.cnds;for(k in c)c.hasOwnProperty(k)&&this.qk.hasOwnProperty(k)&&(this.qk[k].ka=c[k].ex);c=a.events.acts;for(k in c)c.hasOwnProperty(k)&&
this.mk.hasOwnProperty(k)&&(this.mk[k].ka=c[k].ex);c=a.events.vars;for(k in c)c.hasOwnProperty(k)&&this.nl.hasOwnProperty(k)&&(this.nl[k].data=c[k]);this.Wm=b.next_uid;this.Jg.Yd(a.system);c=0;for(d=this.V.length;c<d;c++)if(e=this.V[c],!e.Aa)for(k=0,a=e.C.length;k<a;k++){p=e.C[k];if(e.Gf)for(f=p.km(),b=p.siblings.length=0,h=e.Sd.length;b<h;b++)q=e.Sd[b],e!==q&&p.siblings.push(q.C[f]);p.hg&&p.hg();if(p.ta)for(b=0,h=p.ta.length;b<h;b++)f=p.ta[b],f.hg&&f.hg()}this.mb=!0}};b.prototype.Wt=function(a,b){var c,
d,k,h,e;h=a.type;k=h.Hc;var p={};b?p.c2=!0:p.uid=a.uid;Pa(a.ka)&&(p.ex=l(a.ka));if(a.qc&&a.qc.length)for(p.ivs={},c=0,d=a.qc.length;c<d;c++)p.ivs[a.type.ns[c].toString()]=a.qc[c];if(k.ki){k={x:a.x,y:a.y,w:a.width,h:a.height,l:a.S.Ka,zi:a.rg()};0!==a.M&&(k.a=a.M);1!==a.opacity&&(k.o=a.opacity);.5!==a.Vd&&(k.hX=a.Vd);.5!==a.Wd&&(k.hY=a.Wd);0!==a.Gd&&(k.bm=a.Gd);a.visible||(k.v=a.visible);a.Wg||(k.ce=a.Wg);-1!==a.Vm&&(k.mts=a.Vm);if(h.qa.length)for(k.fx=[],c=0,d=h.qa.length;c<d;c++)e=h.qa[c],k.fx.push({name:e.name,
active:a.Th[e.index],params:a.Hb[e.index]});p.w=k}if(a.ta&&a.ta.length)for(p.behs={},c=0,d=a.ta.length;c<d;c++)h=a.ta[c],h.Dd&&(p.behs[h.type.Ka.toString()]=h.Dd());a.Dd&&(p.data=a.Dd());return p};b.prototype.tC=function(a,b){var c,d;c=0;for(d=a.ns.length;c<d;c++)if(a.ns[c]===b)return c;return-1};b.prototype.nC=function(a,b){var c,d;c=0;for(d=a.ta.length;c<d;c++)if(a.ta[c].type.Ka===b)return c;return-1};b.prototype.op=function(a,b,c){var d,k,h,e,p;p=a.type;h=p.Hc;if(c){if(!b.c2)return}else a.uid=
b.uid;b.ex?a.ka=b.ex:Qa(a.ka);if(k=b.ivs)for(d in k)k.hasOwnProperty(d)&&(c=this.tC(p,parseInt(d,10)),0>c||c>=a.qc.length||(a.qc[c]=k[d]));if(h.ki){h=b.w;a.S.Ka!==h.l&&(c=a.S,a.S=this.Cb.Ro(h.l),a.S?(c.dl(a,!0),a.S.Pl(a,!0),a.X(),a.S.kn(0)):(a.S=c,this.ck(a)));a.x=h.x;a.y=h.y;a.width=h.w;a.height=h.h;a.$f=h.zi;a.M=h.hasOwnProperty("a")?h.a:0;a.opacity=h.hasOwnProperty("o")?h.o:1;a.Vd=h.hasOwnProperty("hX")?h.hX:.5;a.Wd=h.hasOwnProperty("hY")?h.hY:.5;a.visible=h.hasOwnProperty("v")?h.v:!0;a.Wg=h.hasOwnProperty("ce")?
h.ce:!0;a.Vm=h.hasOwnProperty("mts")?h.mts:-1;a.Gd=h.hasOwnProperty("bm")?h.bm:0;a.Vl=$a(a.Gd);this.U&&ab(a,a.Gd,this.U);a.X();if(h.hasOwnProperty("fx"))for(c=0,k=h.fx.length;c<k;c++)e=p.Wr(h.fx[c].name),0>e||(a.Th[e]=h.fx[c].active,a.Hb[e]=h.fx[c].params);a.Jh()}if(p=b.behs)for(d in p)p.hasOwnProperty(d)&&(h=this.nC(a,parseInt(d,10)),0>h||a.ta[h].Yd(p[d]));b.data&&a.Yd(b.data)};Ib=function(a){return new b(document.getElementById(a))};Jb=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=
Ib;window.cr_createDCRuntime=Jb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.tG=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));
window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.c=a;this.$l=null;this.scrollX=this.c.gc/2;this.scrollY=this.c.fc/2;this.scale=1;this.M=0;this.xk=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Ny=b[3];this.ry=b[4];this.Ka=b[5];var c=b[6],d,e;this.Ba=[];this.qm=[];d=0;for(e=c.length;d<e;d++){var f=new Kb(this,c[d]);f.Gx=d;this.Ba.push(f)}c=b[7];this.sj=[];d=0;for(e=c.length;d<e;d++){var f=c[d],p=this.c.V[f[1]];p.mg||(p.mg=f);this.sj.push(f);-1===this.qm.indexOf(p)&&this.qm.push(p)}this.qa=[];this.Ra=[];this.Hb=
[];d=0;for(e=b[8].length;d<e;d++)this.qa.push({id:b[8][d][0],name:b[8][d][1],Qc:-1,Yc:!0,index:d}),this.Hb.push(b[8][d][2].slice(0));this.Jh();this.Mt=new ta(0,0,1,1);this.Nt=new ta(0,0,1,1);this.Ai={}}function c(a,b){return a.$f-b.$f}function b(a,b){this.rc=a;this.c=a.c;this.C=[];this.scale=1;this.M=0;this.mj=!1;this.Hh=new ta(0,0,0,0);this.Hy=new xa;this.ic=this.Ob=this.jc=this.Nb=0;this.Yj=!1;this.Mh=-1;this.name=b[0];this.index=b[1];this.Ka=b[2];this.visible=b[3];this.Vh=b[4];this.Ih=b[5];this.ef=
b[6];this.ff=b[7];this.opacity=b[8];this.Or=b[9];this.Xf=b[10];this.ag=b[11];this.Gd=b[12];this.EB=b[13];this.Vl="source-over";this.bd=this.gd=0;this.be=null;this.Jk=d();this.Fh=!0;this.gp=new ta(0,0,-1,-1);this.Te=new ta(0,0,-1,-1);this.Xf&&(this.be=new Za(this.c.gc,this.c.fc));this.Ei=!1;var c=b[14],e,f;this.Bk=[];e=0;for(f=c.length;e<f;e++){var g=c[e],p=this.c.V[g[1]];p.mg||(p.mg=g,p.bB=this.index);this.Bk.push(g);-1===this.rc.qm.indexOf(p)&&this.rc.qm.push(p)}this.qa=[];this.Ra=[];this.Hb=[];
e=0;for(f=b[15].length;e<f;e++)this.qa.push({id:b[15][e][0],name:b[15][e][1],Qc:-1,Yc:!0,index:e}),this.Hb.push(b[15][e][2].slice(0));this.Jh();this.Mt=new ta(0,0,1,1);this.Nt=new ta(0,0,1,1)}function d(){return l.length?l.pop():[]}function e(a){a.length=0;l.push(a)}a.prototype.tE=function(a){var b=a.type.Ka.toString();this.Ai.hasOwnProperty(b)||(this.Ai[b]=[]);this.Ai[b].push(this.c.Wt(a))};a.prototype.tw=function(){var a=this.Ba[0];return!a.Ih&&1===a.opacity&&!a.Or&&a.visible};a.prototype.Jh=function(){this.Ra.length=
0;var a,b,c;a=0;for(b=this.qa.length;a<b;a++)c=this.qa[a],c.Yc&&this.Ra.push(c)};a.prototype.Vr=function(a){var b,c,d;b=0;for(c=this.qa.length;b<c;b++)if(d=this.qa[b],d.name===a)return d;return null};var f=[],g=!0;a.prototype.eu=function(){this.ry&&(this.$l=this.c.Hr[this.ry],this.$l.Ry());this.c.Cb=this;this.scrollX=this.c.gc/2;this.scrollY=this.c.fc/2;var a,b,d,e,m,l,p;a=0;for(d=this.c.V.length;a<d;a++)if(b=this.c.V[a],!b.Aa)for(m=b.C,b=0,e=m.length;b<e;b++)if(l=m[b],l.S){var n=l.S.Gx;n>=this.Ba.length&&
(n=this.Ba.length-1);l.S=this.Ba[n];-1===l.S.C.indexOf(l)&&l.S.C.push(l);l.S.Yj=!0}if(!g)for(a=0,d=this.Ba.length;a<d;++a)this.Ba[a].C.sort(c);f.length=0;this.UA();a=0;for(d=this.Ba.length;a<d;a++)l=this.Ba[a],l.$A(),l.tu();m=!1;if(!this.xk){for(p in this.Ai)if(this.Ai.hasOwnProperty(p)&&(b=this.c.So(parseInt(p,10)))&&!b.Aa&&this.c.qu(b)){e=this.Ai[p];a=0;for(d=e.length;a<d;a++){l=null;if(b.Hc.ki&&(l=this.Ro(e[a].w.l),!l))continue;l=this.c.jj(b.mg,l,!1,0,0,!0);this.c.op(l,e[a]);m=!0;f.push(l)}e.length=
0}a=0;for(d=this.Ba.length;a<d;a++)this.Ba[a].C.sort(c),this.Ba[a].Yj=!0}m&&(this.c.Vc(),this.c.by());for(a=0;a<f.length;a++)if(l=f[a],l.type.Gf)for(d=l.km(),b=0,e=l.type.Sd.length;b<e;b++)p=l.type.Sd[b],l.type!==p&&(p.C.length>d?l.siblings.push(p.C[d]):p.mg&&(m=this.c.jj(p.mg,l.S,!0,l.x,l.y,!0),this.c.Vc(),p.uq(),l.siblings.push(m),f.push(m)));a=0;for(d=this.sj.length;a<d;a++)this.c.jj(this.sj[a],null,!0);this.c.nr=null;this.c.Vc();if(this.c.$a&&!this.c.Ub)for(a=0,d=this.c.V.length;a<d;a++)p=this.c.V[a],
!p.Aa&&p.C.length&&p.Ft&&p.Ft(this.c.$a);a=0;for(d=f.length;a<d;a++)l=f[a],this.c.trigger(Object.getPrototypeOf(l.type.Hc).T.Nz,l);f.length=0;this.c.trigger(dc.prototype.T.Tu,null);this.xk=!1};a.prototype.ZA=function(){var a,b,c,d,e;b=a=0;for(c=this.sj.length;a<c;a++)d=this.sj[a],e=this.c.V[d[1]],e.global?this.c.jj(d,null,!0):(this.sj[b]=d,b++);this.sj.length=b};a.prototype.AE=function(){this.c.trigger(dc.prototype.T.$z,null);this.c.Jg.he.length=0;var a,b,c,d,e,f;if(!this.xk)for(a=0,b=this.Ba.length;a<
b;a++)for(this.Ba[a].uu(),e=this.Ba[a].C,c=0,d=e.length;c<d;c++)f=e[c],f.type.global||this.c.qu(f.type)&&this.tE(f);a=0;for(b=this.Ba.length;a<b;a++){e=this.Ba[a].C;c=0;for(d=e.length;c<d;c++)f=e[c],f.type.global||this.c.ck(f);this.c.Vc();e.length=0;this.Ba[a].Yj=!0}a=0;for(b=this.c.V.length;a<b;a++)if(e=this.c.V[a],!(e.global||e.Hc.ki||e.Hc.$p||e.Aa)){c=0;for(d=e.C.length;c<d;c++)this.c.ck(e.C[c]);this.c.Vc()}g=!1};new ta(0,0,0,0);a.prototype.$h=function(a){var b,c=a,d=!1,e=!this.c.Ve;e&&(this.c.lp||
(this.c.lp=document.createElement("canvas"),b=this.c.lp,b.width=this.c.Ja,b.height=this.c.Ia,this.c.Tw=b.getContext("2d"),d=!0),b=this.c.lp,c=this.c.Tw,b.width!==this.c.Ja&&(b.width=this.c.Ja,d=!0),b.height!==this.c.Ia&&(b.height=this.c.Ia,d=!0),d&&(c.webkitImageSmoothingEnabled=this.c.ab,c.mozImageSmoothingEnabled=this.c.ab,c.msImageSmoothingEnabled=this.c.ab,c.imageSmoothingEnabled=this.c.ab));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.c.dr&&!this.tw()&&c.clearRect(0,0,this.c.Ja,
this.c.Ia);var f,p,d=0;for(f=this.Ba.length;d<f;d++)p=this.Ba[d],p.visible&&0<p.opacity&&11!==p.Gd&&(p.C.length||!p.Ih)?p.$h(c):p.tu();e&&a.drawImage(b,0,0,this.c.width,this.c.height)};a.prototype.zf=function(a){var b=0<this.Ra.length||this.c.ll||!this.c.Ve;if(b){this.c.Xd||(this.c.Xd=a.Xg(this.c.Ja,this.c.Ia,this.c.ab));if(this.c.Xd.Tl!==this.c.Ja||this.c.Xd.Sl!==this.c.Ia)a.deleteTexture(this.c.Xd),this.c.Xd=a.Xg(this.c.Ja,this.c.Ia,this.c.ab);a.Hg(this.c.Xd);this.c.Ve||a.gl(this.c.Ja,this.c.Ia)}else this.c.Xd&&
(a.Hg(null),a.deleteTexture(this.c.Xd),this.c.Xd=null);this.c.dr&&!this.tw()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Ba.length;c<d;c++)e=this.Ba[c],e.visible&&0<e.opacity&&(e.C.length||!e.Ih)?e.zf(a):e.tu();b&&(0===this.Ra.length||1===this.Ra.length&&this.c.Ve?(1===this.Ra.length?(b=this.Ra[0].index,a.Ig(this.Ra[0].Qc),a.fl(null,1/this.c.Ja,1/this.c.Ia,0,0,1,1,this.scale,this.M,0,0,this.c.Ja/2,this.c.Ia/2,this.Hb[b]),a.Np(this.Ra[0].Qc)&&(this.c.mb=!0)):a.Ig(0),this.c.Ve||a.gl(this.c.width,this.c.height),
a.Hg(null),a.el(1),a.Fe(this.c.Xd),a.ky(),a.Fi(),a.Qi(),b=this.c.width/2,c=this.c.height/2,a.Op(-b,c,b,c,b,-c,-b,-c),a.Fe(null)):this.Qt(a,null,null,null))};a.prototype.jm=function(){return 0<this.Ra.length||this.c.ll||!this.c.Ve?this.c.Xd:null};a.prototype.ow=function(){var a=this.Ba[0].Cf(),b,c,d;b=1;for(c=this.Ba.length;b<c;b++)d=this.Ba[b],(0!==d.ef||0!==d.ff)&&d.Cf()<a&&(a=d.Cf());return a};a.prototype.Yt=function(a){if(!this.Ny){var b=1/this.ow()*this.c.Ja/2;a>this.width-b&&(a=this.width-b);
a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.c.mb=!0)};a.prototype.Zt=function(a){if(!this.Ny){var b=1/this.ow()*this.c.Ia/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.c.mb=!0)};a.prototype.UA=function(){this.Yt(this.scrollX);this.Zt(this.scrollY)};a.prototype.Qt=function(a,b,c,d){var e=c?c.Ra:b?b.Ra:this.Ra,f=1,p=0,g=0,m=0,l=this.c.Ja,n=this.c.Ia;c?(f=c.S.Cf(),p=c.S.Af(),g=c.S.Nb,m=c.S.Ob,l=c.S.jc,n=c.S.ic):b&&(f=b.Cf(),p=b.Af(),g=b.Nb,m=b.Ob,l=b.jc,
n=b.ic);var A=this.c.Sr,B,D,G,E,H=0,F=1,ca,da=this.c.Ja,Y=this.c.Ia,ua=da/2,X=Y/2,M=b?b.Mt:this.Mt,K=b?b.Nt:this.Nt,L=0,N=0,I=0,S=0,R=da,ia=da,Q=Y,T=Y,ka=G=0,va=c?c.S.Af():0;if(c){B=0;for(D=e.length;B<D;B++)G+=a.xC(e[B].Qc),ka+=a.yC(e[B].Qc);E=c.Zb;L=b.ud(E.left,E.top,!0,!0);I=b.ud(E.left,E.top,!1,!0);R=b.ud(E.right,E.bottom,!0,!0);Q=b.ud(E.right,E.bottom,!1,!0);0!==va&&(B=b.ud(E.right,E.top,!0,!0),D=b.ud(E.right,E.top,!1,!0),N=b.ud(E.left,E.bottom,!0,!0),S=b.ud(E.left,E.bottom,!1,!0),E=Math.min(L,
R,B,N),R=Math.max(L,R,B,N),L=E,E=Math.min(I,Q,D,S),Q=Math.max(I,Q,D,S),I=E);L-=G;I-=ka;R+=G;Q+=ka;K.left=L/da;K.top=1-I/Y;K.right=R/da;K.bottom=1-Q/Y;N=L=qa(L);S=I=qa(I);ia=R=ra(R);T=Q=ra(Q);N-=G;S-=ka;ia+=G;T+=ka;0>L&&(L=0);0>I&&(I=0);R>da&&(R=da);Q>Y&&(Q=Y);0>N&&(N=0);0>S&&(S=0);ia>da&&(ia=da);T>Y&&(T=Y);M.left=L/da;M.top=1-I/Y;M.right=R/da;M.bottom=1-Q/Y}else M.left=K.left=0,M.top=K.top=0,M.right=K.right=1,M.bottom=K.bottom=1;ka=c&&((c.M||va)&&a.dn(e[0].Qc)||0!==G||0!==ka||1!==c.opacity||c.type.Hc.Ex)||
b&&!c&&1!==b.opacity;a.ky();if(ka){A[H]||(A[H]=a.Xg(da,Y,this.c.ab));if(A[H].Tl!==da||A[H].Sl!==Y)a.deleteTexture(A[H]),A[H]=a.Xg(da,Y,this.c.ab);a.Ig(0);a.Hg(A[H]);ca=T-S;a.clearRect(N,Y-S-ca,ia-N,ca);c?c.zf(a):(a.Fe(this.c.xe),a.el(b.opacity),a.Fi(),a.translate(-ua,-X),a.Qi(),a.Ci(L,Q,R,Q,R,I,L,I,M));K.left=K.top=0;K.right=K.bottom=1;c&&(E=M.top,M.top=M.bottom,M.bottom=E);H=1;F=0}a.el(1);G=e.length-1;var va=a.Ht(e[G].Qc)||!b&&!c&&!this.c.Ve,wa=0;B=0;for(D=e.length;B<D;B++){A[H]||(A[H]=a.Xg(da,Y,
this.c.ab));if(A[H].Tl!==da||A[H].Sl!==Y)a.deleteTexture(A[H]),A[H]=a.Xg(da,Y,this.c.ab);a.Ig(e[B].Qc);wa=e[B].index;a.Np(e[B].Qc)&&(this.c.mb=!0);0!=B||ka?(a.fl(d,1/da,1/Y,K.left,K.top,K.right,K.bottom,f,p,g,m,(g+l)/2,(m+n)/2,c?c.Hb[wa]:b?b.Hb[wa]:this.Hb[wa]),a.Fe(null),B!==G||va?(a.Hg(A[H]),ca=T-S,E=Y-S-ca,a.clearRect(N,E,ia-N,ca)):(c?a.Hi(c.gd,c.bd):b&&a.Hi(b.gd,b.bd),a.Hg(d)),a.Fe(A[F]),a.Fi(),a.translate(-ua,-X),a.Qi(),a.Ci(L,Q,R,Q,R,I,L,I,M),B!==G||va||a.Fe(null)):(a.Hg(A[H]),ca=T-S,E=Y-S-
ca,a.clearRect(N,E,ia-N,ca),c?(a.fl(d,1/c.width,1/c.height,K.left,K.top,K.right,K.bottom,f,p,g,m,(g+l)/2,(m+n)/2,c.Hb[wa]),c.zf(a)):(a.fl(d,1/da,1/Y,0,0,1,1,f,p,g,m,(g+l)/2,(m+n)/2,b?b.Hb[wa]:this.Hb[wa]),a.Fe(b?this.c.xe:this.c.Xd),a.Fi(),a.translate(-ua,-X),a.Qi(),a.Ci(L,Q,R,Q,R,I,L,I,M)),K.left=K.top=0,K.right=K.bottom=1,c&&!va&&(E=Q,Q=I,I=E));H=0===H?1:0;F=0===H?1:0}va&&(a.Ig(0),c?a.Hi(c.gd,c.bd):b?a.Hi(b.gd,b.bd):this.c.Ve||(a.gl(this.c.width,this.c.height),ua=this.c.width/2,X=this.c.height/
2,I=L=0,R=this.c.width,Q=this.c.height),a.Hg(d),a.Fe(A[F]),a.Fi(),a.translate(-ua,-X),a.Qi(),c&&1===e.length&&!ka?a.Ci(L,I,R,I,R,Q,L,Q,M):a.Ci(L,Q,R,Q,R,I,L,I,M),a.Fe(null))};a.prototype.Ro=function(a){var b,c;b=0;for(c=this.Ba.length;b<c;b++)if(this.Ba[b].Ka===a)return this.Ba[b];return null};a.prototype.Dd=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.M,w:this.width,h:this.height,fv:this.xk,persist:this.Ai,fx:[],layers:{}};a=0;for(b=this.qa.length;a<b;a++)c=this.qa[a],
d.fx.push({name:c.name,active:c.Yc,params:this.Hb[c.index]});a=0;for(b=this.Ba.length;a<b;a++)c=this.Ba[a],d.layers[c.Ka.toString()]=c.Dd();return d};a.prototype.Yd=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.M=a.a;this.width=a.w;this.height=a.h;this.Ai=a.persist;"undefined"!==typeof a.fv&&(this.xk=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.Vr(f[b].name))d.Yc=f[b].active,this.Hb[d.index]=f[b].params;this.Jh();b=a.layers;for(e in b)b.hasOwnProperty(e)&&
(a=this.Ro(parseInt(e,10)))&&a.Yd(b[e])};wb=a;b.prototype.Jh=function(){this.Ra.length=0;var a,b,c;a=0;for(b=this.qa.length;a<b;a++)c=this.qa[a],c.Yc&&this.Ra.push(c)};b.prototype.Vr=function(a){var b,c,d;b=0;for(c=this.qa.length;b<c;b++)if(d=this.qa[b],d.name===a)return d;return null};b.prototype.$A=function(){var a,b,c,d,e,g;b=a=0;for(c=this.Bk.length;a<c;a++){d=this.Bk[a];e=this.c.V[d[1]];g=this.c.qu(e);e=!0;if(!g||this.rc.xk)d=this.c.jj(d,this,!0),f.push(d),d.type.global&&(e=!1);e&&(this.Bk[b]=
this.Bk[a],b++)}this.Bk.length=b;this.c.Vc();!this.c.da&&this.qa.length&&(this.Gd=this.EB);this.Vl=$a(this.Gd);this.c.U&&ab(this,this.Gd,this.c.U);this.Fh=!0};b.prototype.dl=function(a,b){var c=Ca(this.C,a);0>c||(b&&this.Xf&&a.Ld&&a.Ld.right>=a.Ld.left&&(a.Za(),this.be.update(a,a.Ld,null),a.Ld.set(0,0,-1,-1)),c===this.C.length-1?this.C.pop():(za(this.C,c),this.kn(c)),this.Fh=!0)};b.prototype.Pl=function(a,b){a.$f=this.C.length;this.C.push(a);b&&this.Xf&&a.Ld&&a.X();this.Fh=!0};b.prototype.fE=function(a){this.C.unshift(a);
this.kn(0)};b.prototype.TD=function(a,b,c){var d=a.rg();b=b.rg();za(this.C,d);d<b&&b--;c&&b++;b===this.C.length?this.C.push(a):this.C.splice(b,0,a);this.kn(d<b?d:b)};b.prototype.kn=function(a){-1===this.Mh?this.Mh=a:a<this.Mh&&(this.Mh=a);this.Fh=this.Yj=!0};b.prototype.uu=function(){if(this.Yj){-1===this.Mh&&(this.Mh=0);var a,b,c;if(this.Xf)for(a=this.Mh,b=this.C.length;a<b;++a)c=this.C[a],c.$f=a,this.be.JD(c.Ld);else for(a=this.Mh,b=this.C.length;a<b;++a)this.C[a].$f=a;this.Yj=!1;this.Mh=-1}};b.prototype.Cf=
function(a){return this.vC()*(this.c.Ve||a?this.c.Ql:1)};b.prototype.vC=function(){return(this.scale*this.rc.scale-1)*this.ag+1};b.prototype.Af=function(){return this.mj?0:Ga(this.rc.M+this.M)};var l=[],n=[],m=[];b.prototype.pw=function(){this.uu();this.be.Pp(this.Nb,this.Ob,this.jc,this.ic,m);if(!m.length)return d();if(1===m.length){var a=d();Aa(a,m[0]);m.length=0;return a}for(var b=!0;1<m.length;){for(var a=m,c=void 0,f=void 0,g=void 0,l=void 0,p=void 0,c=0,f=a.length;c<f-1;c+=2){var g=a[c],l=a[c+
1],p=d(),z=g,C=l,J=p,x=0,A=0,B=0,D=z.length,G=C.length,E=void 0,H=void 0;for(J.length=D+G;x<D&&A<G;++B)E=z[x],H=C[A],E.$f<H.$f?(J[B]=E,++x):(J[B]=H,++A);for(;x<D;++x,++B)J[B]=z[x];for(;A<G;++A,++B)J[B]=C[A];b||(e(g),e(l));n.push(p)}1===f%2&&(b?(g=d(),Aa(g,a[f-1]),n.push(g)):n.push(a[f-1]));Aa(a,n);n.length=0;b=!1}a=m[0];m.length=0;return a};b.prototype.$h=function(a){this.Ei=this.Or||1!==this.opacity||0!==this.Gd;var b=this.c.canvas,c=a,d=!1;this.Ei&&(this.c.kp||(this.c.kp=document.createElement("canvas"),
b=this.c.kp,b.width=this.c.Ja,b.height=this.c.Ia,this.c.Sw=b.getContext("2d"),d=!0),b=this.c.kp,c=this.c.Sw,b.width!==this.c.Ja&&(b.width=this.c.Ja,d=!0),b.height!==this.c.Ia&&(b.height=this.c.Ia,d=!0),d&&(c.webkitImageSmoothingEnabled=this.c.ab,c.mozImageSmoothingEnabled=this.c.ab,c.msImageSmoothingEnabled=this.c.ab,c.imageSmoothingEnabled=this.c.ab),this.Ih&&c.clearRect(0,0,this.c.Ja,this.c.Ia));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Ih||(c.fillStyle="rgb("+this.Vh[0]+","+
this.Vh[1]+","+this.Vh[2]+")",c.fillRect(0,0,this.c.Ja,this.c.Ia));c.save();this.mj=!0;var d=this.qd(0,0,!0,!0),f=this.qd(0,0,!1,!0);this.mj=!1;this.c.Bi&&(d=Math.round(d),f=Math.round(f));this.St(d,f,c);var g=this.Cf();c.scale(g,g);c.translate(-d,-f);this.Xf?(this.Te.left=this.be.ke(this.Nb),this.Te.top=this.be.le(this.Ob),this.Te.right=this.be.ke(this.jc),this.Te.bottom=this.be.le(this.ic),this.Fh||!this.Te.Bo(this.gp)?(e(this.Jk),d=this.pw(),this.Fh=!1,this.gp.so(this.Te)):d=this.Jk):d=this.C;
for(var p,m=null,f=0,g=d.length;f<g;++f)p=d[f],p!==m&&(this.uB(p,c),m=p);this.Xf&&(this.Jk=d);c.restore();this.Ei&&(a.globalCompositeOperation=this.Vl,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.uB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Za();var c=a.Zb;c.right<this.Nb||c.bottom<this.Ob||c.left>this.jc||c.top>this.ic||(b.globalCompositeOperation=a.Vl,a.$h(b))}};b.prototype.tu=function(){this.mj=!0;var a=this.qd(0,0,!0,!0),b=this.qd(0,0,!1,!0);this.mj=!1;this.c.Bi&&
(a=Math.round(a),b=Math.round(b));this.St(a,b,null)};b.prototype.St=function(a,b,c){var d=this.Cf();this.Nb=a;this.Ob=b;this.jc=a+1/d*this.c.Ja;this.ic=b+1/d*this.c.Ia;a=this.Af();0!==a&&(c&&(c.translate(this.c.Ja/2,this.c.Ia/2),c.rotate(-a),c.translate(this.c.Ja/-2,this.c.Ia/-2)),this.Hh.set(this.Nb,this.Ob,this.jc,this.ic),this.Hh.offset((this.Nb+this.jc)/-2,(this.Ob+this.ic)/-2),this.Hy.oy(this.Hh,a),this.Hy.Jv(this.Hh),this.Hh.offset((this.Nb+this.jc)/2,(this.Ob+this.ic)/2),this.Nb=this.Hh.left,
this.Ob=this.Hh.top,this.jc=this.Hh.right,this.ic=this.Hh.bottom)};b.prototype.zf=function(a){var b=0,c=0;if(this.Ei=this.Or||1!==this.opacity||0<this.Ra.length||0!==this.Gd){this.c.xe||(this.c.xe=a.Xg(this.c.Ja,this.c.Ia,this.c.ab));if(this.c.xe.Tl!==this.c.Ja||this.c.xe.Sl!==this.c.Ia)a.deleteTexture(this.c.xe),this.c.xe=a.Xg(this.c.Ja,this.c.Ia,this.c.ab);a.Hg(this.c.xe);this.Ih&&a.clear(0,0,0,0)}this.Ih||a.clear(this.Vh[0]/255,this.Vh[1]/255,this.Vh[2]/255,1);this.mj=!0;var d=this.qd(0,0,!0,!0),
b=this.qd(0,0,!1,!0);this.mj=!1;this.c.Bi&&(d=Math.round(d),b=Math.round(b));this.St(d,b,null);d=this.Cf();a.Fi();a.scale(d,d);a.fy(-this.Af());a.translate((this.Nb+this.jc)/-2,(this.Ob+this.ic)/-2);a.Qi();this.Xf?(this.Te.left=this.be.ke(this.Nb),this.Te.top=this.be.le(this.Ob),this.Te.right=this.be.ke(this.jc),this.Te.bottom=this.be.le(this.ic),this.Fh||!this.Te.Bo(this.gp)?(e(this.Jk),b=this.pw(),this.Fh=!1,this.gp.so(this.Te)):b=this.Jk):b=this.C;var f,g,p=null,c=0;for(f=b.length;c<f;++c)g=b[c],
g!==p&&(this.vB(b[c],a),p=g);this.Xf&&(this.Jk=b);this.Ei&&(b=this.Ra.length?this.Ra[0].Qc:0,c=this.Ra.length?this.Ra[0].index:0,0===this.Ra.length||1===this.Ra.length&&!a.Ht(b)&&1===this.opacity?(1===this.Ra.length?(a.Ig(b),a.fl(this.rc.jm(),1/this.c.Ja,1/this.c.Ia,0,0,1,1,d,this.Af(),this.Nb,this.Ob,(this.Nb+this.jc)/2,(this.Ob+this.ic)/2,this.Hb[c]),a.Np(b)&&(this.c.mb=!0)):a.Ig(0),a.Hg(this.rc.jm()),a.el(this.opacity),a.Fe(this.c.xe),a.Hi(this.gd,this.bd),a.Fi(),a.Qi(),d=this.c.Ja/2,b=this.c.Ia/
2,a.Op(-d,b,d,b,d,-b,-d,-b),a.Fe(null)):this.rc.Qt(a,this,null,this.rc.jm()))};b.prototype.vB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Za();var c=a.Zb;c.right<this.Nb||c.bottom<this.Ob||c.left>this.jc||c.top>this.ic||(a.Vy?this.wB(a,b):(b.Ig(0),b.Hi(a.gd,a.bd),a.zf(b)))}};b.prototype.wB=function(a,b){var c=a.Ra[0].Qc,d=a.Ra[0].index,e=this.Cf();if(1!==a.Ra.length||b.Ht(c)||b.hE(c)||(a.M||a.S.Af())&&b.dn(c)||1!==a.opacity||a.type.Hc.Ex)this.rc.Qt(b,this,a,this.Ei?this.c.xe:this.rc.jm()),
b.Fi(),b.scale(e,e),b.fy(-this.Af()),b.translate((this.Nb+this.jc)/-2,(this.Ob+this.ic)/-2),b.Qi();else{b.Ig(c);b.Hi(a.gd,a.bd);b.Np(c)&&(this.c.mb=!0);var f=0,p=0,g=0,m=0;b.dn(c)&&(c=a.Zb,f=this.ud(c.left,c.top,!0,!0),p=this.ud(c.left,c.top,!1,!0),g=this.ud(c.right,c.bottom,!0,!0),c=this.ud(c.right,c.bottom,!1,!0),f/=windowWidth,p=1-p/windowHeight,g/=windowWidth,m=1-c/windowHeight);b.fl(this.Ei?this.c.xe:this.rc.jm(),1/a.width,1/a.height,f,p,g,m,e,this.Af(),this.Nb,this.Ob,(this.Nb+this.jc)/2,(this.Ob+
this.ic)/2,a.Hb[d]);a.zf(b)}};b.prototype.qd=function(a,b,c,d){var e=this.c.devicePixelRatio;this.c.uj&&(a*=e,b*=e);var e=this.c.Px,f=this.c.Qx,e=(this.rc.scrollX-e)*this.ef+e,f=(this.rc.scrollY-f)*this.ff+f,p=e,g=f,m=1/this.Cf(!d);d?(p-=this.c.Ja*m/2,g-=this.c.Ia*m/2):(p-=this.c.width*m/2,g-=this.c.height*m/2);p+=a*m;g+=b*m;b=this.Af();0!==b&&(p-=e,g-=f,a=Math.cos(b),b=Math.sin(b),d=p*a-g*b,g=g*a+p*b,p=d+e,g+=f);return c?p:g};b.prototype.ud=function(a,b,c,d){var e=this.c.Px,f=this.c.Qx,p=(this.rc.scrollX-
e)*this.ef+e,g=(this.rc.scrollY-f)*this.ff+f,f=p,e=g,m=this.Af();if(0!==m){a-=p;b-=g;var l=Math.cos(-m),m=Math.sin(-m),n=a*l-b*m;b=b*l+a*m;a=n+p;b+=g}p=1/this.Cf(!d);d?(f-=this.c.Ja*p/2,e-=this.c.Ia*p/2):(f-=this.c.width*p/2,e-=this.c.height*p/2);f=(a-f)/p;e=(b-e)/p;a=this.c.devicePixelRatio;this.c.uj&&!d&&(f/=a,e/=a);return c?f:e};b.prototype.Dd=function(){var a,b,c,d={s:this.scale,a:this.M,vl:this.Nb,vt:this.Ob,vr:this.jc,vb:this.ic,v:this.visible,bc:this.Vh,t:this.Ih,px:this.ef,py:this.ff,o:this.opacity,
zr:this.ag,fx:[],instances:[]};a=0;for(b=this.qa.length;a<b;a++)c=this.qa[a],d.fx.push({name:c.name,active:c.Yc,params:this.Hb[c.index]});return d};b.prototype.Yd=function(a){var b,d;this.scale=a.s;this.M=a.a;this.Nb=a.vl;this.Ob=a.vt;this.jc=a.vr;this.ic=a.vb;this.visible=a.v;this.Vh=a.bc;this.Ih=a.t;this.ef=a.px;this.ff=a.py;this.opacity=a.o;this.ag=a.zr;var e=a.fx;a=0;for(b=e.length;a<b;a++)if(d=this.Vr(e[a].name))d.Yc=e[a].active,this.Hb[d.index]=e[a].params;this.Jh();this.C.sort(c);this.Yj=!0};
Kb=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,k,f;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=r.length&&(r.length=b.length+1);r[b.length]||(r[b.length]=[]);f=r[b.length];d=0;for(e=f.length;d<e;d++)if(k=f[d],a(b,k))return k;f.push(b);return b}
function d(a,b){this.c=a;this.Jy={};this.ew={};this.bs=!1;this.vw=new ba;this.Cr=[];this.er=[];this.name=b[0];var c=b[1];this.bi=[];var d,e;d=0;for(e=c.length;d<e;d++)this.yw(c[d],null,this.bi)}function e(a){this.type=a;this.C=[];this.Va=[];this.Fb=!0}function f(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.Wb=[];this.Ii=[];this.uw=this.pq=this.nu=this.ks=this.group=this.wy=!1;this.Zc=[];this.sf=[];this.kf=[];this.lm="";this.Vo=this.ks=this.group=!1;this.Sv=null;c[1]&&(this.lm=c[1][1].toLowerCase(),
this.group=!0,this.ks=!!c[1][0],this.Sv=[],this.Vo=this.ks,this.c.nk.push(this),this.c.Wo[this.lm]=this);this.Cg=c[2];this.Ka=c[4];this.group||(this.c.Iv[this.Ka.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Lb(this,d[a]);e.index=a;this.Zc.push(e);this.xv(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Mb(this,d[a]),e.index=a,this.sf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.yw(c[a],this,this.kf);this.$o=!1;this.Zc.length&&(this.$o=null==this.Zc[0].type&&
this.Zc[0].Nc==dc.prototype.T.rz)}function g(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Gf))for(c=0,d=a.Sd.length;c<d;c++)e=a.Sd[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function l(a,b){this.ne=a;this.sheet=a.sheet;this.c=a.c;this.va=[];this.gb=[];this.ka={};this.index=-1;this.Nl=!1;this.Nc=this.c.Qh(b[1]);this.trigger=0<b[3];this.dw=2===b[3];this.os=b[5];this.jD=b[6];this.Ka=b[7];this.c.qk[this.Ka.toString()]=this;-1===b[0]?(this.type=null,this.tc=this.Vt,this.fj=null,this.Qe=-1):(this.type=
this.c.V[b[0]],this.tc=this.jD?this.qE:this.Ut,b[2]?(this.fj=this.type.No(b[2]),this.Qe=this.type.Ur(b[2])):(this.fj=null,this.Qe=-1),this.ne.parent&&this.ne.parent.Wp());this.dw&&(this.tc=this.rE);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var k=new Nb(this,e[c]);this.va.push(k)}this.gb.length=e.length}}function n(a,b){this.ne=a;this.sheet=a.sheet;this.c=a.c;this.va=[];this.gb=[];this.ka={};this.index=-1;this.Nl=!1;this.Nc=this.c.Qh(b[1]);-1===b[0]?(this.type=null,this.tc=this.Vt,
this.fj=null,this.Qe=-1):(this.type=this.c.V[b[0]],this.tc=this.Ut,b[2]?(this.fj=this.type.No(b[2]),this.Qe=this.type.Ur(b[2])):(this.fj=null,this.Qe=-1));this.Ka=b[3];this.c.mk[this.Ka.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var k=new Nb(this,e[c]);this.va.push(k)}this.gb.length=e.length}}function m(a,b){this.ea=a;this.ne=a.ne;this.sheet=a.sheet;this.c=a.c;this.type=b[0];this.og=null;this.Ji=0;this.get=null;this.Rv=0;this.rc=null;this.key=0;this.object=null;this.index=
0;this.wn=this.Wj=this.wn=this.Wj=this.fw=this.oj=this.xn=null;this.lf=!1;var c,d,e;switch(b[0]){case 0:case 7:this.og=new Ob(this,b[1]);this.Ji=0;this.get=this.HC;break;case 1:this.og=new Ob(this,b[1]);this.Ji=0;this.get=this.IC;break;case 5:this.og=new Ob(this,b[1]);this.Ji=0;this.get=this.MC;break;case 3:case 8:this.Rv=b[1];this.get=this.FC;break;case 6:this.rc=this.c.Is[b[1]];this.get=this.NC;break;case 9:this.key=b[1];this.get=this.LC;break;case 4:this.object=this.c.V[b[1]];this.get=this.OC;
this.ne.xv(this.object);this.ea instanceof Mb?this.ne.Wp():this.ne.parent&&this.ne.parent.Wp();break;case 10:this.index=b[1];a.type.Aa?(this.get=this.JC,this.lf=!0):this.get=this.KC;break;case 11:this.xn=b[1];this.oj=null;this.get=this.GC;break;case 2:case 12:this.fw=b[1];this.get=this.EC;break;case 13:for(this.get=this.PC,this.Wj=[],this.wn=[],c=1,d=b.length;c<d;c++)e=new Nb(this.ea,b[c]),this.Wj.push(e),this.wn.push(0)}}function h(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.Wb=[];this.name=
c[1];this.hs=c[3];this.wm=!!c[4];this.Zo=!!c[5];this.Ka=c[6];this.c.nl[this.Ka.toString()]=this;this.data=this.hs;this.parent?(this.Gj=this.wm||this.Zo?-1:this.c.yE++,this.c.MA.push(this)):(this.Gj=-1,this.c.LA.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.Wb=[];this.pm=null;this.WC=c[1];this.Yc=!0}function q(){this.Ay=[];this.reset(null)}var r=[];d.prototype.toString=function(){return this.name};d.prototype.yw=function(a,b,c){switch(a[0]){case 0:a=new Pb(this,b,a);if(a.Cg)for(c.push(a),
c=0,b=a.Zc.length;c<b;c++)a.Zc[c].trigger&&this.zw(a,c);else a.Jw()?this.zw(a,0):c.push(a);break;case 1:a=new Hb(this,b,a);c.push(a);break;case 2:a=new Qb(this,b,a),c.push(a)}};d.prototype.Vb=function(){var a,b;a=0;for(b=this.bi.length;a<b;a++)this.bi[a].Vb(a<b-1&&this.bi[a+1].$o)};d.prototype.Ry=function(){this.Cr.length=0;this.er.length=0;this.wv(this);this.er.length=0};d.prototype.wv=function(a){var b,c,d,e,k=a.Cr,f=a.er,g=this.vw.Zf();b=0;for(c=g.length;b<c;++b)d=g[b],e=d.pm,!d.Yc||a===e||-1<
f.indexOf(e)||(f.push(e),e.wv(a),k.push(e))};d.prototype.tc=function(a){this.c.qG||(this.bs=!0,a||(this.c.rs=!0));var b,c;b=0;for(c=this.bi.length;b<c;b++){var d=this.bi[b];d.tc();this.c.or(d.Wb);this.c.fi&&this.c.Vc()}a||(this.c.rs=!1)};d.prototype.zw=function(a,b){a.Cg||this.c.tq.push(a);var c,d,e=a.Zc[b],k;k=e.type?e.type.name:"system";var f=(c=e.dw)?this.ew:this.Jy;f[k]||(f[k]=[]);k=f[k];f=e.Nc;if(c){if(e.va.length&&(e=e.va[0],1===e.type&&2===e.og.type)){e=e.og.value.toLowerCase();c=0;for(d=k.length;c<
d;c++)if(k[c].method==f){c=k[c].cm;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];k.push({method:f,cm:c})}}else{c=0;for(d=k.length;c<d;c++)if(k[c].method==f){k[c].cm.push([a,b]);return}fc&&f===fc.prototype.T.jk?k.unshift({method:f,cm:[[a,b]]}):k.push({method:f,cm:[[a,b]]})}};xb=d;e.prototype.as=function(){return this.Fb?this.type.C.length:this.C.length};e.prototype.Bf=function(){return this.Fb?this.type.C:this.C};e.prototype.an=function(a){a&&(a.c.Ud().xf.Cg?(this.Fb&&(this.C.length=
0,Aa(this.Va,a.type.C),this.Fb=!1),a=this.Va.indexOf(a),-1!==a&&(this.C.push(this.Va[a]),this.Va.splice(a,1))):(this.Fb=!1,this.C.length=1,this.C[0]=a))};gb=e;window._c2hh_="";f.prototype.Vb=function(a){var c,d=this.parent;if(this.group)for(this.pq=!0;d;){if(!d.group){this.pq=!1;break}d=d.parent}this.nu=!this.Jw()&&(!this.parent||this.parent.group&&this.parent.pq);this.uw=!!a;this.Ii=this.Wb.slice(0);for(d=this.parent;d;){a=0;for(c=d.Wb.length;a<c;a++)this.JA(d.Wb[a]);d=d.parent}this.Wb=b(this.Wb);
this.Ii=b(this.Ii);a=0;for(c=this.Zc.length;a<c;a++)this.Zc[a].Vb();a=0;for(c=this.sf.length;a<c;a++)this.sf[a].Vb();a=0;for(c=this.kf.length;a<c;a++)this.kf[a].Vb(a<c-1&&this.kf[a+1].$o)};f.prototype.xv=function(a){g(a,this.Wb)};f.prototype.JA=function(a){g(a,this.Ii)};f.prototype.Wp=function(){this.wy=!0;this.parent&&this.parent.Wp()};f.prototype.Jw=function(){return this.Zc.length?this.Zc[0].trigger:!1};f.prototype.tc=function(){var a,b=!1,c,d=this.c,e=this.c.Ud();e.xf=this;var k=this.Zc;this.$o||
(e.Er=!1);if(this.Cg){0===k.length&&(b=!0);e.Hd=0;for(a=k.length;e.Hd<a;e.Hd++)k[e.Hd].trigger||(c=k[e.Hd].tc())&&(b=!0);(e.Aj=b)&&this.Tt()}else{e.Hd=0;for(a=k.length;e.Hd<a;e.Hd++)if(c=k[e.Hd].tc(),!c){e.Aj=!1;this.nu&&d.fi&&d.Vc();return}e.Aj=!0;this.Tt()}this.HB(e)};f.prototype.HB=function(a){a.Aj&&this.uw&&(a.Er=!0);this.nu&&this.c.fi&&this.c.Vc()};f.prototype.oE=function(a){this.c.Ud().xf=this;this.Zc[a].tc()&&(this.Tt(),this.c.Ud().Aj=!0)};f.prototype.Tt=function(){var a=this.c.Ud(),b;a.Pe=
0;for(b=this.sf.length;a.Pe<b;a.Pe++)if(this.sf[a.Pe].tc())return;this.gy()};f.prototype.mE=function(){var a=this.c.Ud(),b;for(b=this.sf.length;a.Pe<b;a.Pe++)if(this.sf[a.Pe].tc())return;this.gy()};f.prototype.gy=function(){if(this.kf.length){var a,b,c,d,e=this.kf.length-1;this.c.Jt(this);if(this.wy)for(a=0,b=this.kf.length;a<b;a++)c=this.kf[a],(d=!this.pq||!this.group&&a<e)&&this.c.It(c.Wb),c.tc(),d?this.c.bl(c.Wb):this.c.or(c.Wb);else for(a=0,b=this.kf.length;a<b;a++)this.kf[a].tc();this.c.Tx()}};
f.prototype.pE=function(){var a=this.c.Ud();a.xf=this;var b=!1,c;a.Hd=0;for(c=this.Zc.length;a.Hd<c;a.Hd++)if(this.Zc[a.Hd].tc())b=!0;else if(!this.Cg)return!1;return this.Cg?b:!0};f.prototype.eD=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Zc[b].type===a.type)return!1;return!0};Pb=f;l.prototype.Vb=function(){var a,b,c;a=0;for(b=this.va.length;a<b;a++)c=this.va[a],c.Vb(),c.lf&&(this.Nl=!0)};l.prototype.rE=function(){return!0};l.prototype.Vt=function(){var a,b;a=0;for(b=this.va.length;a<
b;a++)this.gb[a]=this.va[a].get();return Oa(this.Nc.apply(this.c.Jg,this.gb),this.os)};l.prototype.qE=function(){var a,b;a=0;for(b=this.va.length;a<b;a++)this.gb[a]=this.va[a].get();a=this.Nc.apply(this.fj?this.fj:this.type,this.gb);this.type.Ug();return a};l.prototype.Ut=function(){var a,b,c,d,e,k,f,g,h=this.type,m=h.pb(),l=this.ne.Cg&&!this.trigger;b=0;var q=h.Gf,r=h.Aa,n=h.gh,s=this.Qe,u=-1<s,X=this.Nl,M=this.va,K=this.gb,L=this.os,N=this.Nc,I;if(X)for(b=0,e=M.length;b<e;++b)k=M[b],k.lf||(K[b]=
k.get(0));else for(b=0,e=M.length;b<e;++b)K[b]=M[b].get(0);if(m.Fb){m.C.length=0;m.Va.length=0;I=h.C;a=0;for(d=I.length;a<d;++a){g=I[a];if(X)for(b=0,e=M.length;b<e;++b)k=M[b],k.lf&&(K[b]=k.get(a));u?(b=0,r&&(b=g.type.wk[n]),b=N.apply(g.ta[s+b],K)):b=N.apply(g,K);(f=Oa(b,L))?m.C.push(g):l&&m.Va.push(g)}h.finish&&h.finish(!0);m.Fb=!1;h.Ug();return m.as()}c=0;I=(f=l&&!this.ne.eD(this))?m.Va:m.C;var S=!1;a=0;for(d=I.length;a<d;++a){g=I[a];if(X)for(b=0,e=M.length;b<e;++b)k=M[b],k.lf&&(K[b]=k.get(a));u?
(b=0,r&&(b=g.type.wk[n]),b=N.apply(g.ta[s+b],K)):b=N.apply(g,K);if(Oa(b,L))if(S=!0,f){if(m.C.push(g),q)for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.pb().C.push(k)}else{I[c]=g;if(q)for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.pb().C[c]=k;c++}else if(f){I[c]=g;if(q)for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.pb().Va[c]=k;c++}else if(l&&(m.Va.push(g),q))for(b=0,e=g.siblings.length;b<e;b++)k=g.siblings[b],k.type.pb().Va.push(k)}I.length=c;if(q)for(r=h.Sd,a=0,
d=r.length;a<d;a++)g=r[a].pb(),f?g.Va.length=c:g.C.length=c;c=S;if(f&&!S)for(a=0,d=m.C.length;a<d;a++){g=m.C[a];if(X)for(b=0,e=M.length;b<e;b++)k=M[b],k.lf&&(K[b]=k.get(a));b=u?N.apply(g.ta[s],K):N.apply(g,K);if(Oa(b,L)){S=!0;break}}h.finish&&h.finish(c||l);return l?S:m.as()};Lb=l;n.prototype.Vb=function(){var a,b,c;a=0;for(b=this.va.length;a<b;a++)c=this.va[a],c.Vb(),c.lf&&(this.Nl=!0)};n.prototype.Vt=function(){var a,b;a=0;for(b=this.va.length;a<b;a++)this.gb[a]=this.va[a].get();return this.Nc.apply(this.c.Jg,
this.gb)};n.prototype.Ut=function(){var a=this.type.pb().Bf(),b=this.type.Aa,c=this.type.gh,d=this.Qe,e=-1<d,k=this.Nl,f=this.va,g=this.gb,h=this.Nc,m,l,q,r,n,s;if(k)for(l=0,r=f.length;l<r;++l)n=f[l],n.lf||(g[l]=n.get(0));else for(l=0,r=f.length;l<r;++l)g[l]=f[l].get(0);m=0;for(q=a.length;m<q;++m){s=a[m];if(k)for(l=0,r=f.length;l<r;++l)n=f[l],n.lf&&(g[l]=n.get(m));e?(l=0,b&&(l=s.type.wk[c]),h.apply(s.ta[d+l],g)):h.apply(s,g)}return!1};Mb=n;var s=[],u=-1;m.prototype.Vb=function(){var a,b;if(11===this.type)this.oj=
this.c.kw(this.xn,this.ne.parent);else if(13===this.type)for(a=0,b=this.Wj.length;a<b;a++)this.Wj[a].Vb();this.og&&this.og.Vb()};m.prototype.OD=function(a){this.lf||!a||a.Hc.$p||(this.lf=!0)};m.prototype.my=function(){this.lf=!0};m.prototype.sc=function(){u++;s.length===u&&s.push(new Rb);return s[u]};m.prototype.hc=function(){u--};m.prototype.HC=function(a){this.Ji=a||0;a=this.sc();this.og.get(a);this.hc();return a.data};m.prototype.IC=function(a){this.Ji=a||0;a=this.sc();this.og.get(a);this.hc();
return v(a.data)?a.data:""};m.prototype.OC=function(){return this.object};m.prototype.FC=function(){return this.Rv};m.prototype.MC=function(a){this.Ji=a||0;a=this.sc();this.og.get(a);this.hc();return a.Dc()?this.c.hm(a.data):this.c.Xr(a.data)};m.prototype.NC=function(){return this.rc};m.prototype.LC=function(){return this.key};m.prototype.KC=function(){return this.index};m.prototype.JC=function(a){a=a||0;var b=this.ea.type,c=null,c=b.pb(),d=c.Bf();if(d.length)c=d[a%d.length].type;else if(c.Va.length)c=
c.Va[a%c.Va.length].type;else if(b.C.length)c=b.C[a%b.C.length].type;else return 0;return this.index+c.Eo[b.gh]};m.prototype.GC=function(){return this.oj};m.prototype.EC=function(){return this.fw};m.prototype.PC=function(){var a,b;a=0;for(b=this.Wj.length;a<b;a++)this.wn[a]=this.Wj[a].get();return this.wn};Nb=m;h.prototype.Vb=function(){this.Wb=b(this.Wb)};h.prototype.vE=function(a){var b=this.c.jw();this.parent&&!this.wm&&b?(this.Gj>=b.length&&(b.length=this.Gj+1),b[this.Gj]=a):this.data=a};h.prototype.DC=
function(){var a=this.c.jw();return!this.parent||this.wm||!a||this.Zo?this.data:this.Gj>=a.length||"undefined"===typeof a[this.Gj]?this.hs:a[this.Gj]};h.prototype.tc=function(){!this.parent||this.wm||this.Zo||this.vE(this.hs)};Hb=h;k.prototype.toString=function(){return"include:"+this.pm.toString()};k.prototype.Vb=function(){this.pm=this.c.Hr[this.WC];this.sheet.vw.add(this);this.Wb=b(this.Wb);for(var a=this.parent;a;)a.group&&a.Sv.push(this),a=a.parent;this.GE()};k.prototype.tc=function(){this.parent&&
this.c.gn(this.c.V);this.pm.bs||this.pm.tc(!0);this.parent&&this.c.bl(this.c.V)};k.prototype.GE=function(){for(var a=this.parent;a;){if(a.group&&!a.Vo){this.Yc=!1;return}a=a.parent}this.Yc=!0};Qb=k;q.prototype.reset=function(a){this.xf=a;this.Pe=this.Hd=0;this.Ay.length=0;this.Er=this.Aj=!1};Gb=q})();
(function(){function a(a,c){this.ea=a;this.c=a.c;this.type=c[0];this.get=[this.UB,this.QB,this.bC,this.eC,this.KB,this.cC,this.YB,this.NB,this.XB,this.aC,this.LB,this.$B,this.OB,this.ZB,this.VB,this.WB,this.RB,this.SB,this.MB,this.dC,this.bw,this.TB,this.bw,this.PB][this.type];var e=null;this.Kd=this.va=this.gb=this.Nc=this.kq=this.Ic=this.first=this.value=null;this.Qe=-1;this.jh=null;this.yu=-1;this.oj=this.xn=null;this.jn=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new Ob(a,c[1]);break;case 18:this.first=new Ob(a,c[1]);this.Ic=new Ob(a,c[2]);this.kq=new Ob(a,c[3]);break;case 19:this.Nc=this.c.Qh(c[1]);this.Nc!==dc.prototype.ue.random&&this.Nc!==dc.prototype.ue.WA||this.ea.my();this.gb=[];this.va=[];3===c.length?(e=c[2],this.gb.length=e.length+1):this.gb.length=1;break;case 20:this.Kd=this.c.V[c[1]];this.Qe=-1;this.Nc=this.c.Qh(c[2]);this.jn=c[3];Ub.Function&&this.Nc===Ub.Function.prototype.ue.ZE&&this.ea.my();this.jh=c[4]?new Ob(a,c[4]):null;this.gb=[];this.va=
[];6===c.length?(e=c[5],this.gb.length=e.length+1):this.gb.length=1;break;case 21:this.Kd=this.c.V[c[1]];this.jn=c[2];this.jh=c[3]?new Ob(a,c[3]):null;this.yu=c[4];break;case 22:this.Kd=this.c.V[c[1]];this.Kd.No(c[2]);this.Qe=this.Kd.Ur(c[2]);this.Nc=this.c.Qh(c[3]);this.jn=c[4];this.jh=c[5]?new Ob(a,c[5]):null;this.gb=[];this.va=[];7===c.length?(e=c[6],this.gb.length=e.length+1):this.gb.length=1;break;case 23:this.xn=c[1],this.oj=null}this.ea.OD(this.Kd);4<=this.type&&17>=this.type&&(this.first=
new Ob(a,c[1]),this.Ic=new Ob(a,c[2]));if(e){var f,g;f=0;for(g=e.length;f<g;f++)this.va.push(new Ob(a,e[f]))}}function c(a,c){this.type=a||Sb.ik;this.data=c||0;this.Zk=null;this.type==Sb.ik&&(this.data=Math.floor(this.data))}a.prototype.Vb=function(){23===this.type&&(this.oj=this.ea.c.kw(this.xn,this.ea.ne.parent));this.first&&this.first.Vb();this.Ic&&this.Ic.Vb();this.kq&&this.kq.Vb();this.jh&&this.jh.Vb();if(this.va){var a,c;a=0;for(c=this.va.length;a<c;a++)this.va[a].Vb()}};a.prototype.dC=function(a){this.gb[0]=
a;a=this.ea.sc();var c,e;c=0;for(e=this.va.length;c<e;c++)this.va[c].get(a),this.gb[c+1]=a.data;this.ea.hc();this.Nc.apply(this.c.Jg,this.gb)};a.prototype.bw=function(a){var c=this.Kd.pb(),e=c.Bf();if(!e.length)if(c.Va.length)e=c.Va;else{this.jn?a.Ge(""):a.hb(0);return}this.gb[0]=a;a.Zk=this.Kd;a=this.ea.sc();var f,c=0;for(f=this.va.length;c<f;c++)this.va[c].get(a),this.gb[c+1]=a.data;c=this.ea.Ji;this.jh&&(this.jh.get(a),a.Dc()&&(c=a.data,e=this.Kd.C));this.ea.hc();c%=e.length;0>c&&(c+=e.length);
e=e[c];-1<this.Qe?(a=0,this.Kd.Aa&&(a=e.type.wk[this.Kd.gh]),this.Nc.apply(e.ta[this.Qe+a],this.gb)):this.Nc.apply(e,this.gb)};a.prototype.TB=function(a){var c=this.Kd.pb(),e=c.Bf();if(!e.length)if(c.Va.length)e=c.Va;else{this.jn?a.Ge(""):a.hb(0);return}c=this.ea.Ji;if(this.jh){var f=this.ea.sc();this.jh.get(f);if(f.Dc()){c=f.data;e=this.Kd.C;c%=e.length;0>c&&(c+=e.length);e=e[c].qc[this.yu];v(e)?a.Ge(e):a.ha(e);this.ea.hc();return}this.ea.hc()}c%=e.length;0>c&&(c+=e.length);e=e[c];c=0;this.Kd.Aa&&
(c=e.type.Eo[this.Kd.gh]);e=e.qc[this.yu+c];v(e)?a.Ge(e):a.ha(e)};a.prototype.UB=function(a){a.type=Sb.ik;a.data=this.value};a.prototype.QB=function(a){a.type=Sb.dk;a.data=this.value};a.prototype.bC=function(a){a.type=Sb.String;a.data=this.value};a.prototype.eC=function(a){this.first.get(a);a.Dc()&&(a.data=-a.data)};a.prototype.KB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.Dc()&&c.Dc()&&(a.data+=c.data,c.Dk()&&a.Uk());this.ea.hc()};a.prototype.cC=function(a){this.first.get(a);
var c=this.ea.sc();this.Ic.get(c);a.Dc()&&c.Dc()&&(a.data-=c.data,c.Dk()&&a.Uk());this.ea.hc()};a.prototype.YB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.Dc()&&c.Dc()&&(a.data*=c.data,c.Dk()&&a.Uk());this.ea.hc()};a.prototype.NB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.Dc()&&c.Dc()&&(a.data/=c.data,a.Uk());this.ea.hc()};a.prototype.XB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.Dc()&&c.Dc()&&(a.data%=c.data,c.Dk()&&a.Uk());this.ea.hc()};
a.prototype.aC=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.Dc()&&c.Dc()&&(a.data=Math.pow(a.data,c.data),c.Dk()&&a.Uk());this.ea.hc()};a.prototype.LB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.Dc()?c.bp()?a.Ge(a.data.toString()+c.data):a.data&&c.data?a.hb(1):a.hb(0):a.bp()&&(a.data=c.bp()?a.data+c.data:a.data+(Math.round(1E10*c.data)/1E10).toString());this.ea.hc()};a.prototype.$B=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.Dc()&&c.Dc()&&
(a.data||c.data?a.hb(1):a.hb(0));this.ea.hc()};a.prototype.MB=function(a){this.first.get(a);a.data?this.Ic.get(a):this.kq.get(a)};a.prototype.OB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.hb(a.data===c.data?1:0);this.ea.hc()};a.prototype.ZB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.hb(a.data!==c.data?1:0);this.ea.hc()};a.prototype.VB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.hb(a.data<c.data?1:0);this.ea.hc()};a.prototype.WB=function(a){this.first.get(a);
var c=this.ea.sc();this.Ic.get(c);a.hb(a.data<=c.data?1:0);this.ea.hc()};a.prototype.RB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.hb(a.data>c.data?1:0);this.ea.hc()};a.prototype.SB=function(a){this.first.get(a);var c=this.ea.sc();this.Ic.get(c);a.hb(a.data>=c.data?1:0);this.ea.hc()};a.prototype.PB=function(a){var c=this.oj.DC();ja(c)?a.ha(c):a.Ge(c)};Ob=a;c.prototype.Dk=function(){return this.type===Sb.dk};c.prototype.Dc=function(){return this.type===Sb.ik||this.type===Sb.dk};
c.prototype.bp=function(){return this.type===Sb.String};c.prototype.Uk=function(){this.Dk()||(this.bp()&&(this.data=parseFloat(this.data)),this.type=Sb.dk)};c.prototype.hb=function(a){this.type=Sb.ik;this.data=Math.floor(a)};c.prototype.ha=function(a){this.type=Sb.dk;this.data=a};c.prototype.Ge=function(a){this.type=Sb.String;this.data=a};c.prototype.wE=function(a){ja(a)?(this.type=Sb.dk,this.data=a):v(a)?(this.type=Sb.String,this.data=a.toString()):(this.type=Sb.ik,this.data=0)};Rb=c;Sb={ik:0,dk:1,
String:2}})();function dc(a){this.c=a;this.he=[]}
dc.prototype.Dd=function(){var a={},c,b,d,e,f,g,l,n;a.waits=[];var m=a.waits,h;c=0;for(b=this.he.length;c<b;c++){g=this.he[c];h={t:g.time,st:g.xE,s:g.ty,ev:g.Zl.Ka,sm:[],sols:{}};g.Zl.sf[g.Pe]&&(h.act=g.Zl.sf[g.Pe].Ka);d=0;for(e=g.Wb.length;d<e;d++)h.sm.push(g.Wb[d].Ka);for(f in g.de)if(g.de.hasOwnProperty(f)){l=this.c.V[parseInt(f,10)];n={sa:g.de[f].jy,insts:[]};d=0;for(e=g.de[f].tj.length;d<e;d++)n.insts.push(g.de[f].tj[d].uid);h.sols[l.Ka.toString()]=n}m.push(h)}return a};
dc.prototype.Yd=function(a){a=a.waits;var c,b,d,e,f,g,l,n,m,h,k;c=this.he.length=0;for(b=a.length;c<b;c++)if(g=a[c],n=this.c.Iv[g.ev.toString()]){m=-1;d=0;for(e=n.sf.length;d<e;d++)if(n.sf[d].Ka===g.act){m=d;break}if(-1!==m){l={de:{},Wb:[],Yv:!1};l.time=g.t;l.xE=g.st||"";l.ty=!!g.s;l.Zl=n;l.Pe=m;d=0;for(e=g.sm.length;d<e;d++)(n=this.c.So(g.sm[d]))&&l.Wb.push(n);for(f in g.sols)if(g.sols.hasOwnProperty(f)&&(n=this.c.So(parseInt(f,10)))){m=g.sols[f];h={jy:m.sa,tj:[]};d=0;for(e=m.insts.length;d<e;d++)(k=
this.c.di(m.insts[d]))&&h.tj.push(k);l.de[n.index.toString()]=h}this.he.push(l)}}};
(function(){function a(){}function c(){}var b=dc.prototype;a.prototype.Tu=function(){return!0};a.prototype.$z=function(){return!0};a.prototype.rz=function(){var a=this.c.Ud();return a.Er?!1:!a.Aj};a.prototype.Uu=function(){return!0};a.prototype.Mz=function(){return!0};a.prototype.Qq=function(){return!0};a.prototype.aA=function(){return!0};a.prototype.Pq=function(){return!0};a.prototype.fz=function(a,b,c){return Ka(w(a),w(c))<=w(b)};a.prototype.zz=function(a,b){return Ma(w(a),w(b))};a.prototype.yz=
function(a,b,c){a=Ia(a);b=Ia(b);c=Ia(c);return Ma(c,b)?Ma(a,b)&&!Ma(a,c):!(!Ma(a,b)&&Ma(a,c))};b.T=new a;var d=[],e=[];b.Fd=new function(){};c.prototype["int"]=function(a,b){v(b)?(a.hb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.hb(b)};c.prototype["float"]=function(a,b){v(b)?(a.ha(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ha(b)};c.prototype.random=function(a,b,c){void 0===c?a.ha(Math.random()*b):a.ha(Math.random()*(c-b)+b)};c.prototype.sqrt=function(a,b){a.ha(Math.sqrt(b))};c.prototype.abs=function(a,
b){a.ha(Math.abs(b))};c.prototype.round=function(a,b){a.hb(Math.round(b))};c.prototype.floor=function(a,b){a.hb(Math.floor(b))};c.prototype.ceil=function(a,b){a.hb(Math.ceil(b))};c.prototype.sin=function(a,b){a.ha(Math.sin(w(b)))};c.prototype.cos=function(a,b){a.ha(Math.cos(w(b)))};c.prototype.tan=function(a,b){a.ha(Math.tan(w(b)))};c.prototype.asin=function(a,b){a.ha(Ea(Math.asin(b)))};c.prototype.acos=function(a,b){a.ha(Ea(Math.acos(b)))};c.prototype.atan=function(a,b){a.ha(Ea(Math.atan(b)))};c.prototype.exp=
function(a,b){a.ha(Math.exp(b))};c.prototype.log10=function(a,b){a.ha(Math.log(b)/Math.LN10)};c.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.ha(b)};c.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.ha(b)};c.prototype.ya=function(a){a.ha(this.c.ya)};c.prototype.Ni=
function(a){a.ha(this.c.Ni)};c.prototype.time=function(a){a.ha(this.c.wj.Rc)};c.prototype.Mi=function(a){a.hb(this.c.Mi)};c.prototype.Jp=function(a){a.hb(this.c.Jp)};c.prototype.Pr=function(a){a.hb(this.c.Pr)};c.prototype.bh=function(a,b,c,d,e){a.ha(Na(b,c,d,e))};c.prototype.M=function(a,b,c,d,e){a.ha(Ea(Ja(b,c,d,e)))};c.prototype.find=function(a,b,c){v(b)&&v(c)?a.hb(b.search(new RegExp(Wa(c),"i"))):a.hb(-1)};c.prototype.left=function(a,b,c){a.Ge(v(b)?b.substr(0,c):"")};c.prototype.right=function(a,
b,c){a.Ge(v(b)?b.substr(b.length-c):"")};c.prototype.replace=function(a,b,c,d){v(b)&&v(c)&&v(d)?a.Ge(b.replace(new RegExp(Wa(c),"gi"),d)):a.Ge(v(b)?b:"")};c.prototype.trim=function(a,b){a.Ge(v(b)?b.trim():"")};c.prototype.WA=function(a){var b=qa(Math.random()*(arguments.length-1));a.wE(arguments[b+1])};c.prototype.ur=function(a){a.ha(this.c.ur/1E3)};c.prototype.qp=function(a){a.ha(this.c.qp)};b.ue=new c;b.nE=function(){var a,b,c,n,m,h,k=this.c.Ud();a=0;for(c=this.he.length;a<c;a++){n=this.he[a];if(-1===
n.time){if(!n.ty)continue}else if(n.time>this.c.wj.Rc)continue;k.xf=n.Zl;k.Pe=n.Pe;k.Hd=0;for(b in n.de)n.de.hasOwnProperty(b)&&(m=this.c.V[parseInt(b,10)].pb(),h=n.de[b],m.Fb=h.jy,Aa(m.C,h.tj),m=h,m.tj.length=0,e.push(m));n.Zl.mE();this.c.or(n.Wb);n.Yv=!0}b=a=0;for(c=this.he.length;a<c;a++)n=this.he[a],this.he[b]=n,n.Yv?(Qa(n.de),n.Wb.length=0,d.push(n)):b++;this.he.length=b}})();
(function(){fb=function(a,b){var d=a[1],e=a[3],f=a[4],g=a[5],l=a[6],n=a[7],m=a[8];b.T||(b.T={});b.Fd||(b.Fd={});b.ue||(b.ue={});var h=b.T,k=b.Fd,q=b.ue;e&&(h.dF=function(a,b){return Tb(this.x,a,b)},h.eF=function(a,b){return Tb(this.y,a,b)},h.kF=function(){var a=this.S;this.Za();var b=this.Zb;return!(b.right<a.Nb||b.bottom<a.Ob||b.left>a.jc||b.top>a.ic)},h.lF=function(){this.Za();var a=this.Zb,b=this.c.Cb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},h.AF=function(a,b,c){var d=this.pb(),
e=d.Bf();if(!e.length)return!1;var k=e[0],f=k,h=Na(k.x,k.y,b,c),g,m,l;g=1;for(m=e.length;g<m;g++)if(k=e[g],l=Na(k.x,k.y,b,c),0===a&&l<h||1===a&&l>h)h=l,f=k;d.an(f);return!0},k.WF=function(a){this.x!==a&&(this.x=a,this.X())},k.XF=function(a){this.y!==a&&(this.y=a,this.X())},k.QF=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.X()},k.RF=function(a,b){var c=a.wC(this);if(c){var d;c.qg?(d=c.qg(b,!0),c=c.qg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.X()}},k.sF=
function(a){0!==a&&(this.x+=Math.cos(this.M)*a,this.y+=Math.sin(this.M)*a,this.X())},k.rF=function(a,b){0!==b&&(this.x+=Math.cos(w(a))*b,this.y+=Math.sin(w(a))*b,this.X())},q.uA=function(a){a.ha(this.x)},q.vA=function(a){a.ha(this.y)},q.ya=function(a){a.ha(this.c.Oo(this))});f&&(h.cF=function(a,b){return Tb(this.width,a,b)},h.$E=function(a,b){return Tb(this.height,a,b)},k.VF=function(a){this.width!==a&&(this.width=a,this.X())},k.NF=function(a){this.height!==a&&(this.height=a,this.X())},k.SF=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.X()},q.bG=function(a){a.ha(this.width)},q.gF=function(a){a.ha(this.height)},q.WE=function(a){this.Za();a.ha(this.Zb.left)},q.YE=function(a){this.Za();a.ha(this.Zb.top)},q.XE=function(a){this.Za();a.ha(this.Zb.right)},q.VE=function(a){this.Za();a.ha(this.Zb.bottom)});g&&(h.fz=function(a,b){return Ka(this.M,w(b))<=w(a)},h.zz=function(a){return Ma(this.M,w(a))},h.yz=function(a,b){var c=Ia(a),d=Ia(b),e=Ga(this.M);return Ma(d,c)?Ma(e,
c)&&!Ma(e,d):!(!Ma(e,c)&&Ma(e,d))},k.Un=function(a){a=w(Fa(a));isNaN(a)||this.M===a||(this.M=a,this.X())},k.GF=function(a){0===a||isNaN(a)||(this.M+=w(a),this.M=Ga(this.M),this.X())},k.HF=function(a){0===a||isNaN(a)||(this.M-=w(a),this.M=Ga(this.M),this.X())},k.IF=function(a,b){var c=La(this.M,w(b),w(a));isNaN(c)||this.M===c||(this.M=c,this.X())},k.JF=function(a,b,c){a=La(this.M,Math.atan2(c-this.y,b-this.x),w(a));isNaN(a)||this.M===a||(this.M=a,this.X())},k.TF=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);isNaN(c)||this.M===c||(this.M=c,this.X())},q.PE=function(a){a.ha(Ha(this.M))});d||(h.aF=function(a,b,c){return Tb(this.qc[a],b,c)},h.iF=function(a){return this.qc[a]},h.BF=function(a,b){var c=this.pb(),d=c.Bf();if(!d.length)return!1;var e=d[0],k=e,f=e.qc[b],h,g,m;h=1;for(g=d.length;h<g;h++)if(e=d[h],m=e.qc[b],0===a&&m<f||1===a&&m>f)f=m,k=e;c.an(k);return!0},h.zF=function(a){var b,c,d,e,k;if(this.c.qC().os){k=this.pb();if(k.Fb)for(k.Fb=!1,k.C.length=0,k.Va.length=0,d=this.C,b=0,c=d.length;b<
c;b++)e=d[b],e.uid===a?k.Va.push(e):k.C.push(e);else{d=b=0;for(c=k.C.length;b<c;b++)e=k.C[b],k.C[d]=e,e.uid===a?k.Va.push(e):d++;k.C.length=d}this.Ug();return!!k.C.length}e=this.c.di(a);if(!e)return!1;k=this.pb();if(!k.Fb&&-1===k.C.indexOf(e))return!1;if(this.Aa)for(a=e.type.Eb,b=0,c=a.length;b<c;b++){if(a[b]===this)return k.an(e),this.Ug(),!0}else if(e.type===this)return k.an(e),this.Ug(),!0;return!1},h.Nz=function(){return!0},h.Oz=function(){return!0},k.OF=function(a,b){var c=this.qc;ja(c[a])?c[a]=
ja(b)?b:parseFloat(b):v(c[a])&&(c[a]=v(b)?b:b.toString())},k.OE=function(a,b){var c=this.qc;ja(c[a])?c[a]=ja(b)?c[a]+b:c[a]+parseFloat(b):v(c[a])&&(c[a]=v(b)?c[a]+b:c[a]+b.toString())},k.YF=function(a,b){var c=this.qc;ja(c[a])&&(c[a]=ja(b)?c[a]-b:c[a]-parseFloat(b))},k.KF=function(a,b){this.qc[a]=b?1:0},k.$F=function(a){this.qc[a]=1-this.qc[a]},k.Ed=function(){this.c.ck(this)},k.Dz||(k.Dz=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.c.op(this,b,!0);this.hg&&this.hg();if(this.ta)for(a=
0,b=this.ta.length;a<b;++a)c=this.ta[a],c.hg&&c.hg()}),q.fF=function(a){var b=a.Zk.C.length,c,d,e;c=0;for(d=this.c.wf.length;c<d;c++)e=this.c.wf[c],a.Zk.Aa?0<=e.type.Eb.indexOf(a.Zk)&&b++:e.type===a.Zk&&b++;a.hb(b)},q.DF=function(a){a.hb(a.Zk.pb().Bf().length)},q.aG=function(a){a.hb(this.uid)},q.hF=function(a){a.hb(this.km())},q.gz||(q.gz=function(a){a.Ge(JSON.stringify(this.c.Wt(this,!0)))}));l&&(h.nF=function(){return this.visible},k.UF=function(a){!a!==!this.visible&&(this.visible=a,this.c.mb=
!0)},h.bF=function(a,b){return Tb(bb(100*this.opacity),a,b)},k.PF=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.c.mb=!0)},q.Opacity=function(a){a.ha(bb(100*this.opacity))});n&&(h.jF=function(a){return a?this.S===a:!1},h.CF=function(a){var b=this.pb(),c=b.Bf();if(!c.length)return!1;var d=c[0],e=d,k,f;k=1;for(f=c.length;k<f;k++)if(d=c[k],0===a){if(d.S.index>e.S.index||d.S.index===e.S.index&&d.rg()>e.rg())e=d}else if(d.S.index<e.S.index||d.S.index===e.S.index&&d.rg()<e.rg())e=
d;b.an(e);return!0},k.vF=function(){var a=this.S,b=a.C;b.length&&b[b.length-1]===this||(a.dl(this,!1),a.Pl(this,!1),this.c.mb=!0)},k.tF=function(){var a=this.S,b=a.C;b.length&&b[0]===this||(a.dl(this,!1),a.fE(this),this.c.mb=!0)},k.uF=function(a){a&&a!=this.S&&(this.S.dl(this,!0),this.S=a,a.Pl(this,!0),this.c.mb=!0)},k.dG=function(a,b){var c=0===a;if(b){var d=b.lw(this);d&&d.uid!==this.uid&&(this.S.index!==d.S.index&&(this.S.dl(this,!0),this.S=d.S,d.S.Pl(this,!0)),this.S.TD(this,d,c),this.c.mb=!0)}},
q.pF=function(a){a.hb(this.S.Gx)},q.oF=function(a){a.Ge(this.S.name)},q.cG=function(a){a.hb(this.rg())});m&&(k.LF=function(a,b){if(this.c.da){var c=this.type.Wr(b);if(!(0>c)){var d=1===a;this.Th[c]!==d&&(this.Th[c]=d,this.Jh(),this.c.mb=!0)}}},k.MF=function(a,b,c){if(this.c.da){var d=this.type.Wr(a);0>d||(a=this.type.qa[d],d=this.Hb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.c.da.zC(a.Qc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Yc&&(this.c.mb=!0))))}})};yb=function(){this.lr=this.hr=!0;this.type.Xn=!0;
this.c.mb=!0;var a,b,d=this.ir;a=0;for(b=d.length;a<b;++a)d[a](this);this.S.Xf&&this.Za()};zb=function(a){a&&this.ir.push(a)};Bb=function(){if(this.hr){var a=this.Zb,b=this.Db;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Vd*this.width,-this.Wd*this.height);this.M?(a.offset(-this.x,-this.y),b.oy(a,this.M),b.offset(this.x,this.y),b.Jv(a)):b.ln(a);a.normalize();this.hr=!1;this.IE()}};var a=new ta(0,0,0,0);Cb=function(){if(this.S.Xf){var c=this.S.be,b=this.Zb;a.set(c.ke(b.left),
c.le(b.top),c.ke(b.right),c.le(b.bottom));this.Ld.Bo(a)||(this.Ld.right<this.Ld.left?c.update(this,null,a):c.update(this,this.Ld,a),this.Ld.so(a),this.S.Fh=!0)}};Db=function(){if(this.lr&&this.Wg){this.Za();var c=this.type.no,b=this.Zb;a.set(c.ke(b.left),c.le(b.top),c.ke(b.right),c.le(b.bottom));this.Zh.Bo(a)||(this.Zh.right<this.Zh.left?c.update(this,null,a):c.update(this,this.Zh,a),this.Zh.so(a),this.lr=!1)}};Ab=function(a,b){return this.Zb.$c(a,b)&&this.Db.$c(a,b)?this.Fa&&!this.Fa.vj()?(this.Fa.Xh(this.width,
this.height,this.M),this.Fa.$c(a-this.x,b-this.y)):!0:!1};ub=function(){this.type.uq();return this.rj};Eb=function(){this.S.uu();return this.$f};Fb=function(){this.Ra.length=0;var a,b;a=0;for(b=this.Th.length;a<b;a++)this.Th[a]&&this.Ra.push(this.type.qa[a]);this.Vy=!!this.Ra.length};vb=function(){return"Inst"+this.$x};ib=function(a){if(a&&a.Gf&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],e.type==this)return e}a=this.pb().Bf();return a.length?a[0]:null};jb=function(a){var b=
this.pb().Bf();return b.length?b[a.km()%b.length]:null};hb=function(){if(this.jl&&!this.Aa){var a,b;a=0;for(b=this.C.length;a<b;a++)this.C[a].rj=a;var d=a,e=this.c.wf;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].rj=d++);this.jl=!1}};sb=function(a){if(a<this.C.length)return this.C[a];a-=this.C.length;var b=this.c.wf,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};kb=function(){return this.Ki[this.ah]};lb=function(){this.ah++;this.ah===this.Ki.length?
this.Ki.push(new gb(this)):this.Ki[this.ah].Fb=!0};mb=function(){this.ah++;this.ah===this.Ki.length&&this.Ki.push(new gb(this));var a=this.Ki[this.ah],b=this.Ki[this.ah-1];b.Fb?a.Fb=!0:(a.Fb=!1,Aa(a.C,b.C),Aa(a.Va,b.Va))};nb=function(){this.ah--};ob=function(a){var b,d,e,f,g,l=0;if(!this.Aa)for(b=0,d=this.Eb.length;b<d;b++)for(g=this.Eb[b],e=0,f=g.$b.length;e<f;e++){if(a===g.$b[e].name)return this.ka.lastBehIndex=l,g.$b[e];l++}b=0;for(d=this.$b.length;b<d;b++){if(a===this.$b[b].name)return this.ka.lastBehIndex=
l,this.$b[b];l++}return null};pb=function(a){return this.No(a)?this.ka.lastBehIndex:-1};qb=function(a){var b,d;b=0;for(d=this.qa.length;b<d;b++)if(this.qa[b].name===a)return b;return-1};rb=function(){if(this.Gf&&!this.Aa){var a,b,d,e,f,g,l;this.uq();g=this.pb();var n=g.Fb,m=(a=this.c.Ud())&&a.xf&&a.xf.Cg;a=0;for(b=this.Sd.length;a<b;a++)if(f=this.Sd[a],f!==this&&(f.uq(),l=f.pb(),l.Fb=n,!n)){l.C.length=g.C.length;d=0;for(e=g.C.length;d<e;d++)l.C[d]=f.mw(g.C[d].rj);if(m)for(l.Va.length=g.Va.length,
d=0,e=g.Va.length;d<e;d++)l.Va[d]=f.mw(g.Va[d].rj)}}};tb=function(){return"Type"+this.Ka};Tb=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var bc={};function gc(a){this.c=a}
(function(){function a(){}var c=gc.prototype;c.xc=function(a){this.Hc=a;this.c=a.c};c.xc.prototype.fb=function(){};c.Rb=function(a){this.type=a;this.c=a.c;this.dp=Array(256);this.vq=Array(256);this.Pi=0};var b=c.Rb.prototype;b.fb=function(){var a=this;this.c.Ub||(jQuery(document).keydown(function(b){a.ut(b)}),jQuery(document).keyup(function(b){a.wt(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.ut=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.dp[a.which])this.vq[a.which]&&!b&&a.preventDefault();else{this.dp[a.which]=!0;this.Pi=a.which;this.c.Xe=!0;this.c.trigger(gc.prototype.T.Kz,this);var c=this.c.trigger(gc.prototype.T.Vz,this),l=this.c.trigger(gc.prototype.T.Wz,this);this.c.Xe=!1;if(c||l)this.vq[a.which]=!0,b||a.preventDefault()}};b.wt=function(a){this.dp[a.which]=!1;this.Pi=a.which;this.c.Xe=!0;this.c.trigger(gc.prototype.T.Lz,this);var b=this.c.trigger(gc.prototype.T.Yz,this),c=this.c.trigger(gc.prototype.T.Xz,this);this.c.Xe=
!1;if(b||c||this.vq[a.which])this.vq[a.which]=!0,a.preventDefault()};b.Dd=function(){return{triggerKey:this.Pi}};b.Yd=function(a){this.Pi=a.triggerKey};a.prototype.Az=function(a){return this.dp[a]};a.prototype.Vz=function(a){return a===this.Pi};a.prototype.Kz=function(){return!0};a.prototype.Lz=function(){return!0};a.prototype.Yz=function(a){return a===this.Pi};a.prototype.Wz=function(a){return a===this.Pi};a.prototype.Xz=function(a){return a===this.Pi};c.T=new a;c.Fd=new function(){};c.ue=new function(){}})();
function fc(a){this.c=a}
(function(){function a(){if(0===this.Br.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.il?b.drawImage(this.Xb,this.$k,this.al,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Xb,0,0,this.width,this.height);this.Br=a.toDataURL("image/png")}return this.Br}function c(){}function b(){}var d=fc.prototype;d.xc=function(a){this.Hc=a;this.c=a.c};var e=d.xc.prototype;e.fb=function(){if(!this.Aa){var b,c,d,e,f,g,l,p,n;
this.tf=[];this.mm=!1;b=0;for(c=this.Qd.length;b<c;b++){f=this.Qd[b];l={};l.name=f[0];l.speed=f[1];l.loop=f[2];l.Rt=f[3];l.Sp=f[4];l.Rx=f[5];l.Ka=f[6];l.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],p={},p.hu=g[0],p.iu=g[1],p.$k=g[2],p.al=g[3],p.width=g[4],p.height=g[5],p.duration=g[6],p.Vd=g[7],p.Wd=g[8],p.ds=g[9],p.Mp=g[10],p.Sx=g[11],p.il=0!==p.width,p.Br="",p.jG=a,n={left:0,top:0,right:1,bottom:1},p.du=n,p.Lh=null,(n=this.c.hC(g[0]))?p.Xb=n:(p.Xb=new Image,p.Xb.YA=g[0],p.Xb.Uv=g[1],p.Xb.VA=
null,this.c.Yy(p.Xb,g[0])),l.frames.push(p),this.tf.push(p);this.Qd[b]=l}}};e.Qy=function(){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.vo=c.Se.Lh};e.yt=function(){if(!this.Aa){var a,b,c;a=0;for(b=this.tf.length;a<b;++a)c=this.tf[a],c.Xb.VA=null,c.Lh=null;this.mm=!1;this.Qy()}};e.zt=function(){if(!this.Aa&&this.C.length){var a,b,c;a=0;for(b=this.tf.length;a<b;++a)c=this.tf[a],c.Lh=this.c.da.Uw(c.Xb,this.c.ab,c.Sx);this.Qy()}};e.Vw=function(){if(!this.Aa&&!this.mm&&this.c.da){var a,b,c;
a=0;for(b=this.tf.length;a<b;++a)c=this.tf[a],c.Lh=this.c.da.Uw(c.Xb,this.c.ab,c.Sx);this.mm=!0}};e.ru=function(){if(!this.Aa&&!this.C.length&&this.mm){var a,b,c;a=0;for(b=this.tf.length;a<b;++a)c=this.tf[a],this.c.da.deleteTexture(c.Lh),c.Lh=null;this.mm=!1}};var f=[];e.Ft=function(a){var b,c,d;b=f.length=0;for(c=this.tf.length;b<c;++b)d=this.tf[b].Xb,-1===f.indexOf(d)&&(a.drawImage(d,0,0),f.push(d))};d.Rb=function(a){this.type=a;this.c=a.c;a=this.type.Qd[0].frames[0].Mp;this.ae?this.Fa.mn(a):this.Fa=
new Xa(a)};var g=d.Rb.prototype;g.fb=function(){this.visible=0===this.wa[0];this.gs=this.us=!1;this.Wg=0!==this.wa[3];1===this.type.Qd.length&&1===this.type.Qd[0].frames.length||0===this.type.Qd[0].speed||(this.c.Cy(this),this.us=!0);this.ob=this.iw(this.wa[1])||this.type.Qd[0];this.Y=this.wa[2];0>this.Y&&(this.Y=0);this.Y>=this.ob.frames.length&&(this.Y=this.ob.frames.length-1);var a=this.ob.frames[this.Y];this.Fa.mn(a.Mp);this.Vd=a.Vd;this.Wd=a.Wd;this.Wl=this.ob.speed;this.ae?this.ig.reset():this.ig=
new Va;this.hh=this.ig.Rc;this.ej=!0;this.Tg=0;this.cj=!0;this.mo=this.Av="";this.Pv=0;this.mr=-1;this.type.Vw();var b,c,d,e,f,g,p,a=0;for(b=this.type.Qd.length;a<b;a++)for(e=this.type.Qd[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Xb.width,f.height=f.Xb.height),f.il&&(p=f.Xb,g=f.du,g.left=f.$k/p.width,g.top=f.al/p.height,g.right=(f.$k+f.width)/p.width,g.bottom=(f.al+f.height)/p.height,0===f.$k&&0===f.al&&f.width===p.width&&f.height===p.height&&(f.il=!1));this.Se=this.ob.frames[this.Y];
this.vo=this.Se.Lh};g.Dd=function(){var a={a:this.ob.Ka,f:this.Y,cas:this.Wl,fs:this.hh,ar:this.Tg,at:this.ig.Rc};this.ej||(a.ap=this.ej);this.cj||(a.af=this.cj);return a};g.Yd=function(a){var b=this.mC(a.a);b&&(this.ob=b);this.Y=a.f;0>this.Y&&(this.Y=0);this.Y>=this.ob.frames.length&&(this.Y=this.ob.frames.length-1);this.Wl=a.cas;this.hh=a.fs;this.Tg=a.ar;this.ig.reset();this.ig.Rc=a.at;this.ej=a.hasOwnProperty("ap")?a.ap:!0;this.cj=a.hasOwnProperty("af")?a.af:!0;this.Se=this.ob.frames[this.Y];this.vo=
this.Se.Lh;this.Fa.mn(this.Se.Mp);this.Vd=this.Se.Vd;this.Wd=this.Se.Wd};g.gr=function(a){this.Y=a?0:this.ob.frames.length-1;this.ej=!1;this.Av=this.ob.name;this.gs=!0;this.c.trigger(fc.prototype.T.Jz,this);this.c.trigger(fc.prototype.T.Iz,this);this.gs=!1;this.Tg=0};g.mG=function(){return this.ig.Rc};g.Vf=function(){this.ig.add(this.c.Oo(this));this.mo.length&&this.Zv();0<=this.mr&&this.eB();var a=this.ig.Rc,b=this.ob,c=b.frames[this.Y],d=c.duration/this.Wl;this.ej&&a>=this.hh+d&&(this.cj?this.Y++:
this.Y--,this.hh+=d,this.Y>=b.frames.length&&(b.Rx?(this.cj=!1,this.Y=b.frames.length-2):b.loop?this.Y=b.Sp:(this.Tg++,this.Tg>=b.Rt?this.gr(!1):this.Y=b.Sp)),0>this.Y&&(b.Rx?(this.Y=1,this.cj=!0,b.loop||(this.Tg++,this.Tg>=b.Rt&&this.gr(!0))):b.loop?this.Y=b.Sp:(this.Tg++,this.Tg>=b.Rt?this.gr(!0):this.Y=b.Sp)),0>this.Y?this.Y=0:this.Y>=b.frames.length&&(this.Y=b.frames.length-1),a>this.hh+b.frames[this.Y].duration/this.Wl&&(this.hh=a),a=b.frames[this.Y],this.jk(c,a),this.c.mb=!0)};g.iw=function(a){var b,
c,d;b=0;for(c=this.type.Qd.length;b<c;b++)if(d=this.type.Qd[b],cb(d.name,a))return d;return null};g.mC=function(a){var b,c,d;b=0;for(c=this.type.Qd.length;b<c;b++)if(d=this.type.Qd[b],d.Ka===a)return d;return null};g.Zv=function(){var a=this.ob.frames[this.Y],b=this.iw(this.mo);this.mo="";!b||cb(b.name,this.ob.name)&&this.ej||(this.ob=b,this.Wl=b.speed,0>this.Y&&(this.Y=0),this.Y>=this.ob.frames.length&&(this.Y=this.ob.frames.length-1),1===this.Pv&&(this.Y=0),this.ej=!0,this.hh=this.ig.Rc,this.cj=
!0,this.jk(a,this.ob.frames[this.Y]),this.c.mb=!0)};g.eB=function(){var a=this.ob.frames[this.Y],b=this.Y;this.Y=qa(this.mr);0>this.Y&&(this.Y=0);this.Y>=this.ob.frames.length&&(this.Y=this.ob.frames.length-1);b!==this.Y&&(this.jk(a,this.ob.frames[this.Y]),this.hh=this.ig.Rc,this.c.mb=!0);this.mr=-1};g.jk=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Vd=b.Vd;this.Wd=b.Wd;this.Fa.mn(b.Mp);this.X();this.Se=b;this.vo=b.Lh;c=0;for(d=
this.ta.length;c<d;c++)e=this.ta[c],e.aE&&e.aE(a,b);this.c.trigger(fc.prototype.T.jk,this)};g.$h=function(a){a.globalAlpha=this.opacity;var b=this.Se,c=b.il,d=b.Xb,e=this.x,f=this.y,g=this.width,p=this.height;if(0===this.M&&0<=g&&0<=p)e-=this.Vd*g,f-=this.Wd*p,this.c.Bi&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.$k,b.al,b.width,b.height,e,f,g,p):a.drawImage(d,e,f,g,p);else{this.c.Bi&&(e=Math.round(e),f=Math.round(f));a.save();var l=0<g?1:-1,n=0<p?1:-1;a.translate(e,f);1===l&&1===n||a.scale(l,
n);a.rotate(this.M*l*n);e=0-this.Vd*na(g);f=0-this.Wd*na(p);c?a.drawImage(d,b.$k,b.al,b.width,b.height,e,f,na(g),na(p)):a.drawImage(d,e,f,na(g),na(p));a.restore()}};g.zf=function(a){a.Fe(this.vo);a.el(this.opacity);var b=this.Se,c=this.Db;if(this.c.Bi){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.il?a.Ci(c.Sc+d,c.Tc+e,c.Ie+d,c.Je+e,c.qe+d,c.te+e,c.oe+d,c.pe+e,b.du):a.Op(c.Sc+d,c.Tc+e,c.Ie+d,c.Je+e,c.qe+d,c.te+e,c.oe+d,c.pe+e)}else b.il?a.Ci(c.Sc,c.Tc,c.Ie,c.Je,c.qe,c.te,c.oe,c.pe,
b.du):a.Op(c.Sc,c.Tc,c.Ie,c.Je,c.qe,c.te,c.oe,c.pe)};g.sC=function(a){var b=this.Se,c,d;c=0;for(d=b.ds.length;c<d;c++)if(cb(a,b.ds[c][0]))return c;return-1};g.qg=function(a,b){var c=this.Se,d=c.ds,e;e=v(a)?this.sC(a):a-1;e=qa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Vd)*this.width,d=d[e][2],d=(d-c.Wd)*this.height,c=Math.cos(this.M);e=Math.sin(this.M);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var l=new ba,n=!1;new ta(0,0,0,0);e.finish=function(a){if(n){if(a){var b=
this.c.Ud().xf.Cg;a=null.pb();var c=l.Zf(),d,e;if(a.Fb){a.Fb=!1;a.C.length=c.length;d=0;for(e=c.length;d<e;d++)a.C[d]=c[d];if(b)for(d=a.Va.length=0,e=null.C.length;d<e;d++)c=null.C[d],l.contains(c)||a.Va.push(c)}else if(b)for(b=a.C.length,a.C.length=b+c.length,d=0,e=c.length;d<e;d++)a.C[b+d]=c[d],Da(a.Va,c[d]);else Aa(a.C,c);null.Ug()}l.clear();n=!1}};c.prototype.Iz=function(a){return cb(this.Av,a)};c.prototype.Jz=function(){return!0};c.prototype.jk=function(){return!0};d.T=new c;b.prototype.hA=function(a,
b){this.mo=a;this.Pv=b;this.us||(this.c.Cy(this),this.us=!0);this.gs||this.Zv()};b.prototype.kA=function(a){a=na(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.X())};d.Fd=new b;d.ue=new function(){}})();function hc(a){this.c=a}
(function(){function a(){this.nq=this.id=-1;this.Cv=this.sk=this.An=this.nm=!1;this.Ua=new ta(0,0,0,0)}function c(a){1E4>q.length&&q.push(a)}function b(){this.id=-1;this.Ua=new ta(0,0,0,0);this.Bd=null}function d(a){1E4>r.length&&r.push(a)}function e(a,b,c){var d;return s.length?(d=s.pop(),d.p=a,d.x=b,d.y=c,d.left=d.x*d.p.Mc*d.p.ge,d.top=d.y*d.p.Lc*d.p.fe,d.clear(),d.hn=!1,d):new f(a,b,c)}function f(a,b,c){this.p=a;this.x=b;this.y=c;this.left=this.x*this.p.Mc*this.p.ge;this.top=this.y*this.p.Lc*this.p.fe;
this.Lg=[];this.Pc=[];this.rd=[];this.hn=!1;var d,e;a=0;for(b=this.p.Lc;a<b;++a){e=[];c=0;for(d=this.p.Mc;c<d;++c)e.push(-1);this.Lg.push(e)}}var g=hc.prototype;g.xc=function(a){this.Hc=a;this.c=a.c};var l=g.xc.prototype;l.fb=function(){var a,b,c;if(!this.Aa&&(this.Xb=new Image,this.Xb.Uv=this.iu,this.c.Yy(this.Xb,this.hu),this.kj=[],this.Ar=!1,this.Wf=[],this.Dy=!1,this.mq&&this.mq.length))for(a=0,b=this.mq.length;a<b;++a)(c=this.mq[a])?this.Wf.push({Bd:c,Jo:[[[null,null],[null,null]],[[null,null],
[null,null]]]}):this.Wf.push(null)};l.Wh=function(a,b,c,d,e,k){if(!(0>a||a>=this.Wf.length)&&this.Wf[a]){var f=this.Wf[a].Jo;a=new Xa(this.Wf[a].Bd);a.Xh(b,c,0);k&&a.dB();d&&a.SD(b/2);e&&a.iC(c/2);f[d?1:0][e?1:0][k?1:0]=a}};l.BC=function(a){if(-1===a)return null;var b=a&k;return 0>b||b>=this.Wf.length||!this.Wf[b]?null:this.Wf[b].Jo[a&n?1:0][a&m?1:0][a&h?1:0]};l.Qr=function(){var a,b,c=this.c.da;if(c)for(a=0,b=this.kj.length;a<b;++a)c.deleteTexture(this.kj[a]);this.kj.length=0;this.Ar=!1};l.ot=function(a,
b,c,d,e,k,f){if(!(this.Ar||0>=a||0>=b)){this.Qr();var g=this.Xb.width,h=this.Xb.height,l;for(l=d;l+b<=h;l+=b+k)for(d=c;d+a<=g;d+=a+e)this.kj.push(this.pz(d,l,a,b,f));this.Ar=!0}};l.pz=function(a,b,c,d,e){if(this.c.da)return this.Cq(a,b,c,d,!1,!1,!1,e);var k=[[[null,null],[null,null]],[[null,null],[null,null]]];k[0][0][0]=this.Cq(a,b,c,d,!1,!1,!1,e);return{Jo:k,x:a,y:b,kc:c,SC:d}};l.Ku=function(a,b,c,d,e){if(0>a||a>=this.kj.length)return null;a=this.kj[a];var k=a.Jo;b=b?1:0;c=c?1:0;d=d?1:0;var f=k[b][c][d];
f||(f=this.Cq(a.x,a.y,a.kc,a.SC,0!==b,0!==c,0!==d,e),k[b][c][d]=f);return f};l.Cq=function(a,b,c,d,e,k,f,g){var h=c,l=d;this.c.da&&!g&&(la(h)||(h=ma(h)),la(l)||(l=ma(l)));var m=document.createElement("canvas");m.width=h;m.height=l;var q=m.getContext("2d");if(this.c.$a)return e?k?(f?(q.rotate(Math.PI/2),q.scale(-1,1)):q.scale(-1,-1),q.translate(-h,-l)):f?(q.rotate(Math.PI/2),q.translate(0,-l)):(q.scale(-1,1),q.translate(-h,0)):k?f?(q.rotate(-Math.PI/2),q.translate(-h,0)):(q.scale(1,-1),q.translate(0,
-l)):f&&(q.scale(-1,1),q.rotate(Math.PI/2)),q.drawImage(this.Xb,a,b,c,d,0,0,h,l),g?m:this.c.$a.createPattern(m,"repeat");q.drawImage(this.Xb,a,b,c,d,0,0,h,l);a=this.c.da.Xg(h,l,this.c.ab,!1,!g);this.c.da.NE(m,a);return a};l.yt=function(){this.Aa||this.Qr()};l.zt=function(){};l.Vw=function(){};l.ru=function(){this.Aa||this.C.length||this.Qr()};l.Ft=function(){};g.Rb=function(a){this.type=a;this.c=a.c};var l=g.Rb.prototype,n=-2147483648,m=1073741824,h=536870912,k=536870911,q=[],r=[],s=[];f.prototype.clear=
function(){var a,b,c,d,e;this.Lg.length=this.p.Lc;a=0;for(b=this.Lg.length;a<b;++a)for(e=this.Lg[a],e||(e=[],this.Lg[a]=e),e.length=this.p.Mc,c=0,d=e.length;c<d;++c)e[c]=-1};f.prototype.Um=function(){if(!this.hn){var e=this.p.ge,f=this.p.fe;if(!(0>=e||0>=f)){var g,l,x,s,B,u;g=0;for(l=this.Pc.length;g<l;++g)c(this.Pc[g]);g=0;for(l=this.rd.length;g<l;++g)d(this.rd[g]);this.Pc.length=0;this.rd.length=0;var G=Math.floor(this.p.width/e),E=Math.floor(this.p.height/f),G=G-this.left/e,E=E-this.top/f;G>this.p.Mc&&
(G=this.p.Mc);E>this.p.Lc&&(E=this.p.Lc);var H=this.p.Gi,F=null;g=0;for(l=E;g<l;++g){B=this.Lg[g];x=0;for(s=G;x<s;++x)u=B[x],-1===u?F&&(this.Pc.push(F),F=null):H||!F||u!==F.id?(F&&this.Pc.push(F),F=q.length?q.pop():new a,F.id=u,F.nq=u&k,F.nm=0!==(u&n),F.An=0!==(u&m),F.sk=0!==(u&h),F.Cv=F.nm||F.An||F.sk,F.Ua.left=x*e+this.left,F.Ua.top=g*f+this.top,F.Ua.right=F.Ua.left+e,F.Ua.bottom=F.Ua.top+f):F.Ua.right+=e;F&&(this.Pc.push(F),F=null)}var F=null,ca=!1;g=0;for(l=E;g<l;++g){B=this.Lg[g];x=0;for(s=G;x<
s;++x)u=B[x],-1===u?F&&(this.rd.push(F),F=null,ca=!1):(E=this.p.type.BC(u),!F||E||ca?(F&&this.rd.push(F),F=r.length?r.pop():new b,F.id=u,F.Bd=E?E:null,u=F.Ua,u.left=x*e+this.left,u.top=g*f+this.top,u.right=u.left+e,u.bottom=u.top+f,ca=!!E):F.Ua.right+=e);F&&(this.rd.push(F),F=null,ca=!1)}if(!H)for(l=this.Pc.length,g=0;g<l;++g)for(s=this.Pc[g],e=g+1;e<l;++e)if(x=this.Pc[e],!(x.Ua.top<s.Ua.bottom)){if(x.Ua.top>s.Ua.bottom)break;if(x.Ua.right>s.Ua.right||x.Ua.left>s.Ua.left)break;x.id===s.id&&x.Ua.left===
s.Ua.left&&x.Ua.right===s.Ua.right&&(c(this.Pc[e]),this.Pc.splice(e,1),--l,s.Ua.bottom+=f,--e)}l=this.rd.length;for(g=0;g<l;++g)if(s=this.rd[g],!s.Bd)for(B=s.Ua,e=g+1;e<l;++e)if(x=this.rd[e],s=x.Ua,!(s.top<B.bottom)){if(s.top>B.bottom)break;if(s.right>B.right||s.left>B.left)break;x.Bd||s.left!==B.left||s.right!==B.right||(d(this.rd[e]),this.rd.splice(e,1),--l,B.bottom+=f,--e)}this.hn=!0}}};f.prototype.au=function(a,b,c){this.Lg[b][a]!==c&&(this.Lg[b][a]=c,this.hn=!1,this.p.Zn=!0,this.p.Sj=!0,this.p.c.mb=
!0)};l.fb=function(){var a,b,c;this.visible=0===this.wa[0];this.ge=this.wa[1];this.fe=this.wa[2];this.ju=this.wa[3];this.lu=this.wa[4];this.ku=this.wa[5];this.mu=this.wa[6];this.Gi=0!==this.wa[7];this.ti=this.Gy;this.si=this.Fy;this.jp=this.width;this.ip=this.height;var d=this.ge,e=this.fe;0===d&&(d=1);0===e&&(e=1);this.Mc=Math.ceil(this.c.gc/d);this.Lc=Math.ceil(this.c.fc/e);if(!this.type.Dy)for(this.type.Dy=!0,a=0,b=this.type.Wf.length;a<b;++a)if(c=this.type.Wf[a])this.type.Wh(a,d,e,!1,!1,!1),this.type.Wh(a,
d,e,!1,!1,!0),this.type.Wh(a,d,e,!1,!0,!1),this.type.Wh(a,d,e,!1,!0,!0),this.type.Wh(a,d,e,!0,!1,!1),this.type.Wh(a,d,e,!0,!1,!0),this.type.Wh(a,d,e,!0,!0,!1),this.type.Wh(a,d,e,!0,!0,!0);this.ae||(this.Md=[]);this.MD();this.ly(this.Ey);this.type.ot(this.ge,this.fe,this.ju,this.lu,this.ku,this.mu,this.Gi);this.Sj=!1;this.Zn=!0;this.nt()};l.nt=function(){if(this.Zn){var a,b,c,d,e;a=0;for(b=this.Md.length;a<b;++a)for(e=this.Md[a],c=0,d=e.length;c<d;++c)e[c].Um();this.Zn=!1}};l.$t=function(){var a,b,
c,d,e;a=0;for(b=this.Md.length;a<b;++a)for(e=this.Md[a],c=0,d=e.length;c<d;++c)e[c].hn=!1;this.Zn=!0};l.MD=function(){var a,b;a=Math.ceil(this.si/this.Lc);b=Math.ceil(this.ti/this.Mc);var c,d,k;for(c=0;c<a;++c)if(k=this.Md[c])for(d=k.length;d<b;++d)k.push(e(this,d,c));else{k=[];for(d=0;d<b;++d)k.push(e(this,d,c));this.Md[c]=k}};l.jr=function(a,b){if(0>a||0>b)return null;var c=qa(b/this.Lc);if(c>=this.Md.length)return null;var c=this.Md[c],d=qa(a/this.Mc);return d>=c.length?null:c[d]};l.kr=function(a,
b){if(0>a||0>b||b>=this.Md.length)return null;var c=this.Md[b];return a>=c.length?null:c[a]};l.ly=function(a){var b=[];a=a.split(",");var c,d,e,k,f;c=0;for(d=a.length;c<d;++c)if(e=a[c],k=e.indexOf("x"),-1<k)for(f=parseInt(e.substring(0,k),10),e=e.substring(k+1),k=parseInt(e,10),-1<e.indexOf("h")&&(k|=n),-1<e.indexOf("v")&&(k|=m),-1<e.indexOf("d")&&(k|=h);0<f;--f)b.push(k);else k=parseInt(e,10),-1<e.indexOf("h")&&(k|=n),-1<e.indexOf("v")&&(k|=m),-1<e.indexOf("d")&&(k|=h),b.push(k);for(c=a=0;c<this.si;++c)for(d=
0;d<this.ti;++d)f=b[a++],(e=this.jr(d,c))&&e.au(d%this.Mc,c%this.Lc,f)};l.CC=function(){var a="";if(0>=this.ti||0>=this.si)return a;var b=1,c=this.qw(0,0),d,e=this.si,f,g=this.ti,l,q,r,s;for(d=0;d<e;++d)for(f=0===d?1:0;f<g;++f)l=this.qw(f,d),l===c?++b:(-1===c?(q=-1,c=s=r=!1):(q=c&k,r=0!==(c&n),s=0!==(c&m),c=0!==(c&h)),a=1===b?a+(""+q):a+(""+b+"x"+q),r&&(a+="h"),s&&(a+="v"),c&&(a+="d"),a+=",",b=1,c=l);-1===c?(q=-1,c=s=r=!1):(q=c&k,r=0!==(c&n),s=0!==(c&m),c=0!==(c&h));a=1===b?a+(""+q):a+(""+b+"x"+q);
r&&(a+="h");s&&(a+="v");c&&(a+="d");return a};l.qw=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.ti||b>=this.si)return-1;var c=this.jr(a,b);return c?c.Lg[b%this.Lc][a%this.Mc]:-1};l.au=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.ti||b>=this.si)return-1;var d=this.jr(a,b);if(!d)return-1;d.au(a%this.Mc,b%this.Lc,c)};l.$y=function(a){return Math.floor((a-this.x)/(this.Mc*this.ge))};l.az=function(a){return Math.floor((a-this.y)/(this.Lc*this.fe))};l.pC=function(a,
b){var c=this.az(a.top),d=this.$y(a.right),e=this.az(a.bottom),k,f,g;for(k=this.$y(a.left);k<=d;++k)for(f=c;f<=e;++f)if(g=this.kr(k,f))g.Um(),Ba(b,g.rd)};l.lC=function(a){var b,c,d,e,k,f;b=0;for(c=this.Md.length;b<c;++b)for(k=this.Md[b],d=0,e=k.length;d<e;++d)f=k[d],f.Um(),Ba(a,f.rd)};l.Rj=function(){var a,b,e,k,f;a=0;for(b=this.Md.length;a<b;++a){f=this.Md[a];e=0;for(k=f.length;e<k;++e){for(var g=f[e],h=void 0,l=void 0,h=0,l=g.Pc.length;h<l;++h)c(g.Pc[h]);h=g.Pc.length=0;for(l=g.rd.length;h<l;++h)d(g.rd[h]);
g.rd.length=0;1E3>s.length&&s.push(g)}f.length=0}this.Md.length=0};l.Dd=function(){return{w:this.ti,h:this.si,d:this.CC()}};l.Yd=function(a){this.ti=a.w;this.si=a.h;this.ly(a.d);this.Sj=!0;this.$t()};l.$h=function(a){if(!(0>=this.ge||0>=this.fe)){this.type.ot(this.ge,this.fe,this.ju,this.lu,this.ku,this.mu,this.Gi);if(this.width!==this.jp||this.height!==this.ip)this.Sj=!0,this.$t(),this.nt(),this.jp=this.width,this.ip=this.height;a.globalAlpha=this.opacity;var b=this.S,c=b.Nb,d=b.Ob,e=b.jc,b=b.ic,
k=this.x,f=this.y,g=this.Gi,h;this.c.Bi&&(k=Math.round(k),f=Math.round(f));var l=this.Mc*this.ge,m=this.Lc*this.fe,q=Math.floor((c-k)/l),l=Math.floor((e-k)/l),n=Math.floor((d-f)/m),m=Math.floor((b-f)/m),r=k%this.ge,s=f%this.fe;this.Gi&&(s=r=0);if(0!==r||0!==s)a.save(),a.translate(r,s),k-=r,f-=s,c-=r,d-=s,e-=r,b-=s;for(var u,X,M,K,L,N,I,S,R;q<=l;++q)for(u=n;u<=m;++u)if(X=this.kr(q,u))for(X.Um(),M=0,K=X.Pc.length;M<K;++M)L=X.Pc[M],-1!==L.id&&(h=L.Ua,N=h.left+k,I=h.top+f,S=h.right+k,h=h.bottom+f,N>e||
S<c||I>b||h<d||(R=this.type.Ku(L.nq,L.nm,L.An,L.sk,this.Gi),g?a.drawImage(R,N,I):(a.fillStyle=this.type.Ku(L.nq,L.nm,L.An,L.sk,this.Gi),a.fillRect(N,I,S-N,h-I))));0===r&&0===s||a.restore()}};var u=new ta(0,0,1,1);l.zf=function(a){if(!(0>=this.ge||0>=this.fe)){this.type.ot(this.ge,this.fe,this.ju,this.lu,this.ku,this.mu,this.Gi);if(this.width!==this.jp||this.height!==this.ip)this.Sj=!0,this.$t(),this.nt(),this.jp=this.width,this.ip=this.height;a.el(this.opacity);var b=this.type.kj,c=this.S,d=c.Nb,
e=c.Ob,k=c.jc,c=c.ic,f=this.x,g=this.y,h;this.c.Bi&&(f=Math.round(f),g=Math.round(g));var l=this.Mc*this.ge,m=this.Lc*this.fe,q=Math.floor((k-f)/l),n=Math.floor((e-g)/m),m=Math.floor((c-g)/m),r,s,ua,X,M,K,L,N,I,S,R,ia,Q,T,ka,va,wa;for(ka=Math.floor((d-f)/l);ka<=q;++ka)for(va=n;va<=m;++va)if(wa=this.kr(ka,va))for(wa.Um(),l=0,r=wa.Pc.length;l<r;++l)s=wa.Pc[l],-1!==s.id&&(h=s.Ua,ua=h.left+f,X=h.top+g,M=h.right+f,h=h.bottom+g,ua>k||M<d||X>c||h<e||(a.Fe(b[s.nq]),u.right=(M-ua)/this.ge,u.bottom=(h-X)/this.fe,
s.Cv?(s.sk&&(T=u.right,u.right=u.bottom,u.bottom=T),L=K=0,N=u.right,I=0,S=u.right,R=u.bottom,ia=0,Q=u.bottom,s.sk&&(T=ia,ia=N,N=T,T=Q,Q=I,I=T),s.nm&&(T=K,K=N,N=T,T=L,L=I,I=T,T=ia,ia=S,S=T,T=Q,Q=R,R=T),s.An&&(T=K,K=ia,ia=T,T=L,L=Q,Q=T,T=N,N=S,S=T,T=I,I=R,R=T),a.kE(ua,X,M,X,M,h,ua,h,K,L,N,I,S,R,ia,Q)):a.Ci(ua,X,M,X,M,h,ua,h,u)))}};g.T=new function(){};g.Fd=new function(){};g.ue=new function(){}})();function ic(a){this.c=a}
(function(){function a(a){m=a.x;h=a.y;k=a.z}function c(a){q=a.x;r=a.y;s=a.z}function b(a,b,c,e){var k;k=u.length?u.pop():new d;k.init(a,b,c,e);return k}function d(){this.qn=this.id=this.y=this.x=this.dq=this.cq=this.Hs=this.time=this.fu=0;this.un=this.sq=!1}function e(){}function f(){}var g=ic.prototype;g.xc=function(a){this.Hc=a;this.c=a.c};g.xc.prototype.fb=function(){};g.Rb=function(a){this.type=a;this.c=a.c;this.touches=[];this.pt=!1};var l=g.Rb.prototype,n={left:0,top:0};l.em=function(a){var b,
c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var m=0,h=0,k=0,q=0,r=0,s=0,u=[];d.prototype.init=function(a,b,c,d){var e=Ra();this.fu=this.Hs=this.time=e;this.cq=a;this.dq=b;this.x=a;this.y=b;this.id=c;this.qn=d;this.un=this.sq=!1};d.prototype.update=function(a,b,c){this.Hs=this.time;this.time=a;this.x=b;this.y=c;!this.un&&15<=Na(this.cq,this.dq,this.x,this.y)&&(this.un=!0)};d.prototype.ND=function(a,b){!this.sq&&500<=Ra()-this.fu&&!this.un&&15>Na(this.cq,this.dq,
this.x,this.y)&&(this.sq=!0,a.Mg=this.qn,a.kl=this.id,a.Ak=b,a.c.trigger(ic.prototype.T.Sz,a),a.Zg=this.x,a.$g=this.y,a.c.trigger(ic.prototype.T.Tz,a),a.Ak=0)};var p=-1E3,z=-1E3,C=-1E4;d.prototype.Cx=function(a,b){if(!this.sq){var c=Ra();333>=c-this.fu&&!this.un&&15>Na(this.cq,this.dq,this.x,this.y)&&(a.Mg=this.qn,a.kl=this.id,a.Ak=b,666>=c-C&&25>Na(p,z,this.x,this.y)?(a.c.trigger(ic.prototype.T.Pz,a),a.Zg=this.x,a.$g=this.y,a.c.trigger(ic.prototype.T.Qz,a),z=p=-1E3,C=-1E4):(a.c.trigger(ic.prototype.T.bA,
a),a.Zg=this.x,a.$g=this.y,a.c.trigger(ic.prototype.T.cA,a),p=this.x,z=this.y,C=c),a.Ak=0)}};l.fb=function(){this.gD=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Ak=this.kl=this.Mg=this.$g=this.Zg=this.vv=this.uv=this.tv=this.IA=this.HA=this.GA=this.$m=this.Zm=this.Ym=0;this.KE=0!==this.wa[0];var b=0<this.c.Td?document:this.c.canvas,d=document;this.c.lh?d=b=window.Canvas:this.c.We&&(d=b=window);var e=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",
function(a){e.Lx(a)},!1),b.addEventListener("pointermove",function(a){e.Kx(a)},!1),d.addEventListener("pointerup",function(a){e.Kp(a,!1)},!1),d.addEventListener("pointercancel",function(a){e.Kp(a,!0)},!1),this.c.canvas&&(this.c.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.c.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",
function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){e.Lx(a)},!1),b.addEventListener("MSPointerMove",function(a){e.Kx(a)},!1),d.addEventListener("MSPointerUp",function(a){e.Kp(a,!1)},!1),d.addEventListener("MSPointerCancel",function(a){e.Kp(a,!0)},!1),this.c.canvas&&(this.c.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",
function(a){e.Nx(a)},!1),b.addEventListener("touchmove",function(a){e.Mx(a)},!1),d.addEventListener("touchend",function(a){e.At(a,!1)},!1),d.addEventListener("touchcancel",function(a){e.At(a,!0)},!1));if(this.gD){var k=function(a){a=a.reading;e.tv=a.accelerationX;e.uv=a.accelerationY;e.vv=a.accelerationZ},f=function(a){a=a.reading;e.Ym=a.yawDegrees;e.Zm=a.pitchDegrees;e.$m=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),
g.addEventListener("readingchanged",k));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",k),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",k),h&&h.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",
function(a){e.Ym=a.alpha||0;e.Zm=a.beta||0;e.$m=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(e.GA=a.accelerationIncludingGravity.x||0,e.HA=a.accelerationIncludingGravity.y||0,e.IA=a.accelerationIncludingGravity.z||0);a.acceleration&&(e.tv=a.acceleration.x||0,e.uv=a.acceleration.y||0,e.vv=a.acceleration.z||0)},!1);this.KE&&!this.c.Ub&&(jQuery(document).mousemove(function(a){e.ZD(a)}),jQuery(document).mousedown(function(a){e.YD(a)}),jQuery(document).mouseup(function(a){e.$D(a)}));
this.c.tm&&!this.c.lh&&AppMobi.accelerometer.watchAcceleration(a,{frequency:40,adjustForRotation:!0});this.c.Ef&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(c,null,{frequency:40});this.c.EE(this)};l.Kx=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.em(a.pointerId),c=Ra();if(0<=b){var d=this.c.Ub?n:jQuery(this.c.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};l.Lx=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&db(a)&&a.preventDefault();var c=this.c.Ub?n:jQuery(this.c.canvas).offset(),d=a.pageX-c.left,c=a.pageY-c.top;Ra();this.Mg=this.touches.length;this.kl=a.pointerId;this.touches.push(b(d,c,a.pointerId,this.Mg));this.c.Xe=!0;this.c.trigger(ic.prototype.T.Xu,this);this.c.trigger(ic.prototype.T.av,this);this.Zg=d;this.$g=c;this.c.trigger(ic.prototype.T.$u,this);
this.c.Xe=!1}};l.Kp=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&db(a)&&a.preventDefault();var c=this.em(a.pointerId);this.Mg=0<=c?this.touches[c].qn:-1;this.kl=0<=c?this.touches[c].id:-1;this.c.Xe=!0;this.c.trigger(ic.prototype.T.Wu,this);this.c.trigger(ic.prototype.T.Zu,this);0<=c&&(b||this.touches[c].Cx(this,c),100>u.length&&u.push(this.touches[c]),this.touches.splice(c,1));this.c.Xe=!1}};l.Mx=function(a){a.preventDefault&&a.preventDefault();
var b=Ra(),c,d,e,k;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],k=this.em(e.identifier),0<=k){var f=this.c.Ub?n:jQuery(this.c.canvas).offset();k=this.touches[k];2>b-k.time||k.update(b,e.pageX-f.left,e.pageY-f.top)}};l.Nx=function(a){a.preventDefault&&db(a)&&a.preventDefault();var c=this.c.Ub?n:jQuery(this.c.canvas).offset();Ra();this.c.Xe=!0;var d,e,k,f;d=0;for(e=a.changedTouches.length;d<e;d++)if(k=a.changedTouches[d],f=this.em(k.identifier),-1===f){f=k.pageX-c.left;var g=k.pageY-
c.top;this.Mg=this.touches.length;this.kl=k.identifier;this.touches.push(b(f,g,k.identifier,this.Mg));this.c.trigger(ic.prototype.T.Xu,this);this.c.trigger(ic.prototype.T.av,this);this.Zg=f;this.$g=g;this.c.trigger(ic.prototype.T.$u,this)}this.c.Xe=!1};l.At=function(a,b){a.preventDefault&&db(a)&&a.preventDefault();this.c.Xe=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.em(e.identifier),0<=e&&(this.Mg=this.touches[e].qn,this.kl=this.touches[e].id,this.c.trigger(ic.prototype.T.Wu,
this),this.c.trigger(ic.prototype.T.Zu,this),b||this.touches[e].Cx(this,e),100>u.length&&u.push(this.touches[e]),this.touches.splice(e,1));this.c.Xe=!1};l.hG=function(){return this.c.tm&&0===this.Ym&&0!==k?90*k:this.c.Ef&&0===this.Ym&&0!==s?90*s:this.Ym};l.iG=function(){return this.c.tm&&0===this.Zm&&0!==h?-90*h:this.c.Ef&&0===this.Zm&&0!==r?90*r:this.Zm};l.lG=function(){return this.c.tm&&0===this.$m&&0!==m?90*m:this.c.Ef&&0===this.$m&&0!==q?90*q:this.$m};l.YD=function(a){a.preventDefault&&this.c.$r&&
!this.c.hi&&a.preventDefault();this.Nx({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.pt=!0};l.ZD=function(a){this.pt&&this.Mx({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};l.$D=function(a){a.preventDefault&&this.c.$r&&!this.c.hi&&a.preventDefault();this.c.$r=!0;this.At({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.pt=!1};l.tn=function(){var a,b,c,d=Ra();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Hs=d),c.ND(this,
a)};e.prototype.av=function(){return!0};e.prototype.Zu=function(){return!0};e.prototype.$u=function(a){return a?this.c.hq(a,this.Zg,this.$g):!1};var J=[];e.prototype.Bz=function(a){if(!a)return!1;var b=a.pb(),c=b.Bf(),d,e,k,f,g,h;k=0;for(f=c.length;k<f;k++){var l=c[k];l.Za();g=0;for(h=this.touches.length;g<h;g++)if(e=this.touches[g],d=l.S.qd(e.x,e.y,!0),e=l.S.qd(e.x,e.y,!1),l.$c(d,e)){J.push(l);break}}return J.length?(b.Fb=!1,Aa(b.C,J),a.Ug(),J.length=0,!0):!1};e.prototype.Xu=function(a){a=Math.floor(a);
return a===this.Mg};e.prototype.Wu=function(a){a=Math.floor(a);return a===this.Mg};e.prototype.Sz=function(){return!0};e.prototype.bA=function(){return!0};e.prototype.Pz=function(){return!0};e.prototype.Tz=function(a){return a?this.c.hq(a,this.Zg,this.$g):!1};e.prototype.cA=function(a){return a?this.c.hq(a,this.Zg,this.$g):!1};e.prototype.Qz=function(a){return a?this.c.hq(a,this.Zg,this.$g):!1};g.T=new e;f.prototype.uA=function(a,b){var c=this.Ak;if(0>c||c>=this.touches.length)a.ha(0);else{var d,
e,k,f,g;ha(b)?(d=this.c.hm(0),e=d.scale,k=d.ag,f=d.ef,g=d.M,d.scale=1,d.ag=1,d.ef=1,d.M=0,a.ha(d.qd(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.ag=k,d.ef=f,d.M=g):(d=ja(b)?this.c.hm(b):this.c.Xr(b))?a.ha(d.qd(this.touches[c].x,this.touches[c].y,!0)):a.ha(0)}};f.prototype.vA=function(a,b){var c=this.Ak;if(0>c||c>=this.touches.length)a.ha(0);else{var d,e,k,f,g;ha(b)?(d=this.c.hm(0),e=d.scale,k=d.ag,f=d.ff,g=d.M,d.scale=1,d.ag=1,d.ff=1,d.M=0,a.ha(d.qd(this.touches[c].x,this.touches[c].y,!1)),
d.scale=e,d.ag=k,d.ff=f,d.M=g):(d=ja(b)?this.c.hm(b):this.c.Xr(b))?a.ha(d.qd(this.touches[c].x,this.touches[c].y,!1)):a.ha(0)}};g.ue=new f})();function y(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)fa("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,b,d,e){this.type=c.tk;this.jb=new h;this.kb=new h;this.Yf=null;void 0!==a&&(this.I=a);void 0!==b&&(this.K=b);void 0!==d&&this.jb.F(d);void 0!==e&&this.kb.F(e);this.Xk=this.Ax=this.vu=this.Ss=this.Fg=0;this.uk=this.nj=!1}function c(a){this.I=a.I;this.K=a.K;this.Yf=a.Yf;this.type=a.type;this.next=null}function b(a,
b){this.up=[];this.sb=[];this.Jj=[];this.sh=null;this.zD=[];this.Kb=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.wb=a;this.rb=b;this.GD=c}function f(a,b){var c=a.Yf;a.Yf=null;this.Da=b;this.A=new n(a.position,m.ek(a.M));this.Nm=[];this.Jm=a.Yc;a.type===f.me&&(a.yf=0);this.cc=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.Kb,a);a.Yf=c}function g(a,b,c,d){this.Lm=a;this.Xs=c;this.zh={};this.zh.wd=h.r(0,0);this.xp=!1;this.vp=d.yf;this.Zs=d.pg;this.ht=
d.Gg;this.xp=d.ts}function l(){}function n(a,b){this.position=h.r(0,0);this.n=new m;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.F(a),this.n.pf(b))}function m(){this.i=h.r(0,0);this.j=h.r(0,0);this.Rh()}function h(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}O=h;h.Sg=[];h.r=function(a,b){if(0<O.Sg.length){var c=O.Sg.pop();c.Set(a,b);return c}return new O(a,b)};h.Pb=function(a){1E4>O.Sg.length&&O.Sg.push(a)};h.prototype.ba=function(){this.y=this.x=0};h.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};h.prototype.F=function(a){this.x=a.x;this.y=a.y};h.qF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return h.r(a,b)};h.prototype.Yb=function(){return h.r(this.x,this.y)};h.prototype.Og=function(a){this.x+=a.x;this.y+=a.y};h.prototype.Xq=function(a){this.x-=a.x;this.y-=a.y};h.prototype.md=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};h.prototype.fg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};h.prototype.Tn=function(){return this.x*
this.x+this.y*this.y};h.prototype.nd=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};h.prototype.Oq=function(){this.x=-this.x;this.y=-this.y};P=m;m.ek=function(a){void 0===a&&(a=0);var b=new m;b.Set(a);return b};m.eg=function(a,b){var c=new m;c.Vq(a,b);return c};m.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.i.x=b;this.j.x=-a;this.i.y=a;this.j.y=b};m.prototype.Vq=function(a,b){this.i.F(a);
this.j.F(b)};m.prototype.Yb=function(){var a=new m;a.pf(this);return a};m.prototype.pf=function(a){this.i.F(a.i);this.j.F(a.j)};m.prototype.Dn=function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.j.x+=a.j.x;this.j.y+=a.j.y};m.prototype.Rh=function(){this.i.x=1;this.j.x=0;this.i.y=0;this.j.y=1};m.prototype.ba=function(){this.i.x=0;this.j.x=0;this.i.y=0;this.j.y=0};m.prototype.jd=function(){return Math.atan2(this.i.y,this.i.x)};m.prototype.Gq=function(a){var b=this.i.x,c=this.j.x,d=this.i.y,e=this.j.y,
f=b*e-c*d;0!==f&&(f=1/f);a.i.x=f*e;a.j.x=-f*c;a.i.y=-f*d;a.j.y=f*b;return a};m.prototype.Sh=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.i.x,e=this.j.x,f=this.i.y,g=this.j.y,h=d*g-e*f;0!==h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};m.prototype.Ng=function(){this.i.Ng();this.j.Ng()};jc=n;n.prototype.Qb=function(a,b){this.position.F(a);this.n.pf(b)};n.prototype.Rh=function(){this.position.ba();this.n.Rh()};n.prototype.Set=function(a){this.position.F(a.position);this.n.pf(a.n)};
n.prototype.Un=function(){return Math.atan2(this.n.i.y,this.n.i.x)};U=l;l.Sn=function(a){void 0===a&&(a=0);return isFinite(a)};l.tb=function(a,b){return a.x*b.x+a.y*b.y};l.Ri=function(a,b){return a.x*b.y-a.y*b.x};l.Pg=function(a,b){void 0===b&&(b=0);return h.r(b*a.y,-b*a.x)};l.Bq=function(a,b){void 0===a&&(a=0);return h.r(-a*b.y,a*b.x)};l.Gb=function(a,b){return h.r(a.i.x*b.x+a.j.x*b.y,a.i.y*b.x+a.j.y*b.y)};l.Qg=function(a,b){return h.r(l.tb(b,a.i),l.tb(b,a.j))};l.mc=function(a,b){var c=l.Gb(a.n,
b);c.x+=a.position.x;c.y+=a.position.y;return c};l.Mq=function(a,b){var c=l.ib(b,a.position),d=c.x*a.n.i.x+c.y*a.n.i.y;c.y=c.x*a.n.j.x+c.y*a.n.j.y;c.x=d;return c};l.tl=function(a,b){return h.r(a.x+b.x,a.y+b.y)};l.ib=function(a,b){return h.r(a.x-b.x,a.y-b.y)};l.qz=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};l.Gu=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};l.Fz=function(a,b){void 0===a&&(a=0);return h.r(a*b.x,a*b.y)};l.dz=function(a,b){return m.eg(l.tl(a.i,b.i),l.tl(a.j,
b.j))};l.Gz=function(a,b){return m.eg(l.Gb(a,b.i),l.Gb(a,b.j))};l.Hz=function(a,b){var c=h.r(l.tb(a.i,b.i),l.tb(a.j,b.i)),d=h.r(l.tb(a.i,b.j),l.tb(a.j,b.j));return m.eg(c,d)};l.Ng=function(a){void 0===a&&(a=0);return 0<a?a:-a};l.ql=function(a){return h.r(l.Ng(a.x),l.Ng(a.y))};l.bz=function(a){return m.eg(l.ql(a.i),l.ql(a.j))};l.Ru=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};l.Su=function(a,b){return h.r(l.Ru(a.x,b.x),l.Ru(a.y,b.y))};l.Pu=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=0);return a>b?a:b};l.Qu=function(a,b){return h.r(l.Pu(a.x,b.x),l.Pu(a.y,b.y))};l.nb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};l.hz=function(a,b,c){return l.Qu(b,l.Su(a,c))};l.ZF=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};l.EF=function(){return 2*Math.random()-1};l.FF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};l.wF=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;
a|=a>>8&16777215;return(a|a>>16&65535)+1};l.mF=function(a){void 0===a&&(a=0);return 0<a&&0===(a&a-1)};l.RA=new h(0,0);l.QA=m.eg(new h(1,0),new h(0,1));l.fG=new n(l.RA,l.QA);V=function(){this.position=h.r(0,0);this.Ls=h.r(0,0);this.Yf=null;this.M=0;this.Ls.Set(0,0);this.bj=this.Cj=this.zv=0;this.Ev=this.yv=!0;this.gj=this.Kr=!1;this.type=f.me;this.Yc=!0;this.ww=1};kc=g;g.prototype.La=function(){return this.Lm};g.prototype.lc=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");
return null};g.prototype.Wi=function(){return this.xp};lc=f;f.prototype.bk=function(a){var b=a.Yf;a.Yf=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Da.Kb,this.cc,a);a.Yf=b;a=new g(this,0,c,a);this.Da.Jj[c]=a;this.Nm.push(a);return a};f.prototype.Fq=function(){return 0===this.Nm.length?null:this.Nm[0]};f.prototype.Fu=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.Da.Kb,a.Xs);delete this.Da.Jj[a.Xs]};f.prototype.Kl=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",
this.Da.Kb,this.cc,a.x,a.y,b);this.A.n.Set(b);this.A.position.F(a)};f.prototype.Uq=function(a){this.Kl(a,this.jd())};f.prototype.Si=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Da.Kb,this.cc);return h.r(a[0],a[1])};f.prototype.gk=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Da.Kb,this.cc);return h.r(a[0],a[1])};f.prototype.Ti=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Da.Kb,this.cc);return h.r(a[0],a[1])};
f.prototype.Wc=function(a){return l.Mq(this.A,a)};f.prototype.fk=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getMass",this.Da.Kb,this.cc)};f.prototype.Xc=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.Da.Kb,this.cc)};f.prototype.Nn=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Da.Kb,this.cc)};f.prototype.Kc=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.Da.Kb,this.cc,a)};f.prototype.Yi=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",
this.Da.Kb,this.cc,a.x,a.y)};f.prototype.bg=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Da.Kb,this.cc,a.x,a.y,b.x,b.y,c)};f.prototype.En=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.Da.Kb,this.cc,a,b)};f.prototype.Il=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Da.Kb,this.cc,a)};f.prototype.Vi=function(){return this.Jm};f.prototype.jd=function(){return this.A.n.jd()};f.prototype.Un=function(a){void 0===a&&(a=0);this.Kl(this.A.position,
a)};f.prototype.Oh=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Da.Kb,this.cc),b=[],c=0;c<a.length;c++)b.push(this.Da.up[a[c]]);return b};lc.me=0;lc.Gv=1;lc.nc=2;e.prototype.Kq=function(){return this.GD};mc=d;d.prototype.Fn=function(){};mc.Fv=new d;nc=function(){};oc=b;b.prototype.jv=function(a){this.sh=a};b.prototype.iv=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",this.Kb,function(c,d){return a.Zi(b.Jj[c],b.Jj[d])})};b.prototype.Aq=
function(a){a=new f(a,this);return this.up[a.cc]=a};b.prototype.Kn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.Kb,a.cc);delete this.up[a.cc];for(var b=0;b<a.Nm.length;++b)delete this.Jj[a.Nm[b].Xs]};b.prototype.Jn=function(a){if(a.I.cc!==a.K.cc){var b=a.I,d=a.K;a.I=b.cc;a.K=d.cc;var e="createDistanceJoint";a.type===c.tk&&(e="createRevoluteJoint");var f=new c(a);f.yD=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.Kb,a);a.I=b;a.K=d;this.zD.push(f);return f}};b.prototype.Ln=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",
this.Kb,a.yD)};b.prototype.Rg=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.Kb,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.up[c[a+0]];if(null===d)break;d.A.position.Set(c[a+1],c[a+2]);d.A.n.Set(c[a+3])}if(null!==this.sh)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.Kb),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.Jj[c[a+0]],g=this.Jj[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.sh.Fn(new e(f,
g,d))}};b.prototype.Eu=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.Kb)};pc=function(a){this.Qp=a;this.type="circle"};W=function(){};W.prototype.Vn=function(a,b){this.type="box";this.width=a;this.height=b};W.prototype.gv=function(){this.type="edge"};W.prototype.Jl=function(a,b){this.type="polygon";this.Xy=[];for(var c=0;c<b;c++)this.Xy.push(a[c].x),this.Xy.push(a[c].y)};qc=function(){this.Yf=this.shape=null;this.pg=.2;this.yf=this.Gg=0;this.ts=!1;this.filter={pk:1,Vk:65535,ei:0}};
Z=c;c.prototype.yl=function(){return this.I};c.prototype.Eq=function(){return this.K};c.prototype.vc=function(){return this.type};c.Dr=0;c.tk=1;rc=function(a,b,d,e){this.type=c.Dr;this.jb=h.r(0,0);this.kb=h.r(0,0);this.Yf=null;void 0!==a&&(this.I=a);void 0!==b&&(this.K=b);void 0!==d&&this.jb.F(d);void 0!==e&&this.kb.F(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.xo=this.Mo=0};a.prototype.Qb=function(a,b,c){this.I=a;this.K=b;this.jb=this.I.Wc(c);this.kb=this.K.Wc(c);
this.Fg=this.K.jd()-this.I.jd()};sc=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");else{var U={},tc=2/180*Math.PI,uc=8/180*Math.PI,vc=.5*Math.PI,wc=vc*vc,xc=2/180*Math.PI,yc=Number.MIN_VALUE*Number.MIN_VALUE;U.tb=function(a,c){return a.x*c.x+a.y*c.y};U.Ri=function(a,c){return a.x*c.y-a.y*c.x};U.Pg=function(a,c){return O.r(c*a.y,-c*a.x)};U.Bq=function(a,c){return O.r(-a*c.y,a*c.x)};U.Gb=function(a,c){return O.r(a.i.x*c.x+a.j.x*c.y,a.i.y*
c.x+a.j.y*c.y)};U.Qg=function(a,c){return O.r(U.tb(c,a.i),U.tb(c,a.j))};U.mc=function(a,c){var b=U.Gb(a.n,c);b.x+=a.position.x;b.y+=a.position.y;return b};U.Mq=function(a,c){var b=U.ib(c,a.position),d=b.x*a.n.i.x+b.y*a.n.i.y;b.y=b.x*a.n.j.x+b.y*a.n.j.y;b.x=d;return b};U.tl=function(a,c){return O.r(a.x+c.x,a.y+c.y)};U.ib=function(a,c){return O.r(a.x-c.x,a.y-c.y)};U.qz=function(a,c){return Math.sqrt(U.Gu(a,c))};U.Gu=function(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d};U.Fz=function(a,c){return O.r(a*
c.x,a*c.y)};U.dz=function(a,c){return P.eg(U.tl(a.i,c.i),U.tl(a.j,c.j))};U.Gz=function(a,c){return P.eg(U.Gb(a,c.i),U.Gb(a,c.j))};U.Hz=function(a,c){var b=O.r(U.tb(a.i,c.i),U.tb(a.j,c.i)),d=O.r(U.tb(a.i,c.j),U.tb(a.j,c.j));return P.eg(b,d)};U.ql=function(a){return O.r(Math.abs(a.x),Math.abs(a.y))};U.bz=function(a){return P.eg(U.ql(a.i),U.ql(a.j))};U.nb=function(a,c,b){return a<c?c:a>b?b:a};U.hz=function(a,c,b){return O.r(U.nb(a.x,c.x,b.x),U.nb(a.y,c.y,b.y))};var P=function(){this.i=O.r(0,0);this.j=
O.r(0,0);this.Rh()};P.ek=function(a){var c=new P;c.Set(a);return c};P.eg=function(a,c){var b=new P;b.Vq(a,c);return b};t=P.prototype;t.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.i.Set(c,a);this.j.Set(-a,c)};t.Vq=function(a,c){this.i.F(a);this.j.F(c)};t.Yb=function(){var a=new P;a.pf(this);return a};t.pf=function(a){this.i.F(a.i);this.j.F(a.j)};t.Dn=function(a){this.i.Og(a.i);this.j.Og(a.j)};t.Rh=function(){this.i.Set(1,0);this.j.Set(0,1)};t.ba=function(){this.i.Set(0,0);this.j.Set(0,0)};
t.jd=function(){return Math.atan2(this.i.y,this.i.x)};t.Gq=function(a){var c=this.i.x*this.j.y-this.j.x*this.i.y;0!==c&&(c=1/c);a.i.x=c*this.j.y;a.j.x=-c*this.j.x;a.i.y=-c*this.i.y;a.j.y=c*this.i.x;return a};t.Sh=function(a,c,b){var d=this.i.x*this.j.y-this.j.x*this.i.y;0!==d&&(d=1/d);a.x=d*(this.j.y*c-this.j.x*b);a.y=d*(this.i.x*b-this.i.y*c);return a};t.Ng=function(){this.i.Ng();this.j.Ng()};var Ac=function(a,c,b){this.i=new zc(0,0,0);this.j=new zc(0,0,0);this.la=new zc(0,0,0);a&&this.i.F(a);c&&
this.j.F(c);b&&this.la.F(b)};t=Ac.prototype;t.Yb=function(){return new Ac(this.i,this.j,this.la)};t.pf=function(a){this.i.F(a.i);this.j.F(a.j);this.la.F(a.la)};t.Dn=function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.i.z+=a.i.z;this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.la.x+=a.la.x;this.la.y+=a.la.y;this.la.z+=a.la.z};t.Rh=function(){this.i.Set(1,0,0);this.j.Set(0,1,0);this.la.Set(0,0,1)};t.ba=function(){this.i.Set(0,0,0);this.j.Set(0,0,0);this.la.Set(0,0,0)};t.kk=function(a,c,b){var d=this.i.x,
e=this.j.x,f=this.i.y,g=this.j.y,l=d*g-e*f;0!=l&&(l=1/l);a.x=l*(g*c-e*b);a.y=l*(d*b-f*c);return a};t.Ll=function(a,c,b,d){var e=this.i.x,f=this.i.y,g=this.i.z,l=this.j.x,n=this.j.y,m=this.j.z,h=this.la.x,k=this.la.y,q=this.la.z,r=e*(n*q-m*k)+f*(m*h-l*q)+g*(l*k-n*h);0!=r&&(r=1/r);a.x=r*(c*(n*q-m*k)+b*(m*h-l*q)+d*(l*k-n*h));a.y=r*(e*(b*q-d*k)+f*(d*h-c*q)+g*(c*k-b*h));a.z=r*(e*(n*d-m*b)+f*(m*c-l*d)+g*(l*b-n*c));return a};var Bc=function(){this.L=O.r(0,0);this.zc=O.r(0,0);this.u=O.r(0,0)};Bc.prototype.Set=
function(a){this.L.F(a.L);this.zc.F(a.zc);this.u.F(a.u);this.Oe=a.Oe;this.J=a.J;this.hd=a.hd};Bc.prototype.Yb=function(){var a=new Bc;a.L.F(this.L);a.zc.F(this.zc);a.u.F(this.u);a.Oe=this.Oe;a.J=this.J;a.hd=this.hd;return a};Bc.prototype.Od=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.zc.x+c*this.u.x;a.position.y=(1-c)*this.zc.y+c*this.u.y;a.n.Set((1-c)*this.Oe+c*this.J);var b=a.n;a.position.x-=b.i.x*this.L.x+b.j.x*this.L.y;a.position.y-=b.i.y*this.L.x+b.j.y*this.L.y};Bc.prototype.Nh=function(a){void 0===
a&&(a=0);if(this.hd<a&&1-this.hd>Number.MIN_VALUE){var c=(a-this.hd)/(1-this.hd);this.zc.x=(1-c)*this.zc.x+c*this.u.x;this.zc.y=(1-c)*this.zc.y+c*this.u.y;this.Oe=(1-c)*this.Oe+c*this.J;this.hd=a}};var jc=function(a,c){this.position=O.r(0,0);this.n=new P;a&&this.position.F(a);c&&this.n.pf(c)};jc.prototype.Qb=function(a,c){this.position.F(a);this.n.pf(c)};jc.prototype.Rh=function(){this.position.ba();this.n.Rh()};jc.prototype.Set=function(a){this.position.F(a.position);this.n.pf(a.n)};jc.prototype.jd=
function(){return Math.atan2(this.n.i.y,this.n.i.x)};var O=function(a,c){this.x=a;this.y=c};O.Sg=[];O.r=function(a,c){if(0<O.Sg.length){var b=O.Sg.pop();b.Set(a,c);return b}return new O(a,c)};O.Pb=function(a){O.Sg.push(a)};t=O.prototype;t.ba=function(){this.y=this.x=0};t.Set=function(a,c){this.x=a;this.y=c};t.F=function(a){this.x=a.x;this.y=a.y};t.Ph=function(){return O.r(-this.x,-this.y)};t.Oq=function(){this.x=-this.x;this.y=-this.y};t.Yb=function(){return O.r(this.x,this.y)};t.Og=function(a){this.x+=
a.x;this.y+=a.y};t.Xq=function(a){this.x-=a.x;this.y-=a.y};t.md=function(a){this.x*=a;this.y*=a};t.Pg=function(a){var c=this.x;this.x=a*this.y;this.y=-a*c};t.Bq=function(a){var c=this.x;this.x=-a*this.y;this.y=a*c};t.Su=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};t.Qu=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};t.Ng=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};t.fg=function(){return Math.sqrt(this.Tn())};t.Tn=function(){return this.x*
this.x+this.y*this.y};t.nd=function(){var a=this.fg();if(a<Number.MIN_VALUE)return 0;var c=1/a;this.x*=c;this.y*=c;return a};t.Sn=function(){return isFinite(this.x)&&isFinite(this.y)};var zc=function(a,c,b){this.x=a;this.y=c;this.z=b};t=zc.prototype;t.ba=function(){this.z=this.y=this.x=0};t.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};t.F=function(a){this.x=a.x;this.y=a.y;this.z=a.z};t.Ph=function(){return new zc(-this.x,-this.y,-this.z)};t.Oq=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};
t.Yb=function(){return new zc(this.x,this.y,this.z)};t.Og=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};t.Xq=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};t.md=function(a){this.x*=a;this.y*=a;this.z*=a};var Cc=function(){this.Na=.005};t=Cc.prototype;t.Ui=function(){};t.Yb=function(){};t.Set=function(a){this.Na=a.Na};t.ak=function(){};t.ul=function(){};t.In=function(){};t.Tq=function(){};var pc=function(a){this.Na=.005;this.Na=a;this.Sk=a*a;this.Wa=O.r(0,0)};y(pc,Cc);t=pc.prototype;t.Ui=function(){return pc.of};
t.Yb=function(){var a=new pc(this.Na);a.Set(this);return a};t.Set=function(a){Cc.prototype.Set.call(this,a);a instanceof pc&&this.Wa.F(a.Wa)};t.ak=function(a,c){var b=c.n,d=c.position.x+(b.i.x*this.Wa.x+b.j.x*this.Wa.y),b=c.position.y+(b.i.y*this.Wa.x+b.j.y*this.Wa.y);a.ua.Set(d-this.Na,b-this.Na);a.xa.Set(d+this.Na,b+this.Na)};t.ul=function(a,c){a.Bg=c*Math.PI*this.Sk;a.Vg.F(this.Wa);a.hk=a.Bg*(.5*this.Sk+(this.Wa.x*this.Wa.x+this.Wa.y*this.Wa.y))};t.In=function(a,c,b,d){b=U.mc(b,this.Wa);var e=
-(U.tb(a,b)-c);if(e<-this.Na+Number.MIN_VALUE)return 0;if(e>this.Na)return d.F(b),Math.PI*this.Sk;c=e*e;e=this.Sk*(Math.asin(e/this.Na)+Math.PI/2)+e*Math.sqrt(this.Sk-c);c=-2/3*Math.pow(this.Sk-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};t.Tq=function(a){a.H=[this.Wa];a.ia=1;a.Na=this.Na};pc.of="b2CircleShape";var Dc=function(a,c){this.Na=.005;this.ja=a;this.Ca=c;this.Ij=O.r(this.Ca.x-this.ja.x,this.Ca.y-this.ja.y);this.$s=this.Ij.nd();this.na=O.r(this.Ij.y,-this.Ij.x);O.r(-.04*(this.na.x-this.Ij.x)+
this.ja.x,-.04*(this.na.y-this.Ij.y)+this.ja.y);O.r(-.04*(this.na.x+this.Ij.x)+this.Ca.x,-.04*(this.na.y+this.Ij.y)+this.Ca.y);O.r(-this.na.x,-this.na.y)};y(Dc,Cc);Dc.prototype.Ui=function(){return"b2EdgeShape"};Dc.prototype.ak=function(a,c){var b=c.n,d=c.position.x+(b.i.x*this.ja.x+b.j.x*this.ja.y),e=c.position.y+(b.i.y*this.ja.x+b.j.y*this.ja.y),f=c.position.x+(b.i.x*this.Ca.x+b.j.x*this.Ca.y),b=c.position.y+(b.i.y*this.Ca.x+b.j.y*this.Ca.y);d<f?(a.ua.x=d,a.xa.x=f):(a.ua.x=f,a.xa.x=d);e<b?(a.ua.y=
e,a.xa.y=b):(a.ua.y=b,a.xa.y=e)};Dc.prototype.ul=function(a){a.Bg=0;a.Vg.F(this.ja);a.hk=0};Dc.prototype.In=function(a,c,b,d){void 0===c&&(c=0);var e=O.r(a.x*c,a.y*c),f=U.mc(b,this.ja);b=U.mc(b,this.Ca);var g=U.tb(a,f)-c;a=U.tb(a,b)-c;if(0<g){if(0<a)return 0;f.x=-a/(g-a)*f.x+g/(g-a)*b.x;f.y=-a/(g-a)*f.y+g/(g-a)*b.y}else 0<a&&(b.x=-a/(g-a)*f.x+g/(g-a)*b.x,b.y=-a/(g-a)*f.y+g/(g-a)*b.y);d.x=(e.x+f.x+b.x)/3;d.y=(e.y+f.y+b.y)/3;return.5*((f.x-e.x)*(b.y-e.y)-(f.y-e.y)*(b.x-e.x))};var Ec=function(){this.Bg=
0;this.Vg=O.r(0,0);this.hk=0},W=function(){this.Na=.005;this.wd=O.r(0,0);this.H=[];this.oa=[]};y(W,Cc);W.prototype.Ui=function(){return W.of};W.prototype.Yb=function(){var a=new W;a.Set(this);return a};W.prototype.Set=function(a){Cc.prototype.Set.call(this,a);if(a instanceof W){this.wd.F(a.wd);this.Ha=a.Ha;this.Hl(this.Ha);for(var c=0;c<this.Ha;c++)this.H[c].F(a.H[c]),this.oa[c].F(a.oa[c])}};W.prototype.Jl=function(a){this.hv(a)};W.QE=function(a){var c=new W;c.Jl(a);return c};W.prototype.hv=function(a){var c=
a.length;this.Ha=c;this.Hl(c);for(c=c=0;c<this.Ha;c++)this.H[c].F(a[c]);for(c=0;c<this.Ha;++c)a=U.ib(this.H[c+1<this.Ha?c+1:0],this.H[c]),this.oa[c].F(U.Pg(a,1)),this.oa[c].nd();this.wd=W.nz(this.H,this.Ha)};W.UE=function(a){var c=new W;c.hv(a);return c};W.prototype.Vn=function(a,c){this.Ha=4;this.Hl(4);this.H[0].Set(-a,-c);this.H[1].Set(a,-c);this.H[2].Set(a,c);this.H[3].Set(-a,c);this.oa[0].Set(0,-1);this.oa[1].Set(1,0);this.oa[2].Set(0,1);this.oa[3].Set(-1,0);this.wd.ba()};W.RE=function(a,c){var b=
new W;b.Vn(a,c);return b};W.prototype.iA=function(a,c,b,d){this.Ha=4;this.Hl(4);this.H[0].Set(-a,-c);this.H[1].Set(a,-c);this.H[2].Set(a,c);this.H[3].Set(-a,c);this.oa[0].Set(0,-1);this.oa[1].Set(1,0);this.oa[2].Set(0,1);this.oa[3].Set(-1,0);this.wd=b;a=new P;a.Set(d);b=new jc(b,a);for(d=0;d<this.Ha;++d)this.H[d]=U.mc(b,this.H[d]),this.oa[d]=U.Gb(b.n,this.oa[d])};W.TE=function(a,c,b,d){var e=new W;e.iA(a,c,b,d);return e};W.prototype.gv=function(a,c){this.Ha=2;this.Hl(2);this.H[0].F(a);this.H[1].F(c);
this.wd.x=.5*(a.x+c.x);this.wd.y=.5*(a.y+c.y);this.oa[0]=U.Pg(U.ib(c,a),1);this.oa[0].nd();this.oa[1].x=-this.oa[0].x;this.oa[1].y=-this.oa[0].y};W.SE=function(a,c){var b=new W;b.gv(a,c);return b};t=W.prototype;t.ak=function(a,c){for(var b=c.n,d=this.H[0],e=c.position.x+(b.i.x*d.x+b.j.x*d.y),f=c.position.y+(b.i.y*d.x+b.j.y*d.y),g=e,l=f,n=1;n<this.Ha;++n)var d=this.H[n],m=c.position.x+(b.i.x*d.x+b.j.x*d.y),d=c.position.y+(b.i.y*d.x+b.j.y*d.y),e=e<m?e:m,f=f<d?f:d,g=g>m?g:m,l=l>d?l:d;a.ua.x=e-this.Na;
a.ua.y=f-this.Na;a.xa.x=g+this.Na;a.xa.y=l+this.Na};t.ul=function(a,c){if(2==this.Ha)a.Vg.x=.5*(this.H[0].x+this.H[1].x),a.Vg.y=.5*(this.H[0].y+this.H[1].y),a.Bg=0,a.hk=0;else{for(var b=0,d=0,e=0,f=0,g=1/3,l=0;l<this.Ha;++l)var n=this.H[l],m=l+1<this.Ha?this.H[l+1]:this.H[0],h=n.x-0,k=n.y-0,q=m.x-0,r=m.y-0,s=h*r-k*q,u=.5*s,e=e+u,b=b+u*g*(0+n.x+m.x),d=d+u*g*(0+n.y+m.y),n=h,f=f+s*(g*(.25*(n*n+q*n+q*q)+(0*n+0*q))+0+(g*(.25*(k*k+r*k+r*r)+(0*k+0*r))+0));a.Bg=c*e;a.Vg.Set(1/e*b,1/e*d);a.hk=c*f}};t.In=function(a,
c,b,d){var e=U.Qg(b.n,a),f=c-U.tb(a,b.position),g=[],l=0,n=-1;c=-1;var m=!1;for(a=a=0;a<this.Ha;++a){g[a]=U.tb(e,this.H[a])-f;var h=g[a]<-Number.MIN_VALUE;0<a&&(h?m||(n=a-1,l++):m&&(c=a-1,l++));m=h}switch(l){case 0:return m?(a=new Ec,this.ul(a,1),d.F(U.mc(b,a.Vg)),a.Bg):0;case 1:-1==n?n=this.Ha-1:c=this.Ha-1}a=(n+1)%this.Ha;e=(c+1)%this.Ha;f=(0-g[n])/(g[a]-g[n]);g=(0-g[c])/(g[e]-g[c]);n=O.r(this.H[n].x*(1-f)+this.H[a].x*f,this.H[n].y*(1-f)+this.H[a].y*f);c=O.r(this.H[c].x*(1-g)+this.H[e].x*g,this.H[c].y*
(1-g)+this.H[e].y*g);g=0;f=O.r(0,0);for(l=this.H[a];a!=e;)a=(a+1)%this.Ha,m=a==e?c:this.H[a],h=.5*((l.x-n.x)*(m.y-n.y)-(l.y-n.y)*(m.x-n.x)),g+=h,f.x+=h*(n.x+l.x+m.x)/3,f.y+=h*(n.y+l.y+m.y)/3,l=m;f.md(1/g);d.F(U.mc(b,f));return g};t.Tq=function(a){a.H=this.H;a.ia=this.Ha;a.Na=this.Na};t.Qn=function(a){for(var c=0,b=this.H[0].x*a.x+this.H[0].y*a.y,d=1;d<this.Ha;++d){var e=this.H[d].x*a.x+this.H[d].y*a.y;e>b&&(c=d,b=e)}return c};t.Bl=function(a){for(var c=0,b=this.H[0].x*a.x+this.H[0].y*a.y,d=1;d<this.Ha;++d){var e=
this.H[d].x*a.x+this.H[d].y*a.y;e>b&&(c=d,b=e)}return this.H[c]};t.Hl=function(a){this.H=[];this.oa=[];for(var c=this.H.length;c<a;c++)this.H[c]=O.r(0,0),this.oa[c]=O.r(0,0)};W.nz=function(a,c){for(var b=O.r(0,0),d=0,e=1/3,f=0;f<c;++f){var g=a[f],l=f+1<c?a[f+1]:a[0],n=.5*((g.x-0)*(l.y-0)-(g.y-0)*(l.x-0)),d=d+n;b.x+=n*e*(0+g.x+l.x);b.y+=n*e*(0+g.y+l.y)}b.x*=1/d;b.y*=1/d;return b};W.rG=new P;W.of="b2PolygonShape";var Fc=function(){this.$q=this.Zq=this.br=this.od=0};t=Fc.prototype;t.Xi=function(a){this.od=
a;this.br=this.od&255;this.Zq=(this.od&65280)>>8&255;this.$q=(this.od&16711680)>>16&255;this.sv=(this.od&4278190080)>>24&255};t.Set=function(a){this.Xi(a.od)};t.mv=function(a){this.br=a;this.od=this.od&4294967040|this.br&255};t.kv=function(a){this.Zq=a;this.od=this.od&4294902015|this.Zq<<8&65280};t.lv=function(a){this.$q=a;this.od=this.od&4278255615|this.$q<<16&16711680};t.jA=function(a){this.sv=a;this.od=this.od&16777215|this.sv<<24&4278190080};t.Yb=function(){var a=new Fc;a.Set(this);return a};
var Gc=function(){this.Ke=O.r(0,0);this.id=new Fc};Gc.prototype.Set=function(a){this.Ke.F(a.Ke);this.id.Set(a.id)};var Hc=function(){this.ua=O.r(0,0);this.xa=O.r(0,0)},Ic=[],Jc=function(){if(0<Ic.length){var a=Ic.pop();a.ba();return a}return new Hc};t=Hc.prototype;t.ba=function(){this.ua.Set(0,0);this.xa.Set(0,0)};t.Sn=function(){return 0>this.xa.x-this.ua.x||0>this.xa.y-this.ua.y?!1:this.ua.Sn()&&this.xa.Sn()};t.uz=function(){return O.r((this.ua.x+this.xa.x)/2,(this.ua.y+this.xa.y)/2)};t.zq=function(a){var c;
return c=(c=(c=(c=this.ua.x<=a.ua.x)&&this.ua.y<=a.ua.y)&&a.xa.x<=this.xa.x)&&a.xa.y<=this.xa.y};t.Ml=function(a){return 0<a.ua.x-this.xa.x||0<a.ua.y-this.xa.y||0<this.ua.x-a.xa.x||0<this.ua.y-a.xa.y?!1:!0};t.Hn=function(a,c){this.ua.x=Math.min(a.ua.x,c.ua.x);this.ua.y=Math.min(a.ua.y,c.ua.y);this.xa.x=Math.max(a.xa.x,c.xa.x);this.xa.y=Math.max(a.xa.y,c.xa.y)};var Kc=function(a,c,b,d){var e=0,f=c[0].Ke,g=c[1].Ke,l=b.x*f.x+b.y*f.y-d;b=b.x*g.x+b.y*g.y-d;0>=l&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);
0>l*b&&(b=l/(l-b),d=a[e].Ke,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=0<l?c[0].id:c[1].id,e++);return e},Lc=function(a,c,b,d,e){for(var f=c.n.i.x*a.oa[b].x+c.n.j.x*a.oa[b].y,g=c.n.i.y*a.oa[b].x+c.n.j.y*a.oa[b].y,l=e.n.i.x*f+e.n.i.y*g,n=e.n.j.x*f+e.n.j.y*g,m=0,h=Number.MAX_VALUE,k=0;k<d.Ha;k++){var q=d.H[k].x*l+d.H[k].y*n;q<h&&(h=q,m=k)}return(e.position.x+(e.n.i.x*d.H[m].x+e.n.j.x*d.H[m].y)-(c.position.x+(c.n.i.x*a.H[b].x+c.n.j.x*a.H[b].y)))*f+(e.position.y+(e.n.i.y*d.H[m].x+e.n.j.y*d.H[m].y)-
(c.position.y+(c.n.i.y*a.H[b].x+c.n.j.y*a.H[b].y)))*g},Mc=function(a,c,b,d){for(var e=d.position.x+(d.n.i.x*b.wd.x+d.n.j.x*b.wd.y),f=d.position.y+(d.n.i.y*b.wd.x+d.n.j.y*b.wd.y),e=e-(c.position.x+(c.n.i.x*a.wd.x+c.n.j.x*a.wd.y)),f=f-(c.position.y+(c.n.i.y*a.wd.x+c.n.j.y*a.wd.y)),g=e*c.n.i.x+f*c.n.i.y,f=e*c.n.j.x+f*c.n.j.y,e=0,l=-Number.MAX_VALUE,n=0;n<a.Ha;++n){var m=a.oa[n].x*g+a.oa[n].y*f;m>l&&(l=m,e=n)}g=Lc(a,c,e,b,d);f=e-1;0>f&&(f=a.Ha-1);l=Lc(a,c,f,b,d);n=e+1;n>=a.Ha&&(n=0);var m=Lc(a,c,n,b,
d),h=0,k=0;if(l>g&&l>m)for(h=f,k=l;;)if(e=h-1,0>e&&(e=a.Ha-1),g=Lc(a,c,e,b,d),g>k)h=e,k=g;else break;else if(m>g)for(h=n,k=m;;)if(e=h+1,e>=a.Ha&&(e=0),g=Lc(a,c,e,b,d),g>k)h=e,k=g;else break;else h=e,k=g;return{Hv:h,Vp:k}},Oc=function(a,c,b){var d=new Nc;d.eA(c,b.Dh,b.qq,b.Eh,b.rq);for(var e=0;20>e;){for(var f=[],g=0;g<d.ia;g++)f[g]={},f[g].Sb=d.H[g].Sb,f[g].Tb=d.H[g].Tb;2==d.ia?d.mA():3==d.ia&&d.nA();if(3==d.ia)break;g=d.wz();if(g.Tn()<yc)break;var l=g.Ph();d.H[d.ia].Sb=b.Dh.Qn(U.Qg(b.qq.n,l));d.H[d.ia].Uc=
U.mc(b.qq,b.Dh.Jc(d.H[d.ia].Sb));d.H[d.ia].Tb=b.Eh.Qn(U.Qg(b.rq.n,g));d.H[d.ia].nf=U.mc(b.rq,b.Eh.Jc(d.H[d.ia].Tb));d.H[d.ia].kc=U.ib(d.H[d.ia].nf,d.H[d.ia].Uc);O.Pb(g);O.Pb(l);e++;l=!1;for(g=0;g<f.length;g++)if(d.H[d.ia].Sb==f[g].Sb&&d.H[d.ia].Tb==f[g].Tb){l=!0;break}if(l)break;d.ia++}d.xz(a.Of,a.Pf);a.bh=U.ib(a.Of,a.Pf).fg();d.tA(c);b.Uy&&(c=b.Dh.Na,b=b.Eh.Na,a.bh>c+b&&a.bh>Number.MIN_VALUE?(a.bh-=c+b,d=U.ib(a.Pf,a.Of),d.nd(),a.Of.x+=c*d.x,a.Of.y+=c*d.y,a.Pf.x-=b*d.x,a.Pf.y-=b*d.y,O.Pb(d)):(b=O.r(0,
0),b.x=.5*(a.Of.x+a.Pf.x),b.y=.5*(a.Of.y+a.Pf.y),a.Of.x=a.Pf.x=b.x,a.Of.y=a.Pf.y=b.y,a.bh=0,O.Pb(b)))},Pc=function(){},Qc=function(){this.Of=O.r(0,0);this.Pf=O.r(0,0);this.bh=0},Rc=function(){};Rc.prototype.Set=function(a){a.Tq(this)};Rc.prototype.Qn=function(a){for(var c=0,b=this.H[0].x*a.x+this.H[0].y*a.y,d=1;d<this.ia;d++){var e=this.H[d].x*a.x+this.H[d].y*a.y;e>b&&(c=d,b=e)}return c};Rc.prototype.Bl=function(a){return this.H[this.Qn(a)]};Rc.prototype.Jc=function(a){void 0===a&&(a=0);return this.H[a]};
var Sc=function(){this.Ag=null};t=Sc.prototype;t.wl=function(a,c){var b=Tc(c);b.Ma.ua.x=a.ua.x-.1;b.Ma.ua.y=a.ua.y-.1;b.Ma.xa.x=a.xa.x+.1;b.Ma.xa.y=a.xa.y+.1;this.Nu(b);return b};t.xl=function(a){this.bv(a);a.Ed()};t.Lq=function(a,c,b){if(a.Ma.zq(c))return!1;this.bv(a);var d=.1+2*Math.abs(b.x);b=.1+2*Math.abs(b.y);a.Ma.ua.x=c.ua.x-d;a.Ma.ua.y=c.ua.y-b;a.Ma.xa.x=c.xa.x+d;a.Ma.xa.y=c.xa.y+b;this.Nu(a);return!0};t.zl=function(a){return a.Ma};t.Rq=function(a,c){if(null!==this.Ag){var b=[];for(b.push(this.Ag);0<
b.length;){var d=b.pop();if(d.Ma.Ml(c))if(d.Ou()){if(!a(d.Ue))break}else b.push(d.Rd),b.push(d.lg)}}};t.Nu=function(a){if(null===this.Ag)this.Ag=a,this.Ag.parent=null;else{var c=this.tz(a),b=c.parent,d=Tc();d.parent=b;d.Ma.Hn(a.Ma,c.Ma);if(b)for(c.parent.Rd==c?b.Rd=d:b.lg=d,d.Rd=c,d.lg=a,c.parent=d,a.parent=d;b&&!b.Ma.zq(d.Ma);)b.Ma.Hn(b.Rd.Ma,b.lg.Ma),d=b,b=b.parent;else d.Rd=c,d.lg=a,c.parent=d,this.Ag=a.parent=d}};t.tz=function(a){a=a.Ma.uz();for(var c=this.Ag;!c.Ou();)var b=c.Rd,c=c.lg,d=Math.abs((b.Ma.ua.x+
b.Ma.xa.x)/2-a.x)+Math.abs((b.Ma.ua.y+b.Ma.xa.y)/2-a.y),e=Math.abs((c.Ma.ua.x+c.Ma.xa.x)/2-a.x)+Math.abs((c.Ma.ua.y+c.Ma.xa.y)/2-a.y),c=d<e?b:c;O.Pb(a);return c};t.bv=function(a){if(a==this.Ag)this.Ag=null;else{var c=a.parent,b=c.parent;a=c.Rd==a?c.lg:c.Rd;if(b)for(b.Rd==c?b.Rd=a:b.lg=a,a.parent=b;b;){a=b.Ma;b.Ma.Hn(b.Rd.Ma,b.lg.Ma);if(a.zq(b.Ma))break;b=b.parent}else this.Ag=a,a.parent=null;c.Ed()}};var Uc=function(){this.Ah=new Sc;this.Bp=[]};t=Uc.prototype;t.wl=function(a,c){var b=this.Ah.wl(a,
c);this.Du(b);return b};t.xl=function(a){this.rA(a);this.Ah.xl(a)};t.Lq=function(a,c,b){this.Ah.Lq(a,c,b)&&this.Du(a)};t.Ml=function(a,c){return this.Ah.zl(a).Ml(this.Ah.zl(c))};t.zl=function(a){return this.Ah.zl(a)};t.sA=function(a){for(var c=[];0<this.Bp.length;){var b=this.Bp.pop();this.Ah.Rq(function(a){a!=b.Ue&&c.push(new Vc(b.Ue,a));return!0},this.Ah.zl(b))}for(var d=0;d<c.length;){var e=c[d];a(e.fm,e.gm);for(d++;d<c.length;){var f=c[d];if(!(f.fm==e.fm&&f.gm==e.gm||f.fm==e.gm&&f.gm==e.fm))break;
d++}}};t.Rq=function(a,c){this.Ah.Rq(a,c)};t.Du=function(a){this.Bp.push(a)};t.rA=function(a){Da(this.Bp,a)};var Wc=function(a){this.Ma=Jc();this.Ue=this.parent=this.lg=this.Rd=null;"undefined"!=typeof a&&(this.Ue=a)},Xc=[],Tc=function(a){if(0<Xc.length){var c=Xc.pop();"undefined"!=typeof a&&(c.Ue=a);c.Ma.ba();return c}return new Wc(a)};Wc.prototype.Ed=function(){this.Ue=this.parent=this.lg=this.Rd=null;Xc.push(this)};Wc.prototype.Ou=function(){return null===this.Rd};var Vc=function(a,c){this.fm=
a;this.gm=c},Zc=function(){this.Oa=this.Jb=0;this.fa=[];for(var a=0;2>a;a++)this.fa[a]=new Yc;this.Ec=O.r(0,0);this.ma=O.r(0,0)};Zc.prototype.wc=function(){for(var a=0;2>a;a++)this.fa[a].wc();this.Ec.ba();this.ma.ba();this.Jb=this.Oa=0};Zc.prototype.Set=function(a){this.Jb=a.Jb;for(var c=0;2>c;c++)this.fa[c].Set(a.fa[c]);this.Ec.F(a.Ec);this.ma.F(a.ma);this.Oa=a.Oa};Zc.prototype.Yb=function(){var a=new Zc;a.Set(this);return a};var Yc=function(){this.ma=O.r(0,0);this.bf=new Fc;this.wc()};Yc.prototype.wc=
function(){this.ma.ba();this.Pj=this.Lj=0;this.bf.Xi(0)};Yc.prototype.Set=function(a){this.ma.F(a.ma);this.Lj=a.Lj;this.Pj=a.Pj;this.bf.Set(a.bf)};var $c=function(){this.ma=O.r(0,0);this.O=O.r(0,0)};$c.prototype.Qb=function(a,c,b,d,e){this.qi=c;this.ri=d;var f,g,l,n=l=g=0,m=0;d=c=0;var h,k,n=0;1==a.count?(this.Oa=ad,f=this.qi.Jc(a.Sb[0]),a=this.ri.Jc(a.Tb[0]),k=f,h=b.n,g=b.position.x+(h.i.x*k.x+h.j.x*k.y),l=b.position.y+(h.i.y*k.x+h.j.y*k.y),k=a,h=e.n,n=e.position.x+(h.i.x*k.x+h.j.x*k.y),m=e.position.y+
(h.i.y*k.x+h.j.y*k.y),this.O.x=n-g,this.O.y=m-l,this.O.nd()):(a.Tb[0]==a.Tb[1]?(this.Oa=bd,c=this.qi.Jc(a.Sb[0]),d=this.qi.Jc(a.Sb[1]),a=this.ri.Jc(a.Tb[0]),this.ma.x=.5*(c.x+d.x),this.ma.y=.5*(c.y+d.y),this.O=U.Pg(U.ib(d,c),1),this.O.nd(),k=this.O,h=b.n,c=h.i.x*k.x+h.j.x*k.y,d=h.i.y*k.x+h.j.y*k.y,k=this.ma,h=b.n,g=b.position.x+(h.i.x*k.x+h.j.x*k.y),l=b.position.y+(h.i.y*k.x+h.j.y*k.y),k=a,h=e.n,n=e.position.x+(h.i.x*k.x+h.j.x*k.y),m=e.position.y+(h.i.y*k.x+h.j.y*k.y),n=(n-g)*c+(m-l)*d):a.Sb[0]==
a.Sb[0]?(this.Oa=cd,g=this.ri.Jc(a.Tb[0]),l=this.ri.Jc(a.Tb[1]),f=this.qi.Jc(a.Sb[0]),this.ma.x=.5*(g.x+l.x),this.ma.y=.5*(g.y+l.y),this.O=U.Pg(U.ib(l,g),1),this.O.nd(),k=this.O,h=e.n,c=h.i.x*k.x+h.j.x*k.y,d=h.i.y*k.x+h.j.y*k.y,k=this.ma,h=e.n,n=e.position.x+(h.i.x*k.x+h.j.x*k.y),m=e.position.y+(h.i.y*k.x+h.j.y*k.y),k=f,h=b.n,g=b.position.x+(h.i.x*k.x+h.j.x*k.y),l=b.position.y+(h.i.y*k.x+h.j.y*k.y),n=(g-n)*c+(l-m)*d):(c=this.qi.Jc(a.Sb[0]),d=this.qi.Jc(a.Sb[1]),g=this.ri.Jc(a.Tb[0]),l=this.ri.Jc(a.Tb[1]),
n=U.Gb(b.n,U.ib(d,c)),m=U.Gb(e.n,U.ib(l,g)),e=n.x*n.x+n.y*n.y,b=m.x*m.x+m.y*m.y,f=U.ib(m,n),a=n.x*f.x+n.y*f.y,f=m.x*f.x+m.y*f.y,m=n.x*m.x+n.y*m.y,h=e*b-m*m,n=0,0!=h&&(n=U.nb((m*f-a*b)/h,0,1)),0>(m*n+f)/b&&(n=U.nb((m-a)/e,0,1)),f=O.r(0,0),f.x=c.x+n*(d.x-c.x),f.y=c.y+n*(d.y-c.y),a=O.r(0,0),a.x=g.x+n*(l.x-g.x),a.y=g.y+n*(l.y-g.y),0==n||1==n?(this.Oa=cd,this.O=U.Pg(U.ib(l,g),1),this.O.nd(),this.ma=a):(this.Oa=bd,this.O=U.Pg(U.ib(d,c),1),this.ma=f)),0>n&&this.O.Oq())};$c.prototype.dg=function(a,c){var b,
d,e=0;switch(this.Oa){case ad:b=U.Qg(a.n,this.O);d=U.Qg(c.n,this.O.Ph());b=this.qi.Bl(b);d=this.ri.Bl(d);b=U.mc(a,b);d=U.mc(c,d);e=(d.x-b.x)*this.O.x+(d.y-b.y)*this.O.y;break;case bd:e=U.Gb(a.n,this.O);b=U.mc(a,this.ma);d=U.Qg(c.n,e.Ph());d=this.ri.Bl(d);d=U.mc(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case cd:e=U.Gb(c.n,this.O),d=U.mc(c,this.ma),b=U.Qg(a.n,e.Ph()),b=this.qi.Bl(b),b=U.mc(a,b),e=(b.x-d.x)*e.x+(b.y-d.y)*e.y}return e};var ad=1,bd=2,cd=4,Nc=function(){this.ja=new dd;this.Ca=new dd;this.Zd=
new dd;this.H=[this.ja,this.Ca,this.Zd]};t=Nc.prototype;t.eA=function(a,c,b,d,e){var f,g;this.ia=a.count;for(var l=this.H,n=0;n<this.ia;n++){var m=l[n];m.Sb=a.Sb[n];m.Tb=a.Tb[n];f=c.Jc(m.Sb);g=d.Jc(m.Tb);m.Uc=U.mc(b,f);m.nf=U.mc(e,g);m.kc=U.ib(m.nf,m.Uc);m.J=0}1<this.ia&&(a=a.PD,f=this.Mu(),f<.5*a||2*a<f||f<Number.MIN_VALUE)&&(this.ia=0);0==this.ia&&(m=l[0],m.Sb=0,m.Tb=0,f=c.Jc(0),g=d.Jc(0),m.Uc=U.mc(b,f),m.nf=U.mc(e,g),m.kc=U.ib(m.nf,m.Uc),this.ia=1)};t.tA=function(a){a.PD=this.Mu();a.count=this.ia;
for(var c=this.H,b=0;b<this.ia;b++)a.Sb[b]=c[b].Sb,a.Tb[b]=c[b].Tb};t.wz=function(){if(1==this.ia)return this.ja.kc.Ph();if(2==this.ia){var a=U.ib(this.Ca.kc,this.ja.kc);return 0<U.Ri(a,this.ja.kc.Ph())?U.Bq(1,a):U.Pg(a,1)}return O.r(0,0)};t.xz=function(a,c){1==this.ia?(a.F(this.ja.Uc),c.F(this.ja.nf)):2==this.ia?(a.x=this.ja.J*this.ja.Uc.x+this.Ca.J*this.Ca.Uc.x,a.y=this.ja.J*this.ja.Uc.y+this.Ca.J*this.Ca.Uc.y,c.x=this.ja.J*this.ja.nf.x+this.Ca.J*this.Ca.nf.x,c.y=this.ja.J*this.ja.nf.y+this.Ca.J*
this.Ca.nf.y):3==this.ia&&(c.x=a.x=this.ja.J*this.ja.Uc.x+this.Ca.J*this.Ca.Uc.x+this.Zd.J*this.Zd.Uc.x,c.y=a.y=this.ja.J*this.ja.Uc.y+this.Ca.J*this.Ca.Uc.y+this.Zd.J*this.Zd.Uc.y)};t.Mu=function(){return 1==this.ia?0:2==this.ia?U.ib(this.ja.kc,this.Ca.kc).fg():3==this.ia?U.Ri(U.ib(this.Ca.kc,this.ja.kc),U.ib(this.Zd.kc,this.ja.kc)):0};t.mA=function(){var a=this.ja.kc,c=this.Ca.kc,b=U.ib(c,a),a=-(a.x*b.x+a.y*b.y);0>=a?this.ia=this.ja.J=1:(c=c.x*b.x+c.y*b.y,0>=c?(this.ia=this.Ca.J=1,this.ja.Set(this.Ca)):
(b=1/(c+a),this.ja.J=c*b,this.Ca.J=a*b,this.ia=2))};t.nA=function(){var a=this.ja.kc,c=this.Ca.kc,b=this.Zd.kc,d=U.ib(c,a),e=U.tb(c,d),f=-U.tb(a,d),g=U.ib(b,a),l=U.tb(b,g),n=-U.tb(a,g),m=U.ib(b,c),h=U.tb(b,m),m=-U.tb(c,m),g=U.Ri(d,g),d=g*U.Ri(c,b),b=g*U.Ri(b,a),a=g*U.Ri(a,c);0>=f&&0>=n?this.ia=this.ja.J=1:0<e&&0<f&&0>=a?(l=1/(e+f),this.ja.J=e*l,this.Ca.J=f*l,this.ia=2):0<l&&0<n&&0>=b?(e=1/(l+n),this.ja.J=l*e,this.Zd.J=n*e,this.ia=2,this.Ca.Set(this.Zd)):0>=e&&0>=m?(this.ia=this.Ca.J=1,this.ja.Set(this.Ca)):
0>=l&&0>=h?(this.ia=this.Zd.J=1,this.ja.Set(this.Zd)):0<h&&0<m&&0>=d?(e=1/(h+m),this.Ca.J=h*e,this.Zd.J=m*e,this.ia=2,this.ja.Set(this.Zd)):(e=1/(d+b+a),this.ja.J=d*e,this.Ca.J=b*e,this.Zd.J=a*e,this.ia=3)};var ed=function(){this.Sb=[0,0,0];this.Tb=[0,0,0]},dd=function(){};dd.prototype.Set=function(a){this.Uc.F(a.Uc);this.nf.F(a.nf);this.kc.F(a.kc);this.J=a.J;this.Sb=a.Sb;this.Tb=a.Tb};var fd=function(){this.Dh=new Rc;this.Eh=new Rc;this.yy=new Bc;this.zy=new Bc},gd=function(){this.na=O.r(0,0);this.fa=
[];for(var a=this.Jb=0;2>a;a++)this.fa[a]=O.r(0,0)};gd.prototype.Qb=function(a,c,b,d,e){if(0!=a.Jb){var f=0,g,l,n=0,m=0,h=0,k=0,q=0;g=0;switch(a.Oa){case 1:l=c.n;g=a.ma;f=c.position.x+l.i.x*g.x+l.j.x*g.y;c=c.position.y+l.i.y*g.x+l.j.y*g.y;l=d.n;g=a.fa[0].ma;a=d.position.x+l.i.x*g.x+l.j.x*g.y;d=d.position.y+l.i.y*g.x+l.j.y*g.y;g=a-f;l=d-c;n=g*g+l*l;n>yc?(n=Math.sqrt(n),this.na.x=g/n,this.na.y=l/n):(this.na.x=1,this.na.y=0);g=c+b*this.na.y;d-=e*this.na.y;this.fa[0].x=.5*(f+b*this.na.x+(a-e*this.na.x));
this.fa[0].y=.5*(g+d);break;case 2:l=c.n;g=a.Ec;n=l.i.x*g.x+l.j.x*g.y;m=l.i.y*g.x+l.j.y*g.y;l=c.n;g=a.ma;h=c.position.x+l.i.x*g.x+l.j.x*g.y;k=c.position.y+l.i.y*g.x+l.j.y*g.y;this.na.x=n;this.na.y=m;for(f=0;f<a.Jb;f++)l=d.n,g=a.fa[f].ma,q=d.position.x+l.i.x*g.x+l.j.x*g.y,g=d.position.y+l.i.y*g.x+l.j.y*g.y,this.fa[f].x=q+.5*(b-(q-h)*n-(g-k)*m-e)*n,this.fa[f].y=g+.5*(b-(q-h)*n-(g-k)*m-e)*m;break;case 4:for(l=d.n,g=a.Ec,n=l.i.x*g.x+l.j.x*g.y,m=l.i.y*g.x+l.j.y*g.y,l=d.n,g=a.ma,h=d.position.x+l.i.x*g.x+
l.j.x*g.y,k=d.position.y+l.i.y*g.x+l.j.y*g.y,this.na.x=-n,this.na.y=-m,f=0;f<a.Jb;f++)l=c.n,g=a.fa[f].ma,q=c.position.x+l.i.x*g.x+l.j.x*g.y,g=c.position.y+l.i.y*g.x+l.j.y*g.y,this.fa[f].x=q+.5*(e-(q-h)*n-(g-k)*m-b)*n,this.fa[f].y=g+.5*(e-(q-h)*n-(g-k)*m-b)*m}}};var lc=function(a,c){this.kd="Body"+lc.Nq++;this.A=new jc;this.A.position.F(a.position);this.A.n.Set(a.M);this.k=new Bc;this.k.L.ba();this.k.hd=1;this.k.Oe=this.k.J=a.M;this.k.u.x=this.A.n.i.x*this.k.L.x+this.A.n.j.x*this.k.L.y;this.k.u.y=
this.A.n.i.y*this.k.L.x+this.A.n.j.y*this.k.L.y;this.k.u.x+=this.A.position.x;this.k.u.y+=this.A.position.y;this.k.zc.F(this.k.u);this.q=a.Ls.Yb();this.uh=O.r(0,0);this.Nk=a.gj;this.tD=a.Kr;this.Us=a.yv;this.Vs=a.Ev;this.Jm=a.Yc;this.Da=c;this.sb=null;this.Id=new hd;this.ij=new id;this.D=a.zv;this.AD=a.Cj;this.oD=a.bj;this.Tm=this.Qj=0;this.Oa=a.type;this.P=this.Oa==V.nc?1:0;this.G=this.Oa==V.nc?1:0;this.N=this.Ze=0;this.xD=a.ww;this.yk=new jd;this.zp=[]};t=lc.prototype;t.bk=function(a){a=new kc(this,
this.A,a);this.Jm&&a.wl(this.Da.xd.Mk,this.A);this.yk.cz(a);a.Lm=this;0<a.vp&&this.dv();this.Da.gt=!0;return a};t.Ed=function(){O.Pb(this.q);O.Pb(this.uh)};t.Fu=function(a){this.yk.fA(a);for(var c=this.Id.Ea(kd);c;c=c.next)a!=c.oc.wb&&a!=c.oc.rb||this.Da.xd.Ed(c.oc);this.Jm&&a.xl(this.Da.xd.Mk);a.Ed();a.Lm=null;this.dv()};t.Kl=function(a,c){this.A.n.Set(c);this.A.position.F(a);var b=this.A.n,d=this.k.L;this.k.u.x=b.i.x*d.x+b.j.x*d.y;this.k.u.y=b.i.y*d.x+b.j.y*d.y;this.k.u.x+=this.A.position.x;this.k.u.y+=
this.A.position.y;this.k.zc.F(this.k.u);this.k.Oe=this.k.J=c;b=this.Da.xd.Mk;for(d=this.yk.Ea();d;d=d.next)d.Ue.nv(b,this.A,this.A);this.Da.xd.Mn()};t.Od=function(){return this.A};t.Uq=function(a){this.Kl(a,this.jd())};t.jd=function(){return this.k.J};t.Un=function(a){this.Kl(this.A.position,a)};t.gk=function(){return this.k.u};t.Ti=function(){return this.k.L};t.Yi=function(a){this.Oa!=V.me&&this.q.F(a)};t.Si=function(){return this.q};t.Il=function(a){void 0===a&&(a=0);this.Oa!=V.me&&(this.D=a)};
t.Nn=function(){return this.D};t.bg=function(a,c){this.Oa==V.nc&&(this.Kc(!0),this.uh.x+=a.x,this.uh.y+=a.y,this.Qj+=(c.x-this.k.u.x)*a.y-(c.y-this.k.u.y)*a.x)};t.En=function(a){void 0===a&&(a=0);this.Oa==V.nc&&(this.Kc(!0),this.Qj+=a)};t.fk=function(){return this.P};t.Lu=function(a){a||(a=new Ec);a.Bg=this.P;a.hk=this.Ze;a.Vg.F(this.k.L);return a};t.dv=function(){this.N=this.Ze=this.G=this.P=0;this.k.L.ba();if(this.Oa!=V.me&&this.Oa!=V.Gv){for(var a=O.r(0,0),c=this.yk.Ea();c;c=c.next){var b=c.Ue;
0!=b.vp&&(b=b.Lu(),this.P+=b.Bg,a.x+=b.Vg.x*b.Bg,a.y+=b.Vg.y*b.Bg,this.Ze+=b.hk)}0<this.P?(this.G=1/this.P,a.x*=this.G,a.y*=this.G):this.G=this.P=1;0<this.Ze&&!this.tD?(this.Ze-=this.P*(a.x*a.x+a.y*a.y),this.Ze*=this.xD,this.N=1/this.Ze):this.N=this.Ze=0;c=this.k.u.Yb();this.k.L.F(a);this.k.zc.F(U.mc(this.A,this.k.L));this.k.u.F(this.k.zc);this.q.x+=this.D*-(this.k.u.y-c.y);this.q.y+=this.D*+(this.k.u.x-c.x);O.Pb(a);O.Pb(c)}};t.Rn=function(a){var c=this.A.n;a=O.r(c.i.x*a.x+c.j.x*a.y,c.i.y*a.x+c.j.y*
a.y);a.x+=this.A.position.x;a.y+=this.A.position.y;return a};t.Iq=function(a){return U.Gb(this.A.n,a)};t.Wc=function(a){return U.Mq(this.A,a)};t.Hq=function(a){return U.Qg(this.A.n,a)};t.vz=function(a){return O.r(this.q.x-this.D*(a.y-this.k.u.y),this.q.y+this.D*(a.x-this.k.u.x))};t.vc=function(){return this.Oa};t.Kc=function(a){if(this.Vs!=a)for(this.Vs=a,this.Tm=0,a||(this.q.ba(),this.D=0,this.uh.ba(),this.Qj=0),a=0;a<this.zp.length;a++)this.zp[a].qv(this)};t.Xc=function(){return this.Vs};t.Vi=function(){return this.Jm};
t.Fq=function(){return this.yk};t.rl=function(a){this.ij.rl(a)};t.Gl=function(a){this.ij.Gl(a)};t.Oh=function(){return this.Id};t.ov=function(){var a=lc.sE;a.n.Set(this.k.Oe);var c=a.n,b=this.k.L;a.position.x=this.k.zc.x-(c.i.x*b.x+c.j.x*b.y);a.position.y=this.k.zc.y-(c.i.y*b.x+c.j.y*b.y);c=this.Da.xd.Mk;for(b=this.yk.Ea();b;b=b.next)b.Ue.nv(c,a,this.A)};t.ub=function(){this.A.n.Set(this.k.J);var a=this.A.n,c=this.k.L;this.A.position.x=this.k.u.x-(a.i.x*c.x+a.j.x*c.y);this.A.position.y=this.k.u.y-
(a.i.y*c.x+a.j.y*c.y)};t.Zi=function(a){if(this.Oa!=V.nc&&a.Oa!=V.nc)return!1;for(var c=this.sb;c;c=c.next)if(c.Ee==a&&0==c.ph.qx)return!1;return!0};t.Nh=function(a){this.k.Nh(a);this.k.u.F(this.k.zc);this.k.J=this.k.Oe;this.ub()};lc.Nq=0;var V=function(){this.position=O.r(0,0);this.Ls=O.r(0,0);this.bj=this.Cj=this.zv=this.M=0;this.Ev=this.yv=!0;this.gj=this.Kr=!1;this.type=V.me;this.Yc=!0;this.ww=1};V.me=0;V.Gv=1;V.nc=2;var md=function(){this.ho=[];for(var a=0;a<=ld;a++)this.ho[a]=null;this.io=[];
for(a=0;a<=ld;a++)this.io[a]=null;this.ok={}};t=md.prototype;t.Ea=function(a){return this.ho[a]};t.Zj=function(a){var c=a.kd;null==this.ok[c]&&(this.cg(a,c,ld),this.qv(a),a.zp.push(this))};t.qv=function(a){var c=a.vc(),b=a.kd,d=a.Xc(),e=a.Vi();c==V.nc?this.cg(a,b,nd):this.gg(b,nd);c!=V.me?this.cg(a,b,od):this.gg(b,od);c!=V.me&&e&&d?this.cg(a,b,pd):this.gg(b,pd);d?this.cg(a,b,qd):this.gg(b,qd);e?this.cg(a,b,rd):this.gg(b,rd)};t.Fl=function(a){var c=a.kd;if(null!=this.ok[c]){Da(a.zp,this);for(a=0;a<=
ld;a++)this.gg(c,a);delete this.ok[c]}};t.gg=function(a,c){var b=this.ok[a];if(null!=b){var d=b[c];null!=d&&(b[c]=null,b=d.hf,d=d.next,null==b?this.ho[c]=d:b.qf(d),null==d?this.io[c]=b:d.rf(b))}};t.cg=function(a,c,b){var d=this.ok[c];if(null==d){for(var d=[],e=0;e<=ld;e++)d[e]=null;this.ok[c]=d}null==d[b]&&(d[b]=new sd(a),a=this.io[b],null!=a?a.qf(d[b]):this.ho[b]=d[b],d[b].rf(a),this.io[b]=d[b])};var nd=0,od=1,rd=2,pd=3,qd=4,ld=5,sd=function(a){this.body=a;this.hf=this.next=null};sd.prototype.qf=
function(a){this.next=a};sd.prototype.rf=function(a){this.hf=a};sd.prototype.La=function(){return this.body};var nc=function(){};nc.prototype.Zi=function(a,c){var b=a.Ju(),d=c.Ju();return b.ei==d.ei&&0!=b.ei?0<b.ei:0!=(b.Vk&d.pk)&&0!=(b.pk&d.Vk)};nc.SA=new nc;var td=function(){this.UD=[];this.BE=[]},mc=function(){};mc.prototype.Fn=function(){};var vd=function(a){this.Da=a;this.Ws=nc.SA;this.sh=mc.Fv;this.rx=new ud;this.Mk=new Uc};vd.prototype.ez=function(a,c){var b=a.La(),d=c.La();if(b!=d&&d.Zi(b)&&
this.Ws.Zi(a,c)){for(b=d.Id.Ea(kd);b;b=b.next)if(d=b.oc.wb,d==a){if(d=b.oc.rb,d==c)return}else if(d==c&&(d=b.oc.rb,d==a))return;this.rx.Me(a,c)}};vd.prototype.Mn=function(){var a=this;this.Mk.sA(function(c,b){a.ez(c,b)})};vd.prototype.Ed=function(a){0<a.Ce.Jb&&(a.wb.La().Kc(!0),a.rb.La().Kc(!0));a.gA();this.rx.Ed(a)};vd.prototype.lz=function(){for(var a=this.Da.Id.Ea(kd);a;a=a.next){var c=a.oc,b=c.wb,d=c.rb,e=b.La(),f=d.La();if(0!=e.Xc()||0!=f.Xc()){if(c.Fo){if(0==f.Zi(e)){this.Ed(c);continue}if(0==
this.Ws.Zi(b,d)){this.Ed(c);continue}c.kz()}0==this.Mk.Ml(b.Mj,d.Mj)?this.Ed(c):c.pv(this.sh)}}};var wd=function(){this.pk=1;this.Vk=65535;this.ei=0};wd.prototype.Yb=function(){var a=new wd;a.pk=this.pk;a.Vk=this.Vk;a.ei=this.ei;return a};var kc=function(a,c,b){this.kd="Fixture"+kc.Nq++;this.sD=b.filter.Yb();this.Hj=Jc();this.Lm=a;this.zh=b.shape.Yb();this.vp=b.yf;this.Zs=b.pg;this.ht=b.Gg;this.xp=b.ts};t=kc.prototype;t.lc=function(){return this.zh};t.Wi=function(){return this.xp};t.Ju=function(){return this.sD.Yb()};
t.La=function(){return this.Lm};t.Lu=function(a){a||(a=new Ec);this.zh.ul(a,this.vp);return a};t.Ed=function(){Ic.push(this.Hj)};t.wl=function(a,c){this.zh.ak(this.Hj,c);this.Mj=a.wl(this.Hj,this)};t.xl=function(a){null!=this.Mj&&(a.xl(this.Mj),this.Mj=null)};t.nv=function(a,c,b){if(this.Mj){var d=Jc(),e=Jc();this.zh.ak(d,c);this.zh.ak(e,b);this.Hj.Hn(d,e);Ic.push(d);Ic.push(e);c=U.ib(b.position,c.position);a.Lq(this.Mj,this.Hj,c);O.Pb(c)}};kc.Nq=0;var qc=function(){this.filter=new wd;this.filter.pk=
1;this.filter.Vk=65535;this.filter.ei=0;this.shape=null;this.pg=.2;this.yf=this.Gg=0;this.ts=!1},jd=function(){this.Mr=this.Lr=null;this.Io={}};jd.prototype.Ea=function(){return this.Lr};jd.prototype.cz=function(a){var c=a.kd;if(null==this.Io[c]){a=new xd(a);var b=this.Mr;null!=b?b.qf(a):this.Lr=a;a.rf(b);this.Mr=a;this.Io[c]=a}};jd.prototype.fA=function(a){a=a.kd;var c=this.Io[a];if(null!=c){var b=c.hf,c=c.next;null==b?this.Lr=c:b.qf(c);null==c?this.Mr=b:c.rf(b);delete this.Io[a]}};var xd=function(a){this.Ue=
a;this.hf=this.next=null};xd.prototype.qf=function(a){this.next=a};xd.prototype.rf=function(a){this.hf=a};var yd=function(a,c){this.BD=a;this.Kf=c;this.ug=[];this.wp=[];this.pi=[];this.th=[];this.ed=[]};t=yd.prototype;t.Gn=function(){this.ug=[];this.wp=[];this.pi=[];this.th=[];this.ed=[]};t.Sh=function(a,c,b){this.zA(a,c);this.Kf.Qb(a,this.th,this.th.length);this.FA(a);this.BA(a);this.CA(a);this.cv(this.Kf.vg);b&&this.AA(a)};t.zA=function(a,c){for(var b=0;b<this.wp.length;b++){var d=this.wp[b];d.q.x+=
a.ya*(c.x+d.G*d.uh.x);d.q.y+=a.ya*(c.y+d.G*d.uh.y);d.D+=a.ya*d.N*d.Qj;d.q.md(U.nb(1-a.ya*d.AD,0,1));d.D*=U.nb(1-a.ya*d.oD,0,1)}};t.FA=function(a){this.Kf.Ne(a);for(var c=0;c<this.ed.length;c++)this.ed[c].Ne(a);for(c=0;c<a.zn;c++){for(var b=0;b<this.ed.length;b++)this.ed[b].je(a);this.Kf.je()}for(a=0;a<this.ed.length;a++)this.ed[a].Dq();this.Kf.Dq()};t.BA=function(a){for(var c=0;c<this.pi.length;++c){var b=this.pi[c],d=a.ya*b.q.x,e=a.ya*b.q.y;4<d*d+e*e&&(b.q.nd(),b.q.x=2*b.q.x*a.kh,b.q.y=2*b.q.y*a.kh);
d=a.ya*b.D;d*d>wc&&(b.D=0>b.D?-vc*a.kh:vc*a.kh);b.k.zc.F(b.k.u);b.k.Oe=b.k.J;b.k.u.x+=a.ya*b.q.x;b.k.u.y+=a.ya*b.q.y;b.k.J+=a.ya*b.D;b.ub()}};t.CA=function(a){for(var c=0;c<a.cn;c++){for(var b=this.Kf.ie(.2),d=!0,e=0;e<this.ed.length;e++)var f=this.ed[e].ie(.2),d=d&&f;if(b&&d)break}};t.AA=function(a){for(var c=Number.MAX_VALUE,b=0;b<this.pi.length;b++){var d=this.pi[b];!d.Us||Math.abs(d.D)>xc||1E-4<U.tb(d.q,d.q)?c=d.Tm=0:(d.Tm+=a.ya,c=Math.min(c,d.Tm))}if(.5<=c)for(a=0;a<this.ug.length;a++)this.ug[a].Kc(!1)};
t.Wq=function(a){var c=0,b=0;this.Kf.Qb(a,this.th,this.th.length);for(var d=this.Kf,c=0;c<this.ed.length;++c)this.ed[c].Ne(a);for(c=0;c<a.zn;++c)for(d.je(),b=0;b<this.ed.length;++b)this.ed[b].je(a);for(c=0;c<this.pi.length;++c){var b=this.pi[c],e=a.ya*b.q.x,f=a.ya*b.q.y;4<e*e+f*f&&(b.q.nd(),b.q.x=2*b.q.x*a.kh,b.q.y=2*b.q.y*a.kh);e=a.ya*b.D;e*e>wc&&(b.D=0>b.D?-vc*a.kh:vc*a.kh);b.k.zc.F(b.k.u);b.k.Oe=b.k.J;b.k.u.x+=a.ya*b.q.x;b.k.u.y+=a.ya*b.q.y;b.k.J+=a.ya*b.D;b.ub()}for(c=0;c<a.cn;++c){e=d.ie(.75);
f=!0;for(b=0;b<this.ed.length;++b)var g=this.ed[b].ie(.2),f=f&&g;if(e&&f)break}this.cv(d.vg)};t.cv=function(a){if(null!=this.BD)for(var c=0;c<this.th.length;++c)for(var b=a[c],d=new td,e=0;e<b.gf;++e)d.UD[e]=b.Mb[e].Lb,d.BE[e]=b.Mb[e].Kg};t.Zj=function(a){this.ug.push(a);a.vc()!=V.me&&(this.pi.push(a),a.vc()==V.nc&&this.wp.push(a))};t.$j=function(a){this.th.push(a)};t.Bu=function(a){this.ed.push(a)};var zd=function(a,c,b,d,e){this.ya=a;var f=0;0<a&&(f=1/a);this.kh=f;this.ac=c;this.cn=b;this.zn=d;
this.Kh=e},oc=function(a,c){this.xd=new vd(this);this.Kf=new Ad;this.gt=!1;this.yc=new md;this.Id=new hd;this.sb=null;this.ij=new id;this.yp=0;this.qD=this.HD=!0;this.Us=c;this.tx=a;this.ux=0;this.wD=this.Aq(new V)};oc.Ez=1-100*Number.MIN_VALUE;t=oc.prototype;t.iv=function(a){this.xd.Ws=a};t.jv=function(a){this.xd.sh=a};t.Aq=function(a){a=new lc(a,this);this.yc.Zj(a);return a};t.Kn=function(a){for(var c=a.sb;c;){var b=c,c=c.next;this.Ln(b.ph)}for(c=a.ij.Ea();c;c=c.next)c.Tv.Fl(a);for(c=a.Id.Ea(kd);c;c=
c.next)this.xd.Ed(c.oc);for(c=a.Fq().Ea();c;c=c.next)a.Fu(c.Ue);a.Ed();this.yc.Fl(a)};t.Jn=function(a){var c=Z.Me(a);c.Pk=null;if(c.oi=this.sb)this.sb.Pk=c;this.sb=c;this.yp++;c.yd.ph=c;c.yd.Ee=c.R;c.yd.prev=null;if(c.yd.next=c.Q.sb)c.Q.sb.prev=c.yd;c.Q.sb=c.yd;c.zd.ph=c;c.zd.Ee=c.Q;c.zd.prev=null;if(c.zd.next=c.R.sb)c.R.sb.prev=c.zd;c.R.sb=c.zd;var b=a.I,d=a.K;if(!a.qr)for(a=d.Id.Ea(kd);a;a=a.next)a.oc.Pn(d)==b&&a.oc.Hu();return c};t.Ln=function(a){var c=a.qx;a.Pk&&(a.Pk.oi=a.oi);a.oi&&(a.oi.Pk=
a.Pk);a==this.sb&&(this.sb=a.oi);var b=a.Q,d=a.R;b.Kc(!0);d.Kc(!0);a.yd.prev&&(a.yd.prev.next=a.yd.next);a.yd.next&&(a.yd.next.prev=a.yd.prev);a.yd==b.sb&&(b.sb=a.yd.next);a.yd.prev=null;a.yd.next=null;a.zd.prev&&(a.zd.prev.next=a.zd.next);a.zd.next&&(a.zd.next.prev=a.zd.prev);a.zd==d.sb&&(d.sb=a.zd.next);a.zd.prev=null;a.zd.next=null;this.yp--;if(!c)for(a=d.Id.Ea(kd);a;a=a.next)a.oc.Pn(d)==b&&a.oc.Hu()};t.rl=function(a){if(null!==a.Da&&a.Da!=this)throw Error("Controller can only be a member of one world");
this.ij.rl(a);a.Da=this;return a};t.Gl=function(a){this.ij.Gl(a);a.Da=null;a.Gn()};t.Rg=function(a,c,b){this.gt&&(this.xd.Mn(),this.gt=!1);a=new zd(a,this.ux*a,c,b,this.HD);this.xd.lz();0<a.ya&&(this.Sh(a),this.qD&&this.Wq(a),this.ux=a.kh)};t.Eu=function(){for(var a=this.yc.Ea(nd);a;a=a.next)a.body.uh.ba(),a.body.Qj=0};t.Oh=function(){return this.Id};var Bd=[];oc.prototype.Sh=function(a){for(var c=this.ij.Ea();c;c=c.next)c.Tv.Rg(a);for(var c=new yd(this.xd.sh,this.Kf),b=this.yc.Ea(ld);b;b=b.next)b.body.lb=
!1;for(var d=this.Id.Ea(kd);d;d=d.next)d.oc.lb=!1;for(b=this.sb;b;b=b.oi)b.lb=!1;for(b=this.yc.Ea(pd);b;b=b.next)if(d=b.body,!d.lb){c.Gn();Bd.length=0;var e=Bd;e.push(d);for(d.lb=!0;0<e.length;){var f=e.pop();c.Zj(f);f.Xc()||f.Kc(!0);if(f.vc()!=V.me){for(d=f.Id.Ea(Cd);d;d=d.next){var g=d.oc;g.lb||(c.$j(g),g.lb=!0,g=g.Pn(f),g.lb||(e.push(g),g.lb=!0))}for(d=f.sb;d;d=d.next)!d.ph.lb&&d.Ee.Vi()&&(c.Bu(d.ph),d.ph.lb=!0,d.Ee.lb||(e.push(d.Ee),d.Ee.lb=!0))}}c.Sh(a,this.tx,this.Us)}for(b=this.yc.Ea(pd);b;b=
b.next)b.body.ov();this.xd.Mn()};oc.prototype.Wq=function(a){for(var c=new yd(this.xd.sh,this.Kf),b=this.yc.Ea(ld);b;b=b.next){var d=b.body;d.lb=!1;d.k.hd=0}for(var e=this.Id.Ea(kd);e;e=e.next)e.oc.lb=!1,e.oc.Tk=null;for(b=this.sb;b;b=b.oi)b.lb=!1;for(;;){var b=this.DA(),f=b.QD,b=b.RD;if(null===f||oc.Ez<b)break;e=f.wb.La();d=f.rb.La();oc.hy.Set(e.k);oc.iy.Set(d.k);e.Nh(b);d.Nh(b);f.pv(this.xd.sh);f.Tk=null;if(f.Up||!f.enabled)e.k.Set(oc.hy),d.k.Set(oc.iy),e.ub(),d.ub();else if(f.vn){e.vc()!=V.nc&&
(e=d);c.Gn();Bd.length=0;f=Bd;f.push(e);for(e.lb=!0;0<f.length;)if(d=f.pop(),c.Zj(d),d.Xc()||d.Kc(!0),d.vc()==V.nc){for(e=d.Id.Ea(Cd);e&&32!=c.pD;e=e.next){var g=e.oc;g.lb||(c.$j(g),g.lb=!0,g=g.Pn(d),g.lb||(g.vc()!=V.me&&(g.Nh(b),g.Kc(!0),f.push(g)),g.lb=!0))}for(d=d.sb;d;d=d.next)32!=c.yp&&!d.ph.lb&&d.Ee.Vi()&&(c.Bu(d.ph),d.ph.lb=!0,d.Ee.lb||(d.Ee.vc()!=V.me&&(d.Ee.Nh(b),d.Ee.Kc(!0),f.push(d.Ee)),d.Ee.lb=!0))}c.Wq(new zd((1-b)*a.ya,0,a.zn,a.cn,!1));for(b=0;b<c.ug.length;b++)if(c.ug[b].lb=!1,c.ug[b].Xc()&&
c.ug[b].vc()==V.nc)for(c.ug[b].ov(),e=c.ug[b].Id.Ea(kd);e;e=e.next)e.oc.Tk=null;for(b=0;b<c.pD;b++)c.th[b].lb=!1,c.th[b].Tk=null;for(b=0;b<c.yp;b++)c.ed[b].lb=!1;this.xd.Mn()}}};oc.prototype.DA=function(){for(var a=null,c=1,b=this.Id.Ea(Dd);b;b=b.next){var d=b.oc;if(!this.EA(d)){var e=1;if(null!=d.Tk)e=d.Tk;else{if(d.vn)e=1;else{var e=d.wb.La(),f=d.rb.La(),g=e.k.hd;e.k.hd<f.k.hd?(g=f.k.hd,e.k.Nh(g)):f.k.hd<e.k.hd&&(g=e.k.hd,f.k.Nh(g));e=d.oz(e.k,f.k);0<e&&1>e&&(e=(1-e)*g+e)}d.Tk=e}Number.MIN_VALUE<
e&&e<c&&(a=d,c=e)}}return{QD:a,RD:c}};oc.prototype.EA=function(a){var c=a.wb.La();a=a.rb.La();return c.vc()==V.nc&&c.Xc()||a.vc()==V.nc&&a.Xc()?!1:!0};var Fd=function(a,c){this.kd="Contact"+Ed++;this.Ce=new Zc;this.Rm=new Zc;this.vn=!1;var b=a.La(),d=c.La();this.rr=b.vc()!=V.nc||b.Nk||d.vc()!=V.nc||d.Nk;this.Up=a.Wi()||c.Wi();this.Fo=!1;this.wb=a;this.rb=c;this.enabled=!0;this.eo=b.Oh();this.fo=d.Oh();this.yq=d.Da.Oh();this.Cu()};t=Fd.prototype;t.wc=function(a,c){this.Ce.wc();this.Rm.wc();this.vn=
!1;var b=a.La(),d=c.La();this.rr=b.vc()!=V.nc||b.Nk||d.vc()!=V.nc||d.Nk;this.Up=a.Wi()||c.Wi();this.Fo=!1;this.wb=a;this.rb=c;this.enabled=!0;this.eo=b.Oh();this.fo=d.Oh();this.yq=d.Da.Oh();this.Cu()};t.Cu=function(){this.eo.$j(this);this.fo.$j(this);this.yq.$j(this);this.rv()};t.rv=function(){var a=!1,c=!1;!this.Wi()&&this.Jq()&&(this.Kq()&&(a=!0),this.rr&&(c=!0));this.eo.Yq(this,a,c);this.fo.Yq(this,a,c);this.yq.Yq(this,a,c)};t.gA=function(){this.eo.Sq(this);this.fo.Sq(this);this.yq.Sq(this)};t.Kq=
function(){return this.vn};t.Wi=function(){return this.Up};t.Jq=function(){return this.enabled};t.Pn=function(a){var c=this.wb.La();return c!=a?c:this.rb.La()};t.Hu=function(){this.Fo=!0};t.kz=function(){this.Fo=!1};t.pv=function(a){var c=this.Rm;this.Rm=this.Ce;this.Ce=c;this.enabled=!0;var b=!1,c=this.Kq(),d=this.wb.La(),e=this.rb.La(),f=this.wb.Hj.Ml(this.rb.Hj);if(this.Up){if(f){var b=this.wb.lc(),d=d.Od(),f=this.rb.lc(),g=e.Od(),e=new Pc;e.Dh=new Rc;e.Dh.Set(b);e.Eh=new Rc;e.Eh.Set(f);e.qq=d;
e.rq=g;e.Uy=!0;d=new ed;d.count=0;b=new Qc;Oc(b,d,e);b=b.bh<10*Number.MIN_VALUE}this.Ce.Jb=0}else{this.rr=d.vc()!=V.nc||d.Nk||e.vc()!=V.nc||e.Nk?!0:!1;if(f)for(this.dg(),b=0<this.Ce.Jb,f=0;f<this.Ce.Jb;f++){g=this.Ce.fa[f];g.Lj=0;for(var l=g.Pj=0;l<this.Rm.Jb;l++){var n=this.Rm.fa[l];if(n.bf.od==g.bf.od){g.Lj=n.Lj;g.Pj=n.Pj;break}}}else this.Ce.Jb=0;b!=c&&(d.Kc(!0),e.Kc(!0))}this.vn=b;b!=c&&this.rv();!c&&b&&a.Fn(this)};t.dg=function(){};t.oz=function(a,c){Gd.Dh.Set(this.wb.lc());Gd.Eh.Set(this.rb.lc());
Gd.yy=a;Gd.zy=c;Gd.FE=.005;var b=Gd;Hd++;var d=b.Dh,e=b.Eh,f=b.yy,g=b.zy,l=d.Na+e.Na,b=b.FE,n=0,m=0,h=0;Id.count=0;for(Jd.Uy=!1;;){f.Od(Kd,n);g.Od(Ld,n);Jd.Dh=d;Jd.Eh=e;Jd.qq=Kd;Jd.rq=Ld;Oc(Md,Id,Jd);if(0>=Md.bh){n=1;break}Nd.Qb(Id,d,Kd,e,Ld);var k=Nd.dg(Kd,Ld);if(0>=k){n=1;break}0==m&&(h=k>l?Math.max(l-b,.75*l):Math.max(k-b,.02*l));if(k-h<.5*b){if(0==m){n=1;break}break}var q=n,r=n,s=1;f.Od(Kd,s);g.Od(Ld,s);var u=Nd.dg(Kd,Ld);if(u>=h){n=1;break}for(var p=0;;){var z=0,z=p&1?r+(h-k)*(s-r)/(u-k):.5*
(r+s);f.Od(Kd,z);g.Od(Ld,z);var C=Nd.dg(Kd,Ld);if(Math.abs(C-h)<.025*b){q=z;break}C>h?(r=z,k=C):(s=z,u=C);p++;Od++;if(50==p)break}Pd=Math.max(Pd,p);if(q<(1+100*Number.MIN_VALUE)*n)break;n=q;m++;Qd++;if(1E3==m)break}Rd=Math.max(Rd,m);return n};var Gd=new fd,Ed=0,Sd=function(a,c){Fd.call(this,a,c)};y(Sd,Fd);Sd.prototype.wc=function(a,c){Fd.prototype.wc.call(this,a,c)};Sd.prototype.dg=function(){var a=this.Ce,c=this.wb.lc(),b=this.wb.La().A,d=this.rb.lc(),e=this.rb.La().A;a.Jb=0;var f=e.position.x+(e.n.i.x*
d.Wa.x+e.n.j.x*d.Wa.y)-(b.position.x+(b.n.i.x*c.Wa.x+b.n.j.x*c.Wa.y)),b=e.position.y+(e.n.i.y*d.Wa.x+e.n.j.y*d.Wa.y)-(b.position.y+(b.n.i.y*c.Wa.x+b.n.j.y*c.Wa.y)),e=c.Na+d.Na;f*f+b*b>e*e||(a.Oa=1,a.ma.F(c.Wa),a.Ec.ba(),a.Jb=1,a.fa[0].ma.F(d.Wa),a.fa[0].bf.Xi(0))};var Ud=function(){this.tg=O.r(0,0);this.Ib=O.r(0,0);this.fd=O.r(0,0);this.Bh=new P;this.Pd=new P;this.Mb=[];for(var a=0;2>a;a++)this.Mb[a]=new Td},Td=function(){this.Ib=O.r(0,0);this.Ab=O.r(0,0);this.Bb=O.r(0,0)};Td.prototype.wc=function(){this.Ib.Set(0,
0);this.Ab.Set(0,0);this.Bb.Set(0,0)};var ud=function(){this.Mf={};this.vh={};this.sl(Sd,pc.of,pc.of);this.sl(Vd,W.of,pc.of);this.sl(Wd,W.of,W.of);this.sl(Xd,"b2EdgeShape",pc.of);this.sl(Yd,W.of,"b2EdgeShape")};ud.prototype.sl=function(a,c,b){this.vh[c]=this.vh[c]||{};this.vh[c][b]=this.vh[c][b]||[];this.Mf[c]=this.Mf[c]||{};this.Mf[c][b]=new Zd;this.Mf[c][b].Wv=a;this.Mf[c][b].Xx=!0;c!=b&&(this.Mf[b]=this.Mf[b]||{},this.Mf[b][c]=new Zd,this.Mf[b][c].Wv=a,this.Mf[b][c].Xx=!1)};ud.prototype.Me=function(a,
c){var b=a.lc().Ui(),d=c.lc().Ui(),e=this.Mf[b][d],f=e.Wv;return null!=f?e.Xx?0<this.vh[b][d].length?(b=this.vh[b][d].pop(),b.wc(a,c),b):new f(a,c):0<this.vh[d][b].length?(b=this.vh[d][b].pop(),b.wc(c,a),b):new f(c,a):null};ud.prototype.Ed=function(a){var c=a.wb.lc().Ui(),b=a.rb.lc().Ui();this.vh[c][b].push(a)};var hd=function(){this.oo=[];for(var a=0;a<=kd;a++)this.oo[a]=null;this.po=[];for(a=0;a<=kd;a++)this.po[a]=null;this.hj={}};t=hd.prototype;t.Ea=function(a){return this.oo[a]};t.$j=function(a){var c=
a.kd;if(null==this.hj[c]){this.hj[c]=[];for(var b=0;b<=kd;b++)this.hj[c][b]=null;this.cg(a,c,kd)}};t.Yq=function(a,c,b){c?this.cg(a,a.kd,Cd):this.gg(a.kd,Cd);b?this.cg(a,a.kd,Dd):this.gg(a.kd,Dd)};t.Sq=function(a){a=a.kd;if(null!=this.hj[a]){for(var c=0;c<=kd;c++)this.gg(a,c);delete this.hj[a]}};t.gg=function(a,c){var b=this.hj[a];if(null!=b){var d=b[c];if(null!=d){b[c]=null;var b=d.hf,e=d.next;null==b?this.oo[c]=e:b.qf(e);null==e?this.po[c]=b:e.rf(b);$d.push(d)}}};t.cg=function(a,c,b){c=this.hj[c];
if(null==c[b]){if(0<$d.length){var d=$d.pop();d.next=null;d.hf=null;d.oc=a;a=d}else a=new ae(a);c[b]=a;a=this.po[b];null!=a?(a.qf(c[b]),c[b].rf(a)):this.oo[b]=c[b];this.po[b]=c[b]}};var Cd=0,Dd=1,kd=2,ae=function(a){this.oc=a;this.hf=this.next=null},$d=[];ae.prototype.qf=function(a){this.next=a};ae.prototype.rf=function(a){this.hf=a};var Zd=function(){},be=function(){this.na=O.r(0,0);this.Dp=[];this.fa=[];for(var a=0;2>a;a++)this.fa[a]=O.r(0,0)};be.prototype.Qb=function(a){switch(a.type){case 1:this.wA(a);
break;case 2:this.xA(a);break;case 4:this.yA(a)}};be.prototype.wA=function(a){var c=a.I.A.n,b=a.Ib,d=a.I.A.position.x+(c.i.x*b.x+c.j.x*b.y),e=a.I.A.position.y+(c.i.y*b.x+c.j.y*b.y),c=a.K.A.n,b=a.Mb[0].Ib,f=a.K.A.position.x+(c.i.x*b.x+c.j.x*b.y),c=a.K.A.position.y+(c.i.y*b.x+c.j.y*b.y),b=f-d,g=c-e,l=b*b+g*g;l>yc?(l=Math.sqrt(l),this.na.x=b/l,this.na.y=g/l):(this.na.x=1,this.na.y=0);this.fa[0].x=.5*(d+f);this.fa[0].y=.5*(e+c);this.Dp[0]=b*this.na.x+g*this.na.y-a.Qp};be.prototype.xA=function(a){this.na.x=
a.I.A.n.i.x*a.tg.x+a.I.A.n.j.x*a.tg.y;this.na.y=a.I.A.n.i.y*a.tg.x+a.I.A.n.j.y*a.tg.y;for(var c=a.I.A.position.x+(a.I.A.n.i.x*a.Ib.x+a.I.A.n.j.x*a.Ib.y),b=a.I.A.position.y+(a.I.A.n.i.y*a.Ib.x+a.I.A.n.j.y*a.Ib.y),d=0;d<a.gf;d++){var e=a.K.A.position.x+(a.K.A.n.i.x*a.Mb[d].Ib.x+a.K.A.n.j.x*a.Mb[d].Ib.y),f=a.K.A.position.y+(a.K.A.n.i.y*a.Mb[d].Ib.x+a.K.A.n.j.y*a.Mb[d].Ib.y);this.Dp[d]=(e-c)*this.na.x+(f-b)*this.na.y-a.Qp;this.fa[d].x=e;this.fa[d].y=f}};be.prototype.yA=function(a){this.na.x=a.K.A.n.i.x*
a.tg.x+a.K.A.n.j.x*a.tg.y;this.na.y=a.K.A.n.i.y*a.tg.x+a.K.A.n.j.y*a.tg.y;for(var c=a.K.A.position.x+(a.K.A.n.i.x*a.Ib.x+a.K.A.n.j.x*a.Ib.y),b=a.K.A.position.y+(a.K.A.n.i.y*a.Ib.x+a.K.A.n.j.y*a.Ib.y),d=0;d<a.gf;d++){var e=a.I.A.position.x+(a.I.A.n.i.x*a.Mb[d].Ib.x+a.I.A.n.j.x*a.Mb[d].Ib.y),f=a.I.A.position.y+(a.I.A.n.i.y*a.Mb[d].Ib.x+a.I.A.n.j.y*a.Mb[d].Ib.y);this.Dp[d]=(e-c)*this.na.x+(f-b)*this.na.y-a.Qp;this.fa[d].Set(e,f)}this.na.x*=-1;this.na.y*=-1};var Ad=function(){this.vg=[]};t=Ad.prototype;
t.Qb=function(a,c,b){for(this.Mm=b;this.vg.length<this.Mm;)this.vg[this.vg.length]=new Ud;for(a=0;a<b;a++){var d=c[a],e=d.wb,f=d.rb,g=e.zh.Na,l=f.zh.Na,n=e.La(),m=f.La(),h=d.Ce,k=Math.sqrt(e.Zs*f.Zs),q,e=e.ht,f=f.ht;q=e>f?e:f;var r=n.q.x,s=n.q.y,u=m.q.x,p=m.q.y,z=n.D,C=m.D;ce.Qb(h,n.A,g,m.A,l);e=ce.na.x;d=ce.na.y;f=this.vg[a];f.I=n;f.K=m;f.ID=h;f.fd.x=e;f.fd.y=d;f.gf=h.Jb;f.pg=k;f.Gg=q;f.tg.x=h.Ec.x;f.tg.y=h.Ec.y;f.Ib.x=h.ma.x;f.Ib.y=h.ma.y;f.Qp=g+l;f.type=h.Oa;for(g=0;g<f.gf;++g){k=h.fa[g];l=f.Mb[g];
l.Lb=k.Lj;l.Kg=k.Pj;l.Ib.F(k.ma);k=l.Ab.x=ce.fa[g].x-n.k.u.x;q=l.Ab.y=ce.fa[g].y-n.k.u.y;var J=l.Bb.x=ce.fa[g].x-m.k.u.x,x=l.Bb.y=ce.fa[g].y-m.k.u.y,A=k*d-q*e,B=J*d-x*e,A=A*A,B=B*B;l.Bh=1/(n.G+m.G+n.N*A+m.N*B);var D=n.P*n.G+m.P*m.G,D=D+(n.P*n.N*A+m.P*m.N*B);l.JB=1/D;B=d;D=-e;A=k*D-q*B;B=J*D-x*B;A*=A;B*=B;l.CE=1/(n.G+m.G+n.N*A+m.N*B);l.yn=0;k=f.fd.x*(u+-C*x-r- -z*q)+f.fd.y*(p+C*J-s-z*k);-1>k&&(l.yn+=-f.Gg*k)}2==f.gf&&(p=f.Mb[0],u=f.Mb[1],h=n.G,n=n.N,r=m.G,m=m.N,s=p.Ab.x*d-p.Ab.y*e,p=p.Bb.x*d-p.Bb.y*
e,z=u.Ab.x*d-u.Ab.y*e,u=u.Bb.x*d-u.Bb.y*e,e=h+r+n*s*s+m*p*p,d=h+r+n*z*z+m*u*u,m=h+r+n*s*z+m*p*u,e*e<100*(e*d-m*m)?(f.Pd.i.Set(e,m),f.Pd.j.Set(m,d),f.Pd.Gq(f.Bh)):f.gf=1)}};t.Ne=function(a){for(var c=0;c<this.Mm;++c){var b=this.vg[c],d=b.I,e=b.K,f=d.G,g=d.N,l=e.G,n=e.N,m=b.fd.x,h=b.fd.y,k=h,q=-m,r=0,s=0;if(a.Kh)for(s=b.gf,r=0;r<s;++r){var u=b.Mb[r];u.Lb*=a.ac;u.Kg*=a.ac;var p=u.Lb*m+u.Kg*k,z=u.Lb*h+u.Kg*q;d.D-=g*(u.Ab.x*z-u.Ab.y*p);d.q.x-=f*p;d.q.y-=f*z;e.D+=n*(u.Bb.x*z-u.Bb.y*p);e.q.x+=l*p;e.q.y+=
l*z}else for(s=b.gf,r=0;r<s;++r)d=b.Mb[r],d.Lb=0,d.Kg=0}};t.je=function(){for(var a=0;a<this.Mm;a++)this.oA(this.vg[a])};t.oA=function(a){for(var c=a.fd.x,b=a.fd.y,d=0;d<a.gf;d++)Ad.prototype.pA(a,a.Mb[d]);if(1==a.gf){var d=a.Mb[0],e=d.Lb-d.Bh*((a.K.q.x-a.K.D*d.Bb.y-a.I.q.x+a.I.D*d.Ab.y)*c+(a.K.q.y+a.K.D*d.Bb.x-a.I.q.y-a.I.D*d.Ab.x)*b-d.yn),e=0<e?e:0,f=e-d.Lb,g=f*c,b=f*b;a.I.q.x-=a.I.G*g;a.I.q.y-=a.I.G*b;a.I.D-=a.I.N*(d.Ab.x*b-d.Ab.y*g);a.K.q.x+=a.K.G*g;a.K.q.y+=a.K.G*b;a.K.D+=a.K.N*(d.Bb.x*b-d.Bb.y*
g);d.Lb=e}else for(var d=a.Mb[0],e=a.Mb[1],f=d.Lb,g=e.Lb,l=(a.K.q.x-a.K.D*d.Bb.y-a.I.q.x+a.I.D*d.Ab.y)*c+(a.K.q.y+a.K.D*d.Bb.x-a.I.q.y-a.I.D*d.Ab.x)*b-d.yn,b=(a.K.q.x-a.K.D*e.Bb.y-a.I.q.x+a.I.D*e.Ab.y)*c+(a.K.q.y+a.K.D*e.Bb.x-a.I.q.y-a.I.D*e.Ab.x)*b-e.yn,l=l-(a.Pd.i.x*f+a.Pd.j.x*g),b=b-(a.Pd.i.y*f+a.Pd.j.y*g);;){c=-(a.Bh.i.x*l+a.Bh.j.x*b);if(0<=c){var n=-(a.Bh.i.y*l+a.Bh.j.y*b);if(0<=n){this.Wn(a,d,e,c-f,n-g);d.Lb=c;e.Lb=n;break}}c=-d.Bh*l;if(0<=c&&0<=a.Pd.i.y*c+b){this.Wn(a,d,e,c-f,-g);d.Lb=c;e.Lb=
0;break}c=-e.Bh*b;if(0<=c&&0<=a.Pd.j.x*c+l){this.Wn(a,d,e,-f,c-g);d.Lb=0;e.Lb=c;break}if(0<=l&&0<=b){this.Wn(a,d,e,-f,-g);d.Lb=0;e.Lb=0;break}break}};t.pA=function(a,c){var b=a.fd.y,d=-a.fd.x,e=a.pg*c.Lb,e=U.nb(c.Kg-c.CE*((a.K.q.x-a.K.D*c.Bb.y-a.I.q.x+a.I.D*c.Ab.y)*b+(a.K.q.y+a.K.D*c.Bb.x-a.I.q.y-a.I.D*c.Ab.x)*d),-e,e),f=e-c.Kg,b=f*b,d=f*d;a.I.q.x-=a.I.G*b;a.I.q.y-=a.I.G*d;a.I.D-=a.I.N*(c.Ab.x*d-c.Ab.y*b);a.K.q.x+=a.K.G*b;a.K.q.y+=a.K.G*d;a.K.D+=a.K.N*(c.Bb.x*d-c.Bb.y*b);c.Kg=e};t.Wn=function(a,c,
b,d,e){var f=d*a.fd.x;d*=a.fd.y;var g=e*a.fd.x;e*=a.fd.y;a.I.q.x-=a.I.G*(f+g);a.I.q.y-=a.I.G*(d+e);a.I.D-=a.I.N*(c.Ab.x*d-c.Ab.y*f+b.Ab.x*e-b.Ab.y*g);a.K.q.x+=a.K.G*(f+g);a.K.q.y+=a.K.G*(d+e);a.K.D+=a.K.N*(c.Bb.x*d-c.Bb.y*f+b.Bb.x*e-b.Bb.y*g);c.Lb=0;b.Lb=0};t.Dq=function(){for(var a=0;a<this.Mm;++a)for(var c=this.vg[a],b=c.ID,d=0;d<c.gf;++d){var e=b.fa[d],f=c.Mb[d];e.Lj=f.Lb;e.Pj=f.Kg}};t.ie=function(a){void 0===a&&(a=0);for(var c=0,b=0;b<this.Mm;b++){var d=this.vg[b],e=d.I,f=d.K,g=e.P*e.G,l=e.P*
e.N,n=f.P*f.G,m=f.P*f.N;de.Qb(d);for(var h=de.na,k=0;k<d.gf;k++){var q=d.Mb[k],r=de.fa[k],s=de.Dp[k],u=r.x-e.k.u.x,p=r.y-e.k.u.y,z=r.x-f.k.u.x,r=r.y-f.k.u.y,c=c<s?c:s,s=-q.JB*U.nb(a*(s+.005),-.2,0),q=s*h.x,s=s*h.y;e.k.u.x-=g*q;e.k.u.y-=g*s;e.k.J-=l*(u*s-p*q);e.ub();f.k.u.x+=n*q;f.k.u.y+=n*s;f.k.J+=m*(z*s-r*q);f.ub()}}return-.0075<c};var Xd=function(a,c){Fd.call(this,a,c)};y(Xd,Fd);Xd.prototype.wc=function(a,c){Fd.prototype.wc.call(this,a,c)};Xd.prototype.dg=function(){this.wb.lc();this.rb.lc()};var Vd=
function(a,c){Fd.call(this,a,c)};y(Vd,Fd);Vd.prototype.wc=function(a,c){Fd.prototype.wc.call(this,a,c)};Vd.prototype.dg=function(){a:{var a=this.Ce,c=this.wb.lc(),b=this.wb.La().A,d=this.rb.lc(),e=this.rb.La().A;a.Jb=0;for(var f=e.position.x+(e.n.i.x*d.Wa.x+e.n.j.x*d.Wa.y)-b.position.x,g=e.position.y+(e.n.i.y*d.Wa.x+e.n.j.y*d.Wa.y)-b.position.y,e=f*b.n.i.x+g*b.n.i.y,b=f*b.n.j.x+g*b.n.j.y,f=0,g=-Number.MAX_VALUE,l=c.Na+d.Na,n=0;n<c.Ha;++n){var m=c.oa[n].x*(e-c.H[n].x)+c.oa[n].y*(b-c.H[n].y);if(m>l)break a;
m>g&&(g=m,f=n)}m=f+1;m>=c.Ha&&(m=0);var n=c.H[f],h=c.H[m];g<Number.MIN_VALUE?(a.Jb=1,a.Oa=2,a.Ec.F(c.oa[f]),a.ma.x=.5*(n.x+h.x),a.ma.y=.5*(n.y+h.y),a.fa[0].ma.F(d.Wa),a.fa[0].bf.Xi(0)):0>=(e-n.x)*(h.x-n.x)+(b-n.y)*(h.y-n.y)?(e-n.x)*(e-n.x)+(b-n.y)*(b-n.y)>l*l||(a.Jb=1,a.Oa=2,a.Ec.x=e-n.x,a.Ec.y=b-n.y,a.Ec.nd(),a.ma.F(n),a.fa[0].ma.F(d.Wa),a.fa[0].bf.Xi(0)):0>=(e-h.x)*(n.x-h.x)+(b-h.y)*(n.y-h.y)?(e-h.x)*(e-h.x)+(b-h.y)*(b-h.y)>l*l||(a.Jb=1,a.Oa=2,a.Ec.x=e-h.x,a.Ec.y=b-h.y,a.Ec.nd(),a.ma.F(h),a.fa[0].ma.F(d.Wa),
a.fa[0].bf.Xi(0)):(m=.5*(n.x+h.x),n=.5*(n.y+h.y),g=(e-m)*c.oa[f].x+(b-n)*c.oa[f].y,g>l||(a.Jb=1,a.Oa=2,a.Ec.x=c.oa[f].x,a.Ec.y=c.oa[f].y,a.Ec.nd(),a.ma.Set(m,n),a.fa[0].ma.F(d.Wa),a.fa[0].bf.Xi(0)))}};var Yd=function(a,c){Fd.call(this,a,c)};y(Yd,Fd);Yd.prototype.wc=function(a,c){Fd.prototype.wc.call(this,a,c)};Yd.prototype.dg=function(){this.wb.lc();this.rb.lc()};var Wd=function(a,c){Fd.call(this,a,c)};y(Wd,Fd);Wd.prototype.wc=function(a,c){Fd.prototype.wc.call(this,a,c)};Wd.prototype.dg=function(){var a=
this.Ce,c=this.wb.lc(),b=this.wb.La().A,d=this.rb.lc(),e=this.rb.La().A;a.Jb=0;var f=c.Na+d.Na,g=Mc(c,b,d,e),l=g.Hv;if(!(g.Vp>f)){var n=Mc(d,e,c,b);if(!(n.Vp>f)){var m=c,h=d,k=b,q=e,r=0;a.Oa=2;n.Vp>.98*g.Vp+.001&&(m=d,h=c,k=e,q=b,l=n.Hv,a.Oa=4,r=1);c=l;b=q;d=ee;void 0===c&&(c=0);for(var e=k.n.i.x*m.oa[c].x+k.n.j.x*m.oa[c].y,g=k.n.i.y*m.oa[c].x+k.n.j.y*m.oa[c].y,n=b.n.i.x*e+b.n.i.y*g,g=b.n.j.x*e+b.n.j.y*g,e=n,n=0,s=Number.MAX_VALUE,u=0;u<h.Ha;u++){var p=e*h.oa[u].x+g*h.oa[u].y;p<s&&(s=p,n=u)}e=n+1;
e>=h.Ha&&(e=0);d[0].Ke.x=b.position.x+(b.n.i.x*h.H[n].x+b.n.j.x*h.H[n].y);d[0].Ke.y=b.position.y+(b.n.i.y*h.H[n].x+b.n.j.y*h.H[n].y);d[0].id.mv(c);d[0].id.kv(n);d[0].id.lv(0);d[1].Ke.x=b.position.x+(b.n.i.x*h.H[e].x+b.n.j.x*h.H[e].y);d[1].Ke.y=b.position.y+(b.n.i.y*h.H[e].x+b.n.j.y*h.H[e].y);d[1].id.mv(c);d[1].id.kv(e);d[1].id.lv(1);c=m.H[l];l=l+1<m.Ha?m.H[l+1]:m.H[0];fe.Set(l.x-c.x,l.y-c.y);fe.nd();ge.x=fe.y;ge.y=-fe.x;he.Set(.5*(c.x+l.x),.5*(c.y+l.y));ie.x=k.n.i.x*fe.x+k.n.j.x*fe.y;ie.y=k.n.i.y*
fe.x+k.n.j.y*fe.y;je.x=-ie.x;je.y=-ie.y;ke.x=ie.y;ke.y=-ie.x;le.x=k.position.x+(k.n.i.x*c.x+k.n.j.x*c.y);le.y=k.position.y+(k.n.i.y*c.x+k.n.j.y*c.y);me.x=k.position.x+(k.n.i.x*l.x+k.n.j.x*l.y);me.y=k.position.y+(k.n.i.y*l.x+k.n.j.y*l.y);if(!(2>Kc(ne,ee,je,-ie.x*le.x-ie.y*le.y+f)||2>Kc(oe,ne,ie,ie.x*me.x+ie.y*me.y+f))){a.Ec.F(ge);a.ma.F(he);k=ke.x*le.x+ke.y*le.y;for(m=l=0;2>m;++m)ke.x*oe[m].Ke.x+ke.y*oe[m].Ke.y-k<=f&&(c=oe[m].Ke.x-q.position.x,h=oe[m].Ke.y-q.position.y,a.fa[l].ma.x=c*q.n.i.x+h*q.n.i.y,
a.fa[l].ma.y=c*q.n.j.x+h*q.n.j.y,a.fa[l].bf.Set(oe[m].id),a.fa[l].bf.jA(r),l++);a.Jb=l}}}};var qe=function(){this.kd="Controller"+pe++;this.Da=null;this.yc=new md};qe.prototype.Rg=function(){};qe.prototype.Zj=function(a){this.yc.Zj(a);a.rl(this)};qe.prototype.Fl=function(a){this.yc.Fl(a);a.Gl(this)};qe.prototype.Gn=function(){for(var a=this.yc.Ea(ld);a;a=a.next)this.Fl(a.body)};var pe=0,re=function(){qe.call(this);this.fd=O.r(0,-1);this.yf=this.offset=0;this.Wy=O.r(0,0);this.lD=2;this.NA=1;this.LE=
!0;this.sw=null};y(re,qe);re.prototype.Rg=function(){this.LE&&(this.sw=this.Da.tx.Yb());for(var a=this.yc.Ea(qd);a;a=a.next){for(var c=a.body,b=O.r(0,0),d=O.r(0,0),e=0,f=0,g=c.Fq().Ea();g;g=g.next){var l=O.r(0,0),n=g.Ue.lc().In(this.fd,this.offset,c.Od(),l),e=e+n;b.x+=n*l.x;b.y+=n*l.y;var m=0,m=1,f=f+n*m;d.x+=n*l.x*m;d.y+=n*l.y*m}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=f,d.y/=f,f=this.sw.Ph(),f.md(this.yf*e),c.bg(f,d),f=c.vz(b),f.Xq(this.Wy),f.md(-this.lD*e),c.bg(f,b),c.En(-c.Ze/c.fk()*e*c.Nn()*this.NA),
O.Pb(b),O.Pb(d))}};var se=function(){qe.call(this);this.Au=O.r(0,0)};y(se,qe);se.prototype.Rg=function(a){a=O.r(this.Au.x*a.ya,this.Au.y*a.ya);for(var c=this.yc.Ea(qd);c;c=c.next){var b=c.body,d=b.Si();b.Yi(O.r(d.x+a.x,d.y+a.y))}O.Pb(a)};var te=function(){qe.call(this);this.sz=O.r(0,0)};y(te,qe);te.prototype.Rg=function(){for(var a=this.yc.Ea(qd);a;a=a.next){var c=a.body;c.bg(this.sz,c.gk())}};var id=function(){this.tr=this.sr=null;this.qo={}};id.prototype.Ea=function(){return this.sr};id.prototype.rl=
function(a){var c=a.kd;if(null==this.qo[c]){a=new ue(a);var b=this.tr;null!=b?b.qf(a):this.sr=a;a.rf(b);this.tr=a;this.qo[c]=a}};id.prototype.Gl=function(a){a=a.kd;var c=this.qo[a];if(null!=c){var b=c.hf,c=c.next;null==b?this.sr=c:b.qf(c);null==c?this.tr=b:c.rf(b);delete this.qo[a]}};var ue=function(a){this.Tv=a;this.hf=this.next=null};ue.prototype.qf=function(a){this.next=a};ue.prototype.rf=function(a){this.hf=a};var ve=function(){qe.call(this);this.Iu=1;this.aD=!0};y(ve,qe);ve.prototype.Rg=function(){var a=
null,c=null,b=0,d=null,e=null,f=0,g=0,l=0,f=null;if(this.aD)for(var n=this.yc.Ea(ld);n;n=n.next)for(var a=n.body,c=a.gk(),b=a.fk(),m=this.yc.Ea(ld);m;m=m.next){if(d=m.body,a.Xc()||d.Xc())e=d.gk(),f=e.x-c.x,g=e.y-c.y,l=f*f+g*g,l<Number.MIN_VALUE||(f=O.r(f,g),f.md(this.Iu/l/Math.sqrt(l)*b*d.fk()),a.Xc()&&a.bg(f,c),f.md(-1),d.Xc()&&d.bg(f,e),O.Pb(f))}else for(n=this.yc.Ea(ld);n;n=n.next)for(a=bodyNode.body,c=a.gk(),b=a.fk(),m=this.yc.Ea(ld);m;m=m.next)if(d=bodyNode.body,a.Xc()||d.Xc())e=d.gk(),f=e.x-
c.x,g=e.y-c.y,l=f*f+g*g,l<Number.MIN_VALUE||(f=O.r(f,g),f.md(this.Iu/l*b*d.fk()),a.Xc()&&a.bg(f,c),f.md(-1),d.Xc()&&d.bg(f,e),O.Pb(f))};var we=function(){qe.call(this);this.qA=new P;this.mt=0};y(we,qe);we.prototype.Rg=function(a){a=a.ya;if(!(a<=Number.MIN_VALUE)){a>this.mt&&0<this.mt&&(a=this.mt);for(var c=this.yc.Ea(qd);c;c=c.next){var b=c.body,d=b.Iq(U.Gb(this.qA,b.Hq(b.Si())));b.Yi(O.r(b.Si().x+d.x*a,b.Si().y+d.y*a))}}};var Z=function(a){this.yd=new xe;this.zd=new xe;this.yg=O.r(0,0);this.zg=O.r(0,
0);this.Oa=a.type;this.oi=this.Pk=null;this.Q=a.I;this.R=a.K;this.qx=a.qr};Z.prototype.vc=function(){return this.Oa};Z.prototype.yl=function(){return this.Q};Z.prototype.Eq=function(){return this.R};Z.prototype.Vi=function(){return this.Q.Vi()&&this.R.Vi()};Z.Me=function(a){return a.Me()};Z.prototype.Ne=function(){};Z.prototype.je=function(){};Z.prototype.Dq=function(){};Z.prototype.ie=function(){return!1};Z.CB=0;Z.tk=1;Z.AB=2;Z.Dr=3;Z.BB=4;Z.gG=5;Z.yB=6;Z.zB=7;Z.DB=8;Z.xB=9;Z.sd=0;Z.ng=1;Z.Cc=2;
Z.ai=3;var ye=function(){this.type=Z.CB;this.K=this.I=null;this.qr=!1},xe=function(){},ze=function(a){Z.call(this,a);this.Z=O.r(0,0);this.aa=O.r(0,0);this.ec=O.r(0,0);this.Z.F(a.jb);this.aa.F(a.kb);this.$s=a.length;this.Ys=a.Mo;this.rD=a.xo;this.ox=this.Kj=this.B=0};y(ze,Z);ze.prototype.Ne=function(a){var c,b=0,d=this.Q,e=this.R;c=d.A.n;var f=this.Z.x-d.k.L.x,g=this.Z.y-d.k.L.y,b=c.i.x*f+c.j.x*g,g=c.i.y*f+c.j.y*g,f=b;c=e.A.n;var l=this.aa.x-e.k.L.x,n=this.aa.y-e.k.L.y,b=c.i.x*l+c.j.x*n,n=c.i.y*l+
c.j.y*n,l=b;this.ec.x=e.k.u.x+l-d.k.u.x-f;this.ec.y=e.k.u.y+n-d.k.u.y-g;b=Math.sqrt(this.ec.x*this.ec.x+this.ec.y*this.ec.y);.005<b?this.ec.md(1/b):this.ec.ba();c=f*this.ec.y-g*this.ec.x;var m=l*this.ec.y-n*this.ec.x;c=d.G+d.N*c*c+e.G+e.N*m*m;this.P=0!=c?1/c:0;if(0<this.Ys){var b=b-this.$s,m=2*Math.PI*this.Ys,h=this.P*m*m;this.Kj=a.ya*(2*this.P*this.rD*m+a.ya*h);this.Kj=0!=this.Kj?1/this.Kj:0;this.ox=b*a.ya*h*this.Kj;this.P=c+this.Kj;this.P=0!=this.P?1/this.P:0}a.Kh?(this.B*=a.ac,a=this.B*this.ec.x,
c=this.B*this.ec.y,d.q.x-=d.G*a,d.q.y-=d.G*c,d.D-=d.N*(f*c-g*a),e.q.x+=e.G*a,e.q.y+=e.G*c,e.D+=e.N*(l*c-n*a)):this.B=0};ze.prototype.je=function(){var a=this.Z.x-this.Q.k.L.x,c=this.Z.y-this.Q.k.L.y,b=this.Q.A.n.i.x*a+this.Q.A.n.j.x*c,c=this.Q.A.n.i.y*a+this.Q.A.n.j.y*c,a=b,d=this.aa.x-this.R.k.L.x,e=this.aa.y-this.R.k.L.y,b=this.R.A.n.i.x*d+this.R.A.n.j.x*e,e=this.R.A.n.i.y*d+this.R.A.n.j.y*e,d=b,f=-this.P*(this.ec.x*(this.R.q.x-this.R.D*e-(this.Q.q.x-this.Q.D*c))+this.ec.y*(this.R.q.y+this.R.D*
d-(this.Q.q.y+this.Q.D*a))+this.ox+this.Kj*this.B);this.B+=f;b=f*this.ec.x;f*=this.ec.y;this.Q.q.x-=this.Q.G*b;this.Q.q.y-=this.Q.G*f;this.Q.D-=this.Q.N*(a*f-c*b);this.R.q.x+=this.R.G*b;this.R.q.y+=this.R.G*f;this.R.D+=this.R.N*(d*f-e*b)};ze.prototype.ie=function(){if(0<this.Ys)return!0;var a=this.Z.x-this.Q.k.L.x,c=this.Z.y-this.Q.k.L.y,b=this.Q.A.n.i.x*a+this.Q.A.n.j.x*c,c=this.Q.A.n.i.y*a+this.Q.A.n.j.y*c,a=b,d=this.aa.x-this.R.k.L.x,e=this.aa.y-this.R.k.L.y,b=this.R.A.n.i.x*d+this.R.A.n.j.x*e,
e=this.R.A.n.i.y*d+this.R.A.n.j.y*e,d=b,f=this.R.k.u.x+d-this.Q.k.u.x-a,g=this.R.k.u.y+e-this.Q.k.u.y-c,l=Math.sqrt(f*f+g*g),b=U.nb(l-this.$s,-.2,.2),n=-this.P*b;this.ec.Set(f/l,g/l);f=n*this.ec.x;n*=this.ec.y;this.Q.k.u.x-=this.Q.G*f;this.Q.k.u.y-=this.Q.G*n;this.Q.k.J-=this.Q.N*(a*n-c*f);this.R.k.u.x+=this.R.G*f;this.R.k.u.y+=this.R.G*n;this.R.k.J+=this.R.N*(d*n-e*f);this.Q.ub();this.R.ub();return.005>Math.abs(b)};var rc=function(){ye.call(this);this.jb=O.r(0,0);this.kb=O.r(0,0);this.type=Z.Dr;
this.length=1;this.xo=this.Mo=0};y(rc,ye);rc.prototype.Qb=function(a,c,b,d){this.I=a;this.K=c;this.jb.F(this.I.Wc(b));this.kb.F(this.K.Wc(d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.xo=this.Mo=0};rc.prototype.Me=function(){return new ze(this)};var Ae=function(a){Z.call(this,a);this.ze=O.r(0,0);this.Ae=O.r(0,0);this.dt=new P;this.ye=O.r(0,0);this.ze.F(a.jb);this.Ae.F(a.kb);this.dt.ba();this.Km=0;this.ye.ba();this.rh=0;this.CD=a.KD;this.ED=a.LD};y(Ae,Z);Ae.prototype.Ne=function(a){var c,
b=0,d=this.Q,e=this.R;c=d.A.n;var f=this.ze.x-d.k.L.x,g=this.ze.y-d.k.L.y,b=c.i.x*f+c.j.x*g,g=c.i.y*f+c.j.y*g,f=b;c=e.A.n;var l=this.Ae.x-e.k.L.x,n=this.Ae.y-e.k.L.y,b=c.i.x*l+c.j.x*n,n=c.i.y*l+c.j.y*n,l=b;c=d.G;var b=e.G,m=d.N,h=e.N,k=new P;k.i.x=c+b;k.j.x=0;k.i.y=0;k.j.y=c+b;k.i.x+=m*g*g;k.j.x+=-m*f*g;k.i.y+=-m*f*g;k.j.y+=m*f*f;k.i.x+=h*n*n;k.j.x+=-h*l*n;k.i.y+=-h*l*n;k.j.y+=h*l*l;k.Gq(this.dt);this.Km=m+h;0<this.Km&&(this.Km=1/this.Km);a.Kh?(this.ye.x*=a.ac,this.ye.y*=a.ac,this.rh*=a.ac,a=this.ye,
d.q.x-=c*a.x,d.q.y-=c*a.y,d.D-=m*(f*a.y-g*a.x+this.rh),e.q.x+=b*a.x,e.q.y+=b*a.y,e.D+=h*(l*a.y-n*a.x+this.rh)):(this.ye.ba(),this.rh=0)};Ae.prototype.je=function(a){var c,b=0,d=this.Q,e=this.R,f=d.q,g=d.D,l=e.q,n=e.D,m=d.G,h=e.G,k=d.N,q=e.N;c=d.A.n;var r=this.ze.x-d.k.L.x,s=this.ze.y-d.k.L.y,b=c.i.x*r+c.j.x*s,s=c.i.y*r+c.j.y*s,r=b;c=e.A.n;var u=this.Ae.x-e.k.L.x,p=this.Ae.y-e.k.L.y,b=c.i.x*u+c.j.x*p,p=c.i.y*u+c.j.y*p,u=b;c=0;var b=-this.Km*(n-g),z=this.rh;c=a.ya*this.ED;this.rh=U.nb(this.rh+b,-c,
c);b=this.rh-z;g-=k*b;n+=q*b;c=U.Gb(this.dt,O.r(-(l.x-n*p-f.x+g*s),-(l.y+n*u-f.y-g*r)));b=this.ye.Yb();this.ye.Og(c);c=a.ya*this.CD;this.ye.Tn()>c*c&&(this.ye.nd(),this.ye.md(c));c=U.ib(this.ye,b);f.x-=m*c.x;f.y-=m*c.y;g-=k*(r*c.y-s*c.x);l.x+=h*c.x;l.y+=h*c.y;n+=q*(u*c.y-p*c.x);d.D=g;e.D=n};Ae.prototype.ie=function(){return!0};var Be=function(){ye.call(this);this.jb=O.r(0,0);this.kb=O.r(0,0);this.type=Z.xB;this.LD=this.KD=0};y(Be,ye);Be.prototype.Qb=function(a,c,b){this.I=a;this.K=c;this.jb.F(this.I.Wc(b));
this.kb.F(this.K.Wc(b))};Be.prototype.Me=function(){return new Ae(this)};var De=function(a){Z.call(this,a);this.wh=O.r(0,0);this.xh=O.r(0,0);this.Z=O.r(0,0);this.aa=O.r(0,0);this.qb=new Ce;var c=a.Gk.Oa,b=a.Hk.Oa;this.Rk=this.Oj=this.Qk=this.Nj=null;var d=0,e=0;this.uD=a.Gk.yl();this.Q=a.Gk.Eq();c==Z.tk?(this.Nj=a.Gk,this.wh.F(this.Nj.Z),this.Z.F(this.Nj.aa),d=this.Nj.On()):(this.Qk=a.Gk,this.wh.F(this.Qk.Z),this.Z.F(this.Qk.aa),d=this.Qk.Al());this.vD=a.Hk.yl();this.R=a.Hk.Eq();b==Z.tk?(this.Oj=
a.Hk,this.xh.F(this.Oj.Z),this.aa.F(this.Oj.aa),e=this.Oj.On()):(this.Rk=a.Hk,this.xh.F(this.Rk.Z),this.aa.F(this.Rk.aa),e=this.Rk.Al());this.zb=a.Di;this.Ok=d+this.zb*e;this.B=0};y(De,Z);De.prototype.Ne=function(a){var c=this.uD,b=this.vD,d=this.Q,e=this.R,f=0,g=0,l=0,n=0,m=l=0,h=0;this.qb.ba();this.Nj?(this.qb.$i=-1,h+=d.N):(c=c.A.n,g=this.Qk.Jd,f=c.i.x*g.x+c.j.x*g.y,g=c.i.y*g.x+c.j.y*g.y,c=d.A.n,l=this.Z.x-d.k.L.x,n=this.Z.y-d.k.L.y,m=c.i.x*l+c.j.x*n,n=c.i.y*l+c.j.y*n,l=m*g-n*f,this.qb.If.Set(-f,
-g),this.qb.$i=-l,h+=d.G+d.N*l*l);this.Oj?(this.qb.aj=-this.zb,h+=this.zb*this.zb*e.N):(c=b.A.n,g=this.Rk.Jd,f=c.i.x*g.x+c.j.x*g.y,g=c.i.y*g.x+c.j.y*g.y,c=e.A.n,l=this.aa.x-e.k.L.x,n=this.aa.y-e.k.L.y,m=c.i.x*l+c.j.x*n,n=c.i.y*l+c.j.y*n,l=m*g-n*f,this.qb.Jf.Set(-this.zb*f,-this.zb*g),this.qb.aj=-this.zb*l,h+=this.zb*this.zb*(e.G+e.N*l*l));this.P=0<h?1/h:0;a.Kh?(d.q.x+=d.G*this.B*this.qb.If.x,d.q.y+=d.G*this.B*this.qb.If.y,d.D+=d.N*this.B*this.qb.$i,e.q.x+=e.G*this.B*this.qb.Jf.x,e.q.y+=e.G*this.B*
this.qb.Jf.y,e.D+=e.N*this.B*this.qb.aj):this.B=0};De.prototype.je=function(){var a=this.Q,c=this.R,b=-this.P*this.qb.mz(a.q,a.D,c.q,c.D);this.B+=b;a.q.x+=a.G*b*this.qb.If.x;a.q.y+=a.G*b*this.qb.If.y;a.D+=a.N*b*this.qb.$i;c.q.x+=c.G*b*this.qb.Jf.x;c.q.y+=c.G*b*this.qb.Jf.y;c.D+=c.N*b*this.qb.aj};De.prototype.ie=function(){var a=this.Q,c=this.R,b=0,d=0,b=this.Nj?this.Nj.On():this.Qk.Al(),d=this.Oj?this.Oj.On():this.Rk.Al(),b=-this.P*(this.Ok-(b+this.zb*d));a.k.u.x+=a.G*b*this.qb.If.x;a.k.u.y+=a.G*
b*this.qb.If.y;a.k.J+=a.N*b*this.qb.$i;c.k.u.x+=c.G*b*this.qb.Jf.x;c.k.u.y+=c.G*b*this.qb.Jf.y;c.k.J+=c.N*b*this.qb.aj;a.ub();c.ub();return!0};var Ee=function(){ye.call(this);this.type=Z.yB;this.Hk=this.Gk=null;this.Di=1};y(Ee,ye);Ee.prototype.Qb=function(a,c,b){this.Gk=a;this.I=a.yl();this.Hk=c;this.K=c.yl();this.Di=b};Ee.prototype.Me=function(){return new De(this)};var Ce=function(){this.If=O.r(0,0);this.Jf=O.r(0,0)};Ce.prototype.ba=function(){this.If.ba();this.$i=0;this.Jf.ba();this.aj=0};Ce.prototype.Set=
function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.If.F(a);this.$i=c;this.Jf.F(b);this.aj=d};Ce.prototype.mz=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);return this.If.x*a.x+this.If.y*a.y+this.$i*c+(this.Jf.x*b.x+this.Jf.y*b.y)+this.aj*d};var Fe=function(a){Z.call(this,a);this.Z=O.r(0,0);this.aa=O.r(0,0);this.Jd=O.r(0,0);this.yh=O.r(0,0);this.O=O.r(0,0);this.ca=O.r(0,0);this.W=new P;this.B=O.r(0,0);this.Z.F(a.jb);this.aa.F(a.kb);this.Jd.F(a.Fj);this.yh.x=-this.Jd.y;this.yh.y=this.Jd.x;
this.B.ba();this.Ga=this.Ad=0;this.Be=a.Ts;this.De=a.wu;this.et=a.lt;this.Qm=a.Xk;this.Lf=a.nj;this.ni=a.uk;this.ra=Z.sd;this.O.ba();this.ca.ba()};y(Fe,Z);Fe.prototype.Al=function(){var a=this.Q,c=this.R,b=a.Rn(this.Z),d=c.Rn(this.aa),c=d.x-b.x,b=d.y-b.y,a=a.Iq(this.Jd);return a.x*c+a.y*b};Fe.prototype.Ne=function(a){var c=this.Q,b=this.R,d,e=0;this.yg.F(c.Ti());this.zg.F(b.Ti());var f=c.Od();b.Od();d=c.A.n;var g=this.Z.x-this.yg.x,l=this.Z.y-this.yg.y,e=d.i.x*g+d.j.x*l,l=d.i.y*g+d.j.y*l,g=e;d=b.A.n;
var n=this.aa.x-this.zg.x,m=this.aa.y-this.zg.y,e=d.i.x*n+d.j.x*m,m=d.i.y*n+d.j.y*m,n=e;d=b.k.u.x+n-c.k.u.x-g;e=b.k.u.y+m-c.k.u.y-l;this.xb=c.G;this.yb=b.G;this.cd=c.N;this.dd=b.N;this.O.F(U.Gb(f.n,this.Jd));this.Pa=(d+g)*this.O.y-(e+l)*this.O.x;this.Qa=n*this.O.y-m*this.O.x;this.Ad=this.xb+this.yb+this.cd*this.Pa*this.Pa+this.dd*this.Qa*this.Qa;this.Ad=this.Ad>Number.MIN_VALUE?1/this.Ad:0;this.ca.F(U.Gb(f.n,this.yh));this.Sa=(d+g)*this.ca.y-(e+l)*this.ca.x;this.Ta=n*this.ca.y-m*this.ca.x;f=this.xb;
g=this.yb;l=this.cd;n=this.dd;this.W.i.x=f+g+l*this.Sa*this.Sa+n*this.Ta*this.Ta;this.W.i.y=l*this.Sa*this.Pa+n*this.Ta*this.Qa;this.W.j.x=this.W.i.y;this.W.j.y=f+g+l*this.Pa*this.Pa+n*this.Qa*this.Qa;this.Lf?(d=this.O.x*d+this.O.y*e,.01>Math.abs(this.De-this.Be)?this.ra=Z.ai:d<=this.Be?this.ra!=Z.ng&&(this.ra=Z.ng,this.B.y=0):d>=this.De?this.ra!=Z.Cc&&(this.ra=Z.Cc,this.B.y=0):(this.ra=Z.sd,this.B.y=0)):this.ra=Z.sd;0==this.ni&&(this.Ga=0);a.Kh?(this.B.x*=a.ac,this.B.y*=a.ac,this.Ga*=a.ac,a=this.B.x*
this.ca.x+(this.Ga+this.B.y)*this.O.x,d=this.B.x*this.ca.y+(this.Ga+this.B.y)*this.O.y,e=this.B.x*this.Sa+(this.Ga+this.B.y)*this.Pa,f=this.B.x*this.Ta+(this.Ga+this.B.y)*this.Qa,c.q.x-=this.xb*a,c.q.y-=this.xb*d,c.D-=this.cd*e,b.q.x+=this.yb*a,b.q.y+=this.yb*d,b.D+=this.dd*f):(this.B.ba(),this.Ga=0)};Fe.prototype.je=function(a){var c=this.Q,b=this.R,d=c.q,e=c.D,f=b.q,g=b.D,l=0,n=0,m=0,h=0;this.ni&&this.ra!=Z.ai&&(h=this.Ad*(this.Qm-(this.O.x*(f.x-d.x)+this.O.y*(f.y-d.y)+this.Qa*g-this.Pa*e)),l=this.Ga,
n=a.ya*this.et,this.Ga=U.nb(this.Ga+h,-n,n),h=this.Ga-l,l=h*this.O.x,n=h*this.O.y,m=h*this.Pa,h*=this.Qa,d.x-=this.xb*l,d.y-=this.xb*n,e-=this.cd*m,f.x+=this.yb*l,f.y+=this.yb*n,g+=this.dd*h);n=this.ca.x*(f.x-d.x)+this.ca.y*(f.y-d.y)+this.Ta*g-this.Sa*e;this.Lf&&this.ra!=Z.sd?(m=this.O.x*(f.x-d.x)+this.O.y*(f.y-d.y)+this.Qa*g-this.Pa*e,l=this.B.Yb(),a=this.W.Sh(O.r(0,0),-n,-m),this.B.Og(a),this.ra==Z.ng?this.B.y=Math.max(this.B.y,0):this.ra==Z.Cc&&(this.B.y=Math.min(this.B.y,0)),n=-n-(this.B.y-l.y)*
this.W.j.x,m=0,m=0!=this.W.i.x?n/this.W.i.x+l.x:l.x,this.B.x=m,a.x=this.B.x-l.x,a.y=this.B.y-l.y,l=a.x*this.ca.x+a.y*this.O.x,n=a.x*this.ca.y+a.y*this.O.y,m=a.x*this.Sa+a.y*this.Pa,h=a.x*this.Ta+a.y*this.Qa):(a=0,a=0!=this.W.i.x?-n/this.W.i.x:0,this.B.x+=a,l=a*this.ca.x,n=a*this.ca.y,m=a*this.Sa,h=a*this.Ta);d.x-=this.xb*l;d.y-=this.xb*n;e-=this.cd*m;f.x+=this.yb*l;f.y+=this.yb*n;g+=this.dd*h;c.q.F(d);c.D=e;b.q.F(f);b.D=g};Fe.prototype.ie=function(){var a=this.Q,c=this.R,b=a.k.u,d=a.k.J,e=c.k.u,f=
c.k.J,g,l=0,n=0,m=0,h=0,k=g=0,q=0,n=!1,r=0,s=P.ek(d),m=P.ek(f);g=s;var q=this.Z.x-this.yg.x,u=this.Z.y-this.yg.y,l=g.i.x*q+g.j.x*u,u=g.i.y*q+g.j.y*u,q=l;g=m;m=this.aa.x-this.zg.x;h=this.aa.y-this.zg.y;l=g.i.x*m+g.j.x*h;h=g.i.y*m+g.j.y*h;m=l;g=e.x+m-b.x-q;l=e.y+h-b.y-u;if(this.Lf){this.O=U.Gb(s,this.Jd);this.Pa=(g+q)*this.O.y-(l+u)*this.O.x;this.Qa=m*this.O.y-h*this.O.x;var p=this.O.x*g+this.O.y*l;.01>Math.abs(this.De-this.Be)?(r=U.nb(p,-.2,.2),k=Math.abs(p),n=!0):p<=this.Be?(r=U.nb(p-this.Be+.005,
-.2,0),k=this.Be-p,n=!0):p>=this.De&&(r=U.nb(p-this.De+.005,0,.2),k=p-this.De,n=!0)}this.ca=U.Gb(s,this.yh);this.Sa=(g+q)*this.ca.y-(l+u)*this.ca.x;this.Ta=m*this.ca.y-h*this.ca.x;s=O.r(0,0);u=this.ca.x*g+this.ca.y*l;k=Math.max(k,Math.abs(u));q=0;n?(n=this.xb,m=this.yb,h=this.cd,g=this.dd,this.W.i.x=n+m+h*this.Sa*this.Sa+g*this.Ta*this.Ta,this.W.i.y=h*this.Sa*this.Pa+g*this.Ta*this.Qa,this.W.j.x=this.W.i.y,this.W.j.y=n+m+h*this.Pa*this.Pa+g*this.Qa*this.Qa,this.W.Sh(s,-u,-r)):(n=this.xb,m=this.yb,
h=this.cd,g=this.dd,r=n+m+h*this.Sa*this.Sa+g*this.Ta*this.Ta,s.x=0!=r?-u/r:0,s.y=0);r=s.x*this.ca.x+s.y*this.O.x;n=s.x*this.ca.y+s.y*this.O.y;u=s.x*this.Sa+s.y*this.Pa;s=s.x*this.Ta+s.y*this.Qa;b.x-=this.xb*r;b.y-=this.xb*n;d-=this.cd*u;e.x+=this.yb*r;e.y+=this.yb*n;f+=this.dd*s;a.k.J=d;c.k.J=f;a.ub();c.ub();return.005>=k&&q<=tc};var Ge=function(){ye.call(this);this.jb=O.r(0,0);this.kb=O.r(0,0);this.Fj=O.r(0,0);this.type=Z.zB;this.Fj.Set(1,0);this.nj=!1;this.wu=this.Ts=0;this.uk=!1;this.Xk=this.lt=
0};y(Ge,ye);Ge.prototype.Qb=function(a,c,b,d){this.I=a;this.K=c;this.jb=this.I.Wc(b);this.kb=this.K.Wc(b);this.Fj=this.I.Hq(d)};Ge.prototype.Me=function(){return new Fe(this)};var He=function(a){Z.call(this,a);this.Z=O.r(0,0);this.aa=O.r(0,0);this.Jd=O.r(0,0);this.yh=O.r(0,0);this.O=O.r(0,0);this.ca=O.r(0,0);this.W=new Ac;this.B=new zc(0,0,0);this.Z.F(a.jb);this.aa.F(a.kb);this.Jd.F(a.Fj);this.yh.x=-this.Jd.y;this.yh.y=this.Jd.x;this.FD=a.Fg;this.B.ba();this.Ga=this.Ad=0;this.Be=a.Ts;this.De=a.wu;
this.et=a.lt;this.Qm=a.Xk;this.Lf=a.nj;this.ni=a.uk;this.ra=Z.sd;this.O.ba();this.ca.ba()};y(He,Z);He.prototype.Al=function(){var a=this.Q,c=this.R,b=a.Rn(this.Z),d=c.Rn(this.aa),c=d.x-b.x,b=d.y-b.y,a=a.Iq(this.Jd);return a.x*c+a.y*b};He.prototype.Ne=function(a){var c=this.Q,b=this.R,d,e=0;this.yg.F(c.Ti());this.zg.F(b.Ti());var f=c.Od();b.Od();d=c.A.n;var g=this.Z.x-this.yg.x,l=this.Z.y-this.yg.y,e=d.i.x*g+d.j.x*l,l=d.i.y*g+d.j.y*l,g=e;d=b.A.n;var n=this.aa.x-this.zg.x,m=this.aa.y-this.zg.y,e=d.i.x*
n+d.j.x*m,m=d.i.y*n+d.j.y*m,n=e;d=b.k.u.x+n-c.k.u.x-g;e=b.k.u.y+m-c.k.u.y-l;this.xb=c.G;this.yb=b.G;this.cd=c.N;this.dd=b.N;this.O.F(U.Gb(f.n,this.Jd));this.Pa=(d+g)*this.O.y-(e+l)*this.O.x;this.Qa=n*this.O.y-m*this.O.x;this.Ad=this.xb+this.yb+this.cd*this.Pa*this.Pa+this.dd*this.Qa*this.Qa;this.Ad>Number.MIN_VALUE&&(this.Ad=1/this.Ad);this.ca.F(U.Gb(f.n,this.yh));this.Sa=(d+g)*this.ca.y-(e+l)*this.ca.x;this.Ta=n*this.ca.y-m*this.ca.x;f=this.xb;g=this.yb;l=this.cd;n=this.dd;this.W.i.x=f+g+l*this.Sa*
this.Sa+n*this.Ta*this.Ta;this.W.i.y=l*this.Sa+n*this.Ta;this.W.i.z=l*this.Sa*this.Pa+n*this.Ta*this.Qa;this.W.j.x=this.W.i.y;this.W.j.y=l+n;this.W.j.z=l*this.Pa+n*this.Qa;this.W.la.x=this.W.i.z;this.W.la.y=this.W.j.z;this.W.la.z=f+g+l*this.Pa*this.Pa+n*this.Qa*this.Qa;this.Lf?(d=this.O.x*d+this.O.y*e,.01>Math.abs(this.De-this.Be)?this.ra=Z.ai:d<=this.Be?this.ra!=Z.ng&&(this.ra=Z.ng,this.B.z=0):d>=this.De?this.ra!=Z.Cc&&(this.ra=Z.Cc,this.B.z=0):(this.ra=Z.sd,this.B.z=0)):this.ra=Z.sd;0==this.ni&&
(this.Ga=0);a.Kh?(this.B.x*=a.ac,this.B.y*=a.ac,this.Ga*=a.ac,a=this.B.x*this.ca.x+(this.Ga+this.B.z)*this.O.x,d=this.B.x*this.ca.y+(this.Ga+this.B.z)*this.O.y,e=this.B.x*this.Sa+this.B.y+(this.Ga+this.B.z)*this.Pa,f=this.B.x*this.Ta+this.B.y+(this.Ga+this.B.z)*this.Qa,c.q.x-=this.xb*a,c.q.y-=this.xb*d,c.D-=this.cd*e,b.q.x+=this.yb*a,b.q.y+=this.yb*d,b.D+=this.dd*f):(this.B.ba(),this.Ga=0)};He.prototype.je=function(a){var c=this.Q,b=this.R,d=c.q,e=c.D,f=b.q,g=b.D,l=0,n=0,m=0,h=0;this.ni&&this.ra!=
Z.ai&&(h=this.Ad*(this.Qm-(this.O.x*(f.x-d.x)+this.O.y*(f.y-d.y)+this.Qa*g-this.Pa*e)),l=this.Ga,a=a.ya*this.et,this.Ga=U.nb(this.Ga+h,-a,a),h=this.Ga-l,l=h*this.O.x,n=h*this.O.y,m=h*this.Pa,h*=this.Qa,d.x-=this.xb*l,d.y-=this.xb*n,e-=this.cd*m,f.x+=this.yb*l,f.y+=this.yb*n,g+=this.dd*h);m=this.ca.x*(f.x-d.x)+this.ca.y*(f.y-d.y)+this.Ta*g-this.Sa*e;n=g-e;this.Lf&&this.ra!=Z.sd?(a=this.O.x*(f.x-d.x)+this.O.y*(f.y-d.y)+this.Qa*g-this.Pa*e,l=this.B.Yb(),a=this.W.Ll(new zc(0,0,0),-m,-n,-a),this.B.Og(a),
this.ra==Z.ng?this.B.z=Math.max(this.B.z,0):this.ra==Z.Cc&&(this.B.z=Math.min(this.B.z,0)),m=-m-(this.B.z-l.z)*this.W.la.x,n=-n-(this.B.z-l.z)*this.W.la.y,n=this.W.kk(O.r(0,0),m,n),n.x+=l.x,n.y+=l.y,this.B.x=n.x,this.B.y=n.y,a.x=this.B.x-l.x,a.y=this.B.y-l.y,a.z=this.B.z-l.z,l=a.x*this.ca.x+a.z*this.O.x,n=a.x*this.ca.y+a.z*this.O.y,m=a.x*this.Sa+a.y+a.z*this.Pa,h=a.x*this.Ta+a.y+a.z*this.Qa):(a=this.W.kk(O.r(0,0),-m,-n),this.B.x+=a.x,this.B.y+=a.y,l=a.x*this.ca.x,n=a.x*this.ca.y,m=a.x*this.Sa+a.y,
h=a.x*this.Ta+a.y);d.x-=this.xb*l;d.y-=this.xb*n;e-=this.cd*m;f.x+=this.yb*l;f.y+=this.yb*n;g+=this.dd*h;c.q.F(d);c.D=e;b.q.F(f);b.D=g};He.prototype.ie=function(){var a=this.Q,c=this.R,b=a.k.u,d=a.k.J,e=c.k.u,f=c.k.J,g,l=0,n=0,m=0,h=l=g=0,k=0,n=!1,q=0,r=P.ek(d),s=P.ek(f);g=r;var k=this.Z.x-this.yg.x,u=this.Z.y-this.yg.y,l=g.i.x*k+g.j.x*u,u=g.i.y*k+g.j.y*u,k=l;g=s;s=this.aa.x-this.zg.x;m=this.aa.y-this.zg.y;l=g.i.x*s+g.j.x*m;m=g.i.y*s+g.j.y*m;s=l;g=e.x+s-b.x-k;l=e.y+m-b.y-u;if(this.Lf){this.O=U.Gb(r,
this.Jd);this.Pa=(g+k)*this.O.y-(l+u)*this.O.x;this.Qa=s*this.O.y-m*this.O.x;var p=this.O.x*g+this.O.y*l;.01>Math.abs(this.De-this.Be)?(q=U.nb(p,-.2,.2),h=Math.abs(p),n=!0):p<=this.Be?(q=U.nb(p-this.Be+.005,-.2,0),h=this.Be-p,n=!0):p>=this.De&&(q=U.nb(p-this.De+.005,0,.2),h=p-this.De,n=!0)}this.ca=U.Gb(r,this.yh);this.Sa=(g+k)*this.ca.y-(l+u)*this.ca.x;this.Ta=s*this.ca.y-m*this.ca.x;r=new zc(0,0,0);u=this.ca.x*g+this.ca.y*l;s=f-d-this.FD;h=Math.max(h,Math.abs(u));k=Math.abs(s);n?(n=this.xb,m=this.yb,
g=this.cd,l=this.dd,this.W.i.x=n+m+g*this.Sa*this.Sa+l*this.Ta*this.Ta,this.W.i.y=g*this.Sa+l*this.Ta,this.W.i.z=g*this.Sa*this.Pa+l*this.Ta*this.Qa,this.W.j.x=this.W.i.y,this.W.j.y=g+l,this.W.j.z=g*this.Pa+l*this.Qa,this.W.la.x=this.W.i.z,this.W.la.y=this.W.j.z,this.W.la.z=n+m+g*this.Pa*this.Pa+l*this.Qa*this.Qa,this.W.Ll(r,-u,-s,-q)):(n=this.xb,m=this.yb,g=this.cd,l=this.dd,q=g*this.Sa+l*this.Ta,p=g+l,this.W.i.Set(n+m+g*this.Sa*this.Sa+l*this.Ta*this.Ta,q,0),this.W.j.Set(q,p,0),q=this.W.kk(O.r(0,
0),-u,-s),r.x=q.x,r.y=q.y,r.z=0);q=r.x*this.ca.x+r.z*this.O.x;n=r.x*this.ca.y+r.z*this.O.y;u=r.x*this.Sa+r.y+r.z*this.Pa;r=r.x*this.Ta+r.y+r.z*this.Qa;b.x-=this.xb*q;b.y-=this.xb*n;d-=this.cd*u;e.x+=this.yb*q;e.y+=this.yb*n;f+=this.dd*r;a.k.J=d;c.k.J=f;a.ub();c.ub();return.005>=h&&k<=tc};var Ie=function(){ye.call(this);this.jb=O.r(0,0);this.kb=O.r(0,0);this.Fj=O.r(0,0);this.type=Z.AB;this.Fj.Set(1,0);this.Fg=0;this.nj=!1;this.wu=this.Ts=0;this.uk=!1;this.Xk=this.lt=0};y(Ie,ye);Ie.prototype.Qb=function(a,
c,b,d){this.I=a;this.K=c;this.jb=this.I.Wc(b);this.kb=this.K.Wc(b);this.Fj=this.I.Hq(d);this.Fg=this.K.jd()-this.I.jd()};Ie.prototype.Me=function(){return new He(this)};var Ke=function(a){Z.call(this,a);this.wh=O.r(0,0);this.xh=O.r(0,0);this.Z=O.r(0,0);this.aa=O.r(0,0);this.Xa=O.r(0,0);this.Ya=O.r(0,0);this.$e=this.Q.Da.wD;this.wh.x=a.To.x-this.$e.A.position.x;this.wh.y=a.To.y-this.$e.A.position.y;this.xh.x=a.Uo.x-this.$e.A.position.x;this.xh.y=a.Uo.y-this.$e.A.position.y;this.Z.F(a.jb);this.aa.F(a.kb);
this.zb=a.Di;this.Ok=a.Js+this.zb*a.Ks;this.wx=Math.min(a.yx,this.Ok-this.zb*Je);this.xx=Math.min(a.zx,(this.Ok-Je)/this.zb);this.xg=this.wg=this.B=0};y(Ke,Z);Ke.prototype.Ne=function(a){var c=this.Q,b=this.R,d;d=c.A.n;var e=this.Z.x-c.k.L.x,f=this.Z.y-c.k.L.y,g=d.i.x*e+d.j.x*f,f=d.i.y*e+d.j.y*f,e=g;d=b.A.n;var l=this.aa.x-b.k.L.x,n=this.aa.y-b.k.L.y,g=d.i.x*l+d.j.x*n,n=d.i.y*l+d.j.y*n,l=g;d=b.k.u.x+l;var g=b.k.u.y+n,m=this.$e.A.position.x+this.xh.x,h=this.$e.A.position.y+this.xh.y;this.Xa.Set(c.k.u.x+
e-(this.$e.A.position.x+this.wh.x),c.k.u.y+f-(this.$e.A.position.y+this.wh.y));this.Ya.Set(d-m,g-h);d=this.Xa.fg();g=this.Ya.fg();.005<d?this.Xa.md(1/d):this.Xa.ba();.005<g?this.Ya.md(1/g):this.Ya.ba();0<this.Ok-d-this.zb*g?(this.it=Z.sd,this.B=0):this.it=Z.Cc;d<this.wx?(this.bt=Z.sd,this.wg=0):this.bt=Z.Cc;g<this.xx?(this.ct=Z.sd,this.xg=0):this.ct=Z.Cc;d=e*this.Xa.y-f*this.Xa.x;g=l*this.Ya.y-n*this.Ya.x;this.Om=c.G+c.N*d*d;this.Pm=b.G+b.N*g*g;this.Cp=this.Om+this.zb*this.zb*this.Pm;this.Om=1/this.Om;
this.Pm=1/this.Pm;this.Cp=1/this.Cp;a.Kh?(this.B*=a.ac,this.wg*=a.ac,this.xg*=a.ac,a=(-this.B-this.wg)*this.Xa.x,d=(-this.B-this.wg)*this.Xa.y,g=(-this.zb*this.B-this.xg)*this.Ya.x,m=(-this.zb*this.B-this.xg)*this.Ya.y,c.q.x+=c.G*a,c.q.y+=c.G*d,c.D+=c.N*(e*d-f*a),b.q.x+=b.G*g,b.q.y+=b.G*m,b.D+=b.N*(l*m-n*g)):this.xg=this.wg=this.B=0};Ke.prototype.je=function(){var a=this.Q,c=this.R,b;b=a.A.n;var d=this.Z.x-a.k.L.x,e=this.Z.y-a.k.L.y,f=b.i.x*d+b.j.x*e,e=b.i.y*d+b.j.y*e,d=f;b=c.A.n;var g=this.aa.x-
c.k.L.x,l=this.aa.y-c.k.L.y,f=b.i.x*g+b.j.x*l,l=b.i.y*g+b.j.y*l,g=f,n=f=b=0,m=0;b=m=b=m=n=f=b=0;this.it==Z.Cc&&(b=a.q.x+-a.D*e,f=a.q.y+a.D*d,n=c.q.x+-c.D*l,m=c.q.y+c.D*g,b=-(this.Xa.x*b+this.Xa.y*f)-this.zb*(this.Ya.x*n+this.Ya.y*m),m=this.Cp*-b,b=this.B,this.B=Math.max(0,this.B+m),m=this.B-b,b=-m*this.Xa.x,f=-m*this.Xa.y,n=-this.zb*m*this.Ya.x,m=-this.zb*m*this.Ya.y,a.q.x+=a.G*b,a.q.y+=a.G*f,a.D+=a.N*(d*f-e*b),c.q.x+=c.G*n,c.q.y+=c.G*m,c.D+=c.N*(g*m-l*n));this.bt==Z.Cc&&(b=a.q.x+-a.D*e,f=a.q.y+a.D*
d,b=-(this.Xa.x*b+this.Xa.y*f),m=-this.Om*b,b=this.wg,this.wg=Math.max(0,this.wg+m),m=this.wg-b,b=-m*this.Xa.x,f=-m*this.Xa.y,a.q.x+=a.G*b,a.q.y+=a.G*f,a.D+=a.N*(d*f-e*b));this.ct==Z.Cc&&(n=c.q.x+-c.D*l,m=c.q.y+c.D*g,b=-(this.Ya.x*n+this.Ya.y*m),m=-this.Pm*b,b=this.xg,this.xg=Math.max(0,this.xg+m),m=this.xg-b,n=-m*this.Ya.x,m=-m*this.Ya.y,c.q.x+=c.G*n,c.q.y+=c.G*m,c.D+=c.N*(g*m-l*n))};Ke.prototype.ie=function(){var a=this.Q,c=this.R,b,d=this.$e.A.position.x+this.wh.x,e=this.$e.A.position.y+this.wh.y,
f=this.$e.A.position.x+this.xh.x,g=this.$e.A.position.y+this.xh.y,l=0,n=0,m=0,h=0,k=b=0,q=0,r=0,s=k=r=b=k=b=0;this.it==Z.Cc&&(b=a.A.n,l=this.Z.x-a.k.L.x,n=this.Z.y-a.k.L.y,k=b.i.x*l+b.j.x*n,n=b.i.y*l+b.j.y*n,l=k,b=c.A.n,m=this.aa.x-c.k.L.x,h=this.aa.y-c.k.L.y,k=b.i.x*m+b.j.x*h,h=b.i.y*m+b.j.y*h,m=k,b=a.k.u.x+l,k=a.k.u.y+n,q=c.k.u.x+m,r=c.k.u.y+h,this.Xa.Set(b-d,k-e),this.Ya.Set(q-f,r-g),b=this.Xa.fg(),k=this.Ya.fg(),.005<b?this.Xa.md(1/b):this.Xa.ba(),.005<k?this.Ya.md(1/k):this.Ya.ba(),b=this.Ok-
b-this.zb*k,s=Math.max(s,-b),b=U.nb(b+.005,-.2,0),r=-this.Cp*b,b=-r*this.Xa.x,k=-r*this.Xa.y,q=-this.zb*r*this.Ya.x,r=-this.zb*r*this.Ya.y,a.k.u.x+=a.G*b,a.k.u.y+=a.G*k,a.k.J+=a.N*(l*k-n*b),c.k.u.x+=c.G*q,c.k.u.y+=c.G*r,c.k.J+=c.N*(m*r-h*q),a.ub(),c.ub());this.bt==Z.Cc&&(b=a.A.n,l=this.Z.x-a.k.L.x,n=this.Z.y-a.k.L.y,k=b.i.x*l+b.j.x*n,n=b.i.y*l+b.j.y*n,l=k,b=a.k.u.x+l,k=a.k.u.y+n,this.Xa.Set(b-d,k-e),b=this.Xa.fg(),.005<b?(this.Xa.x*=1/b,this.Xa.y*=1/b):this.Xa.ba(),b=this.wx-b,s=Math.max(s,-b),b=
U.nb(b+.005,-.2,0),r=-this.Om*b,b=-r*this.Xa.x,k=-r*this.Xa.y,a.k.u.x+=a.G*b,a.k.u.y+=a.G*k,a.k.J+=a.N*(l*k-n*b),a.ub());this.ct==Z.Cc&&(b=c.A.n,m=this.aa.x-c.k.L.x,h=this.aa.y-c.k.L.y,k=b.i.x*m+b.j.x*h,h=b.i.y*m+b.j.y*h,m=k,q=c.k.u.x+m,r=c.k.u.y+h,this.Ya.Set(q-f,r-g),k=this.Ya.fg(),.005<k?(this.Ya.x*=1/k,this.Ya.y*=1/k):this.Ya.ba(),b=this.xx-k,s=Math.max(s,-b),b=U.nb(b+.005,-.2,0),r=-this.Pm*b,q=-r*this.Ya.x,r=-r*this.Ya.y,c.k.u.x+=c.G*q,c.k.u.y+=c.G*r,c.k.J+=c.N*(m*r-h*q),c.ub());return.005>s};
var Je=1,Le=function(){ye.call(this);this.To=O.r(0,0);this.Uo=O.r(0,0);this.jb=O.r(0,0);this.kb=O.r(0,0);this.type=Z.BB;this.To.Set(-1,1);this.Uo.Set(1,1);this.jb.Set(-1,0);this.kb.Set(1,0);this.zx=this.Ks=this.yx=this.Js=0;this.Di=1;this.qr=!0};y(Le,ye);Le.prototype.Qb=function(a,c,b,d,e,f,g){void 0===g&&(g=0);this.I=a;this.K=c;this.To.F(b);this.Uo.F(d);this.jb=this.I.Wc(e);this.kb=this.K.Wc(f);a=e.x-b.x;b=e.y-b.y;this.Js=Math.sqrt(a*a+b*b);b=f.x-d.x;d=f.y-d.y;this.Ks=Math.sqrt(b*b+d*d);this.Di=
g;g=this.Js+this.Di*this.Ks;this.yx=g-this.Di*Je;this.zx=(g-Je)/this.Di};Le.prototype.Me=function(){return new Ke(this)};var Me=function(a){Z.call(this,a);this.Pd=new P;this.Cl=new P;this.Dl=new P;this.El=new P;this.pc=new zc(0,0,0);this.Df=O.r(0,0);this.Eg=O.r(0,0);this.Z=O.r(0,0);this.aa=O.r(0,0);this.B=new zc(0,0,0);this.P=new Ac;this.Z.F(a.jb);this.aa.F(a.kb);this.Sm=a.Fg;this.B.ba();this.Ga=0;this.Ap=a.Ss;this.jt=a.vu;this.DD=a.Ax;this.Qm=a.Xk;this.Lf=a.nj;this.ni=a.uk;this.ra=Z.sd};y(Me,Z);
Me.prototype.On=function(){return this.R.k.J-this.Q.k.J-this.Sm};Me.prototype.Ne=function(a){var c=this.Q,b=this.R,d,e=0;d=c.A.n;var f=this.Z.x-c.k.L.x,g=this.Z.y-c.k.L.y,e=d.i.x*f+d.j.x*g,g=d.i.y*f+d.j.y*g,f=e;d=b.A.n;var l=this.aa.x-b.k.L.x,n=this.aa.y-b.k.L.y,e=d.i.x*l+d.j.x*n,n=d.i.y*l+d.j.y*n,l=e;d=c.G;var e=b.G,m=c.N,h=b.N;this.P.i.x=d+e+g*g*m+n*n*h;this.P.j.x=-g*f*m-n*l*h;this.P.la.x=-g*m-n*h;this.P.i.y=this.P.j.x;this.P.j.y=d+e+f*f*m+l*l*h;this.P.la.y=f*m+l*h;this.P.i.z=this.P.la.x;this.P.j.z=
this.P.la.y;this.P.la.z=m+h;this.Ad=1/(m+h);this.ni||(this.Ga=0);if(this.Lf){var k=b.k.J-c.k.J-this.Sm;Math.abs(this.jt-this.Ap)<2*tc?this.ra=Z.ai:k<=this.Ap?(this.ra!=Z.ng&&(this.B.z=0),this.ra=Z.ng):k>=this.jt?(this.ra!=Z.Cc&&(this.B.z=0),this.ra=Z.Cc):(this.ra=Z.sd,this.B.z=0)}else this.ra=Z.sd;a.Kh?(this.B.x*=a.ac,this.B.y*=a.ac,this.Ga*=a.ac,a=this.B.x,k=this.B.y,c.q.x-=d*a,c.q.y-=d*k,c.D-=m*(f*k-g*a+this.Ga+this.B.z),b.q.x+=e*a,b.q.y+=e*k,b.D+=h*(l*k-n*a+this.Ga+this.B.z)):(this.B.ba(),this.Ga=
0)};Me.prototype.je=function(a){var c=this.Q,b=this.R,d=0,e=d=0,f=0,g=0,l=0,n=c.q,m=c.D,h=b.q,k=b.D,q=c.G,r=b.G,s=c.N,u=b.N;this.ni&&this.ra!=Z.ai&&(e=this.Ad*-(k-m-this.Qm),f=this.Ga,g=a.ya*this.DD,this.Ga=U.nb(this.Ga+e,-g,g),e=this.Ga-f,m-=s*e,k+=u*e);if(this.Lf&&this.ra!=Z.sd){a=c.A.n;e=this.Z.x-c.k.L.x;f=this.Z.y-c.k.L.y;d=a.i.x*e+a.j.x*f;f=a.i.y*e+a.j.y*f;e=d;a=b.A.n;g=this.aa.x-b.k.L.x;l=this.aa.y-b.k.L.y;d=a.i.x*g+a.j.x*l;l=a.i.y*g+a.j.y*l;g=d;a=h.x+-k*l-n.x- -m*f;var p=h.y+k*g-n.y-m*e;this.P.Ll(this.pc,
-a,-p,-(k-m));this.ra==Z.ai?this.B.Og(this.pc):this.ra==Z.ng?(d=this.B.z+this.pc.z,0>d&&(this.P.kk(this.Eg,-a,-p),this.pc.x=this.Eg.x,this.pc.y=this.Eg.y,this.pc.z=-this.B.z,this.B.x+=this.Eg.x,this.B.y+=this.Eg.y,this.B.z=0)):this.ra==Z.Cc&&(d=this.B.z+this.pc.z,0<d&&(this.P.kk(this.Eg,-a,-p),this.pc.x=this.Eg.x,this.pc.y=this.Eg.y,this.pc.z=-this.B.z,this.B.x+=this.Eg.x,this.B.y+=this.Eg.y,this.B.z=0));n.x-=q*this.pc.x;n.y-=q*this.pc.y;m-=s*(e*this.pc.y-f*this.pc.x+this.pc.z);h.x+=r*this.pc.x;h.y+=
r*this.pc.y;k+=u*(g*this.pc.y-l*this.pc.x+this.pc.z)}else a=c.A.n,e=this.Z.x-c.k.L.x,f=this.Z.y-c.k.L.y,d=a.i.x*e+a.j.x*f,f=a.i.y*e+a.j.y*f,e=d,a=b.A.n,g=this.aa.x-b.k.L.x,l=this.aa.y-b.k.L.y,d=a.i.x*g+a.j.x*l,l=a.i.y*g+a.j.y*l,g=d,this.P.kk(this.Df,-(h.x+-k*l-n.x- -m*f),-(h.y+k*g-n.y-m*e)),this.B.x+=this.Df.x,this.B.y+=this.Df.y,n.x-=q*this.Df.x,n.y-=q*this.Df.y,m-=s*(e*this.Df.y-f*this.Df.x),h.x+=r*this.Df.x,h.y+=r*this.Df.y,k+=u*(g*this.Df.y-l*this.Df.x);c.q.F(n);c.D=m;b.q.F(h);b.D=k};Me.prototype.ie=
function(){var a=0,c,b=this.Q,d=this.R,e=0,f=c=0,g=0,l=0;if(this.Lf&&this.ra!=Z.sd){var a=d.k.J-b.k.J-this.Sm,n=0;this.ra==Z.ai?(a=U.nb(a-this.Ap,-uc,uc),n=-this.Ad*a,e=Math.abs(a)):this.ra==Z.ng?(a-=this.Ap,e=-a,a=U.nb(a+tc,-uc,0),n=-this.Ad*a):this.ra==Z.Cc&&(e=a-=this.jt,a=U.nb(a-tc,0,uc),n=-this.Ad*a);b.k.J-=b.N*n;d.k.J+=d.N*n;b.ub();d.ub()}c=b.A.n;n=this.Z.x-b.k.L.x;a=this.Z.y-b.k.L.y;f=c.i.x*n+c.j.x*a;a=c.i.y*n+c.j.y*a;n=f;c=d.A.n;var m=this.aa.x-d.k.L.x,h=this.aa.y-d.k.L.y,f=c.i.x*m+c.j.x*
h,h=c.i.y*m+c.j.y*h,m=f,g=d.k.u.x+m-b.k.u.x-n,l=d.k.u.y+h-b.k.u.y-a,k=g*g+l*l;c=Math.sqrt(k);var f=b.G,q=d.G,r=b.N,s=d.N;k>.05*.05&&(k=1/(f+q),g=k*-g,l=k*-l,b.k.u.x-=.5*f*g,b.k.u.y-=.5*f*l,d.k.u.x+=.5*q*g,d.k.u.y+=.5*q*l,g=d.k.u.x+m-b.k.u.x-n,l=d.k.u.y+h-b.k.u.y-a);this.Cl.i.x=f+q;this.Cl.j.x=0;this.Cl.i.y=0;this.Cl.j.y=f+q;this.Dl.i.x=r*a*a;this.Dl.j.x=-r*n*a;this.Dl.i.y=-r*n*a;this.Dl.j.y=r*n*n;this.El.i.x=s*h*h;this.El.j.x=-s*m*h;this.El.i.y=-s*m*h;this.El.j.y=s*m*m;this.Pd.pf(this.Cl);this.Pd.Dn(this.Dl);
this.Pd.Dn(this.El);this.Pd.Sh(Ne,-g,-l);g=Ne.x;l=Ne.y;b.k.u.x-=b.G*g;b.k.u.y-=b.G*l;b.k.J-=b.N*(n*l-a*g);d.k.u.x+=d.G*g;d.k.u.y+=d.G*l;d.k.J+=d.N*(m*l-h*g);b.ub();d.ub();return.005>=c&&e<=tc};var Ne=O.r(0,0),sc=function(){ye.call(this);this.jb=O.r(0,0);this.kb=O.r(0,0);this.type=Z.tk;this.jb.ba();this.kb.ba();this.Xk=this.Ax=this.vu=this.Ss=this.Fg=0;this.uk=this.nj=!1};y(sc,ye);sc.prototype.Qb=function(a,c,b){this.I=a;this.K=c;this.jb=this.I.Wc(b);this.kb=this.K.Wc(b);this.Fg=this.K.jd()-this.I.jd()};
sc.prototype.Me=function(){return new Me(this)};var Oe=function(a){Z.call(this,a);this.ze=O.r(0,0);this.Ae=O.r(0,0);this.B=new zc(0,0,0);this.P=new Ac;this.ze.F(a.jb);this.Ae.F(a.kb);this.Sm=a.Fg};y(Oe,Z);Oe.prototype.Ne=function(a){var c,b=0,d=this.Q,e=this.R;c=d.A.n;var f=this.ze.x-d.k.L.x,g=this.ze.y-d.k.L.y,b=c.i.x*f+c.j.x*g,g=c.i.y*f+c.j.y*g,f=b;c=e.A.n;var l=this.Ae.x-e.k.L.x,n=this.Ae.y-e.k.L.y,b=c.i.x*l+c.j.x*n,n=c.i.y*l+c.j.y*n,l=b;c=d.G;var b=e.G,m=d.N,h=e.N;this.P.i.x=c+b+g*g*m+n*n*h;this.P.j.x=
-g*f*m-n*l*h;this.P.la.x=-g*m-n*h;this.P.i.y=this.P.j.x;this.P.j.y=c+b+f*f*m+l*l*h;this.P.la.y=f*m+l*h;this.P.i.z=this.P.la.x;this.P.j.z=this.P.la.y;this.P.la.z=m+h;a.Kh?(this.B.x*=a.ac,this.B.y*=a.ac,this.B.z*=a.ac,d.q.x-=c*this.B.x,d.q.y-=c*this.B.y,d.D-=m*(f*this.B.y-g*this.B.x+this.B.z),e.q.x+=b*this.B.x,e.q.y+=b*this.B.y,e.D+=h*(l*this.B.y-n*this.B.x+this.B.z)):this.B.ba()};Oe.prototype.je=function(){var a,c=0,b=this.Q,d=this.R,e=b.q,f=b.D,g=d.q,l=d.D,n=b.G,m=d.G,h=b.N,k=d.N;a=b.A.n;var q=this.ze.x-
b.k.L.x,r=this.ze.y-b.k.L.y,c=a.i.x*q+a.j.x*r,r=a.i.y*q+a.j.y*r,q=c;a=d.A.n;var s=this.Ae.x-d.k.L.x,u=this.Ae.y-d.k.L.y,c=a.i.x*s+a.j.x*u,u=a.i.y*s+a.j.y*u,s=c;a=new zc(0,0,0);this.P.Ll(a,-(g.x-l*u-e.x+f*r),-(g.y+l*s-e.y-f*q),-(l-f));this.B.Og(a);e.x-=n*a.x;e.y-=n*a.y;f-=h*(q*a.y-r*a.x+a.z);g.x+=m*a.x;g.y+=m*a.y;l+=k*(s*a.y-u*a.x+a.z);b.D=f;d.D=l};Oe.prototype.ie=function(){var a,c=0,b=this.Q,d=this.R;a=b.A.n;var e=this.ze.x-b.k.L.x,f=this.ze.y-b.k.L.y,c=a.i.x*e+a.j.x*f,f=a.i.y*e+a.j.y*f,e=c;a=d.A.n;
var g=this.Ae.x-d.k.L.x,l=this.Ae.y-d.k.L.y,c=a.i.x*g+a.j.x*l,l=a.i.y*g+a.j.y*l,g=c;a=b.G;var c=d.G,n=b.N,m=d.N,h=d.k.u.x+g-b.k.u.x-e,k=d.k.u.y+l-b.k.u.y-f,q=d.k.J-b.k.J-this.Sm,r=Math.sqrt(h*h+k*k),s=Math.abs(q);.05<r&&(n*=1,m*=1);this.P.i.x=a+c+f*f*n+l*l*m;this.P.j.x=-f*e*n-l*g*m;this.P.la.x=-f*n-l*m;this.P.i.y=this.P.j.x;this.P.j.y=a+c+e*e*n+g*g*m;this.P.la.y=e*n+g*m;this.P.i.z=this.P.la.x;this.P.j.z=this.P.la.y;this.P.la.z=n+m;var u=new zc(0,0,0);this.P.Ll(u,-h,-k,-q);b.k.u.x-=a*u.x;b.k.u.y-=
a*u.y;b.k.J-=n*(e*u.y-f*u.x+u.z);d.k.u.x+=c*u.x;d.k.u.y+=c*u.y;d.k.J+=m*(g*u.y-l*u.x+u.z);b.ub();d.ub();return.005>=r&&s<=tc};var Pe=function(){ye.call(this);this.jb=O.r(0,0);this.kb=O.r(0,0);this.type=Z.DB;this.Fg=0};y(Pe,ye);Pe.prototype.Qb=function(a,c,b){this.I=a;this.K=c;this.jb.F(this.I.Wc(b));this.kb.F(this.K.Wc(b));this.Fg=this.K.jd()-this.I.jd()};Pe.prototype.Me=function(){return new Oe(this)};var ee=[new Gc,new Gc],ne=[new Gc,new Gc],oe=[new Gc,new Gc],fe=O.r(0,0),ge=O.r(0,0),he=O.r(0,0),
ke=O.r(0,0),ie=O.r(0,0),je=O.r(0,0),le=O.r(0,0),me=O.r(0,0),Hd=0,Qd=0,Rd=0,Od=0,Pd=0,Id=new ed,Jd=new Pc,Kd=new jc,Ld=new jc,Nd=new $c,Md=new Qc;lc.sE=new jc;mc.Fv=new mc;new function(){this.position=O.r(0,0);this.Wy=O.r(0,0);this.fd=O.r(0,0);this.id=new Fc};oc.sG=new jc;oc.hy=new Bc;oc.iy=new Bc;var Gd=new fd,ce=new gd,de=new be}
function Qe(a,c,b,d,e,f){var g;if(g=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=f-.1||d-.1<=c&&c<=f+.1))g=.1<Math.abs(e-b)?.1>Math.abs((f-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return g}function Re(a,c){var b=O,d=Se(a),e=[],f,g,l,n,m,h,k,q,r;m=0;for(h=d.length;m<h;m++){g=d[m];f=[];f.length=g.length;k=r=0;for(q=g.length;k<q;k++)l=g[k],n=g[(k+1)%q],r+=l.x*n.y-l.y*n.x,f[k]=b.r(l.x,l.y);r=Math.abs(r/2);r>=.001*c&&e.push(f)}return e}
function Se(a){var c=[],b=0,d=0,e=0,f=0,g=0,l=g=0,n=0,m=0,h=0,f=0,k,q,r,s,u,p=f=b=0,z=0,e=[],n=[],C=!1,J=[],x=[];for(x.push(a);x.length;){c=x[0];d=c.length;C=!0;for(b=0;b<d;b++)if(m=b,h=b<d-1?b+1:b+1-d,f=b<d-2?b+2:b+2-d,a=c[m],k=c[h],q=c[f],f=a.x,e=a.y,n=k.x,g=k.y,l=q.x,q=q.y,f=f*g+n*q+l*e-e*n-g*l-q*f,0>f){C=!1;n=1E9;for(e=0;e<d;e++)if(e!==m&&e!==h){b=e;f=e<d-1?e+1:0;r=c[b];s=c[f];l=a.x;q=a.y;var A=k.x,B=k.y,g=r.x;r=r.y;var D=s.x;s=s.y;var G=A-l,E=B-q,H=D-g,F=s-r,H=(H*(r-q)-F*(g-l))/(E*H-G*F),G=l+
H*G,E=q+H*E,l=Qe(A,B,l,q,G,E),g=Qe(G,E,g,r,D,s);if(q=l&&g?O.r(G,E):null)g=k.x-q.x,l=k.y-q.y,g=g*g+l*l,g<n&&(z=b,p=f,u=q,n=g)}if(1E9===n)return[];e=[];n=[];b=z;f=p;r=c[b];s=c[f];p=u.y;z=s.y;.1>Math.abs(s.x-u.x)&&.1>Math.abs(z-p)||e.push(u);p=u.y;z=r.y;.1>Math.abs(r.x-u.x)&&.1>Math.abs(z-p)||n.push(u);z=-1;for(p=m;;){if(p!==f)e.push(c[p]);else{if(0>z||z>=d)return[];Qe(s.x,s.y,c[z].x,c[z].y,a.x,a.y)||e.push(c[p]);break}z=p;0>p-1?p=d-1:p--}e.reverse();z=-1;for(p=h;;){if(p!==b)n.push(c[p]);else{if(0>z||
z>=d)return[];p!==b||Qe(r.x,r.y,c[z].x,c[z].y,k.x,k.y)||n.push(c[p]);break}z=p;p+1>d-1?p=0:p++}x.push(e,n);x.shift();break}C&&J.push(x.shift())}return J}
function Te(a){for(var c=0;4E3>c;c++)O.Sg.push(new O(0,0));this.c=a;this.Nd=new oc(O.r(0,10),!0);this.Fs=-1;a=new mc;a.behavior=this;a.Fn=function(a){this.behavior.c.cl(a.wb.La().kg.p,a.rb.La().kg.p)};this.Nd.jv(a);a=new nc;a.behavior=this;a.Zi=function(a,c){if(this.behavior.KA)return!0;var e=a.La().kg.p.type,f=c.La().kg.p.type,g=e.ka.Physics_DisabledCollisions;return g&&g.contains(f)?!1:(g=f.ka.Physics_DisabledCollisions)&&g.contains(e)?!1:!0};this.Nd.iv(a);this.zE=0;this.zn=8;this.cn=3;this.KA=
!0}
(function(){function a(){}function c(){}var b=O,d=V,e=qc,f=W,g=pc,l=rc,n=sc,m=Te.prototype;m.xc=function(a){this.behavior=a;this.c=a.c};m.xc.prototype.fb=function(){};m.Rb=function(a,b){this.type=a;this.behavior=a.behavior;this.p=b;this.c=a.c;this.Nd=this.behavior.Nd};var h=m.Rb.prototype;h.fb=function(){this.es=0!==this.wa[0];this.Qv=this.wa[1];this.Gt=0!==this.wa[2];this.yf=this.wa[3];this.pg=this.wa[4];this.Gg=this.wa[5];this.Cj=this.wa[6];this.bj=this.wa[7];this.gj=0!==this.wa[8];this.enabled=0!==
this.wa[9];this.body=null;this.p.Za();this.ep=this.p.x;this.fp=this.p.y;this.sg=this.p.M;this.Cs=this.Gs=0;this.ay=this.Es=!1;this.zs=null;this.As=-1;this.$d?(this.$d.length=0,this.df.length=0,this.oh.clear()):(this.$d=[],this.df=[],this.oh=new ba);var a=this;this.ae||(this.xi=function(b){a.Xm(b)});this.c.cr(this.xi)};h.Vx=function(){this.p.Za();this.wr();this.zs=this.p.ob;this.As=this.p.Y};h.Rj=function(){this.zo();this.df.length=0;this.oh.clear();this.body&&(this.Nd.Kn(this.body),this.body=null);
this.c.Pt(this.xi)};h.Dd=function(){var a={e:this.enabled,im:this.es,pr:this.Gt,d:this.yf,fr:this.pg,re:this.Gg,ld:this.Cj,ad:this.bj,b:this.gj,mcj:this.df};if(this.enabled){var c=b.r(0,0);c.F(this.body.Si());a.vx=c.x;a.vy=c.y;a.om=this.body.Nn()}return a};h.Yd=function(a){this.zo();this.df.length=0;this.oh.clear();this.body&&(this.Nd.Kn(this.body),this.body=null);this.enabled=a.e;this.es=a.im;this.Gt=a.pr;this.yf=a.d;this.pg=a.fr;this.Gg=a.re;this.Cj=a.ld;this.bj=a.ad;this.gj=a.b;this.ep=this.p.x;
this.fp=this.p.y;this.sg=this.p.M;this.Gs=this.p.width;this.Cs=this.p.height;this.enabled&&(this.wr(),this.body.Yi(b.r(a.vx,a.vy)),this.body.Il(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.Kc(!0),this.df=a.mcj)};h.hg=function(){this.enabled&&this.Ot();this.behavior.Fs=this.c.Mi-1};h.Xm=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.df.length;b<c;b++)this.df[d]=this.df[b],d<this.$d.length&&(this.$d[d]=this.$d[b]),this.df[b].Nf[1]==e?this.Nd.Ln(this.$d[b]):d++;this.df.length=d;d<this.$d.length&&(this.$d.length=
d);this.oh.remove(a)};h.zo=function(){var a,b;a=0;for(b=this.$d.length;a<b;a++)this.Nd.Ln(this.$d[a]);this.$d.length=0};h.Ot=function(){var a,b,c;a=0;for(b=this.df.length;a<b;a++)switch(c=this.df[a],c.type){case 0:this.gB(c.Nf[0],c.Nf[1],c.Nf[2],c.Nf[3],c.Nf[4]);break;case 1:this.iB(c.Nf[0],c.Nf[1]);break;case 2:this.hB(c.Nf[0],c.Nf[1],c.Nf[2],c.Nf[3])}};h.cB=function(){this.body&&(this.zo(),this.Nd.Kn(this.body),this.body=null,this.p.ka.Re=null)};var k=[];h.wr=function(){if(this.enabled){var a=this.p,
c=!1,h=null,l=null,m,n,C,J,x,A,B,D,G,E,H,F,ca;if(this.body){c=!0;h=b.r(0,0);h.F(this.body.Si());l=this.body.Nn();D=this.oh.Zf();m=0;for(n=D.length;m<n;m++)G=D[m].ka.Re.kg,G.zo();this.cB()}G=new e;G.yf=this.yf;G.pg=this.pg;G.Gg=this.Gg;m=new d;m.type=this.es?0:2;a.Za();m.position.x=.02*a.Db.vi();m.position.y=.02*a.Db.wi();m.M=a.M;m.Kr=this.Gt;m.Cj=this.Cj;m.bj=this.bj;m.gj=this.gj;D=this.p.Fa&&!this.p.Fa.vj();this.body=this.Nd.Aq(m);this.body.kg=this;m=this.Qv;D||this.p.Gh||0!==this.Qv||(m=1);n=Math.max(Math.abs(a.width),
1);C=Math.max(Math.abs(a.height),1);E=0>a.width;H=0>a.height;if(0===m)if(a.Gh)for(F=a.Db.vi()-a.x,B=a.Db.wi()-a.y,a.lC(k),D=[],m=0,n=k.length;m<n;++m){E=k[m];H=E.Ua;if(E.Bd){if(!E.Bd.ro){x=E.Bd.cb;J=E.Bd.Cd;for(C=0;C<J;++C)D.push(b.r(x[2*C],x[2*C+1]));C=E.id&3758096384;(-2147483648===C||1073741824===C||536870912===C||C&-2147483648&&C&1073741824&&C&536870912)&&D.reverse();E.Bd.ro=Re(D,(H.right-H.left)*(H.bottom-H.top));C=0;for(J=D.length;C<J;++C)b.Pb(D[C]);D.length=0}C=0;for(J=E.Bd.ro.length;C<J;++C){ca=
E.Bd.ro[C];x=0;for(A=ca.length;x<A;++x)D.push(b.r(.02*(H.left+ca[x].x-F),.02*(H.top+ca[x].y-B)));G.shape=new f;G.shape.Jl(D,D.length);this.body.bk(G);x=0;for(A=D.length;x<A;++x)b.Pb(D[x]);D.length=0}}else D.push(b.r(.02*(H.left-F),.02*(H.top-B))),D.push(b.r(.02*(H.right-F),.02*(H.top-B))),D.push(b.r(.02*(H.right-F),.02*(H.bottom-B))),D.push(b.r(.02*(H.left-F),.02*(H.bottom-B))),G.shape=new f,G.shape.Jl(D,D.length),this.body.bk(G);C=0;for(J=D.length;C<J;++C)b.Pb(D[C]);D.length=0}else{m=a.M;a.M=0;a.X();
a.Za();F=a.Db.vi()-a.x;B=a.Db.wi()-a.y;a.M=m;a.X();a.Fa.Xh(E?-n:n,H?-C:C,0);x=a.Fa.cb;J=a.Fa.Cd;D=[];D.length=J;for(m=0;m<J;m++)D[m]=b.r(x[2*m]-F,x[2*m+1]-B);E!==H&&D.reverse();F=Re(D,n*C);for(m=0;m<J;m++)b.Pb(D[m]);if(F.length)for(m=0,n=F.length;m<n;m++){D=F[m];C=0;for(J=D.length;C<J;C++)B=D[C],B.x*=.02,B.y*=.02;G.shape=new f;G.shape.Jl(D,D.length);this.body.bk(G);C=0;for(J=D.length;C<J;C++)b.Pb(D[C])}else G.shape=new f,G.shape.Vn(.01*n,.01*C),this.body.bk(G)}else 1===m?(G.shape=new f,G.shape.Vn(.01*
n,.01*C)):G.shape=new g(.01*Math.min(n,C)),this.body.bk(G);a.ka.Re=this.body;this.Gs=a.width;this.Cs=a.height;if(c)for(this.body.Yi(h),this.body.Il(l),b.Pb(h),this.Ot(),D=this.oh.Zf(),m=0,n=D.length;m<n;m++)G=D[m].ka.Re.kg,G.Ot();k.length=0}};h.Vf=function(){if(this.enabled){var a=this.p,c;0===this.behavior.zE?c=this.c.Ni/60:(c=this.c.Oo(this.p),c>1/30&&(c=1/30));this.c.Mi>this.behavior.Fs&&0<this.c.Ni&&(this.Nd.Rg(c,this.behavior.zn,this.behavior.cn),this.Nd.Eu(),this.behavior.Fs=this.c.Mi);if(this.ay||
a.width!==this.Gs||a.height!==this.Cs||a.ob!==this.zs||a.Y!==this.As||a.Gh&&a.Sj)this.wr(),this.ay=!1,this.zs=a.ob,this.As=a.Y,a.Gh&&a.Sj&&(a.Sj=!1);c=a.M!==this.sg;if(a.x!==this.ep||a.y!==this.fp){a.Za();var d=a.Db.vi(),e=a.Db.wi(),f=d-this.ep,g=e-this.fp;this.body.Uq(b.r(.02*d,.02*e));this.body.Yi(b.r(f,g));this.Es=!0;this.body.Kc(!0)}else this.Es&&(this.Es=!1,this.body.Yi(b.r(0,0)),this.body.Uq(b.r(.02*a.Db.vi(),.02*a.Db.wi())));c&&(this.body.Un(a.M),this.body.Kc(!0));d=this.body.A.position;c=
d.x/.02;d=d.y/.02;e=this.body.jd();if(c!==a.x||d!==a.y||e!==a.M)if(a.x=c,a.y=d,a.M=e,a.X(),a.Za(),c=a.Db.vi()-a.x,d=a.Db.wi()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.X();this.ep=a.x;this.fp=a.y;this.sg=a.M}};h.Po=function(a){return-1!==a&&this.p.qg?0===a&&this.body?(this.body.A.position.x+this.body.Ti().x)/.02:this.p.qg(a,!0):this.p.x};h.Qo=function(a){return-1!==a&&this.p.qg?0===a&&this.body?(this.body.A.position.y+this.body.Ti().y)/.02:this.p.qg(a,!1):this.p.y};a.prototype.Jq=function(){return this.enabled};
m.T=new a;c.prototype.bg=function(a,c,d){if(this.enabled){var e=this.Po(d);d=this.Qo(d);this.body.bg(b.r(a,c),b.r(.02*e,.02*d))}};c.prototype.En=function(a){this.enabled&&this.body.En(w(a))};c.prototype.Il=function(a){this.enabled&&(this.body.Il(w(a)),this.body.Kc(!0))};h.gB=function(a,c,d,e,f){if(this.enabled&&(c=this.c.di(c))&&c!=this.p&&c.ka.Re){c.ka.Re.kg.oh.add(this.p);var g=this.Po(a);a=this.Qo(a);var h;c.qg?(h=c.qg(d,!0),d=c.qg(d,!1)):(h=c.x,d=c.y);var k=g-h,m=a-d,n=new l;n.Qb(this.body,c.ka.Re,
b.r(.02*g,.02*a),b.r(.02*h,.02*d));n.length=.02*Math.sqrt(k*k+m*m);n.xo=e;n.Mo=f;this.$d.push(this.Nd.Jn(n))}};h.iB=function(a,c){if(this.enabled){var d=this.c.di(c);if(d&&d!=this.p&&d.ka.Re){d.ka.Re.kg.oh.add(this.p);var e=this.Po(a),f=this.Qo(a),g=new n;g.Qb(this.body,d.ka.Re,b.r(.02*e,.02*f));this.$d.push(this.Nd.Jn(g))}}};h.hB=function(a,c,d,e){if(this.enabled&&(c=this.c.di(c))&&c!=this.p&&c.ka.Re){c.ka.Re.kg.oh.add(this.p);var f=this.Po(a);a=this.Qo(a);var g=new n;g.Qb(this.body,c.ka.Re,b.r(.02*
f,.02*a));g.nj=!0;g.Ss=w(d);g.vu=w(e);this.$d.push(this.Nd.Jn(g))}};m.Fd=new c;m.ue=new function(){}})();function Ue(a){this.c=a}
(function(){function a(){}var c=Ue.prototype;c.xc=function(a){this.behavior=a;this.c=a.c};c.xc.prototype.fb=function(){};c.Rb=function(a,b){this.type=a;this.behavior=a.behavior;this.p=b;this.c=a.c};var b=c.Rb.prototype;b.fb=function(){this.Gc=null;this.Lp=-1;this.mode=this.sg=this.jq=this.Yk=this.Ch=this.bn=0;var a=this;this.ae||(this.xi=function(b){a.Xm(b)});this.c.cr(this.xi)};b.Dd=function(){return{uid:this.Gc?this.Gc.uid:-1,pa:this.bn,pd:this.Ch,msa:this.Yk,tsa:this.jq,lka:this.sg,m:this.mode}};
b.Yd=function(a){this.Lp=a.uid;this.bn=a.pa;this.Ch=a.pd;this.Yk=a.msa;this.jq=a.tsa;this.sg=a.lka;this.mode=a.m};b.hg=function(){this.Gc=-1===this.Lp?null:this.c.di(this.Lp);this.Lp=-1};b.Xm=function(a){this.Gc==a&&(this.Gc=null)};b.Rj=function(){this.Gc=null;this.c.Pt(this.xi)};b.Vf=function(){};b.tn=function(){if(this.Gc){this.sg!==this.p.M&&(this.Yk=Ga(this.Yk+(this.p.M-this.sg)));var a=this.p.x,b=this.p.y;if(3===this.mode||4===this.mode){var c=Na(this.p.x,this.p.y,this.Gc.x,this.Gc.y);if(c>this.Ch||
4===this.mode&&c<this.Ch)b=Ja(this.Gc.x,this.Gc.y,this.p.x,this.p.y),a=this.Gc.x+Math.cos(b)*this.Ch,b=this.Gc.y+Math.sin(b)*this.Ch}else a=this.Gc.x+Math.cos(this.Gc.M+this.bn)*this.Ch,b=this.Gc.y+Math.sin(this.Gc.M+this.bn)*this.Ch;this.sg=c=Ga(this.Yk+(this.Gc.M-this.jq));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.p.x===a&&this.p.y===b||(this.p.x=a,this.p.y=b,this.p.X());0!==this.mode&&2!==this.mode||this.p.M===c||(this.p.M=c,this.p.X())}};c.T=new function(){};a.prototype.dA=
function(a,b){if(a){var c=a.lw(this.p);c&&(this.Gc=c,this.bn=Ja(c.x,c.y,this.p.x,this.p.y)-c.M,this.Ch=Na(c.x,c.y,this.p.x,this.p.y),this.sg=this.Yk=this.p.M,this.jq=c.M,this.mode=b)}};c.Fd=new a;c.ue=new function(){}})();function Ve(a){this.c=a}
(function(){function a(){}function c(){}var b=Ve.prototype;b.xc=function(a){this.behavior=a;this.c=a.c};b.xc.prototype.fb=function(){};b.Rb=function(a,b){this.type=a;this.behavior=a.behavior;this.p=b;this.c=a.c;this.pn=this.Zp=this.Yp=this.cs=this.Ul=this.Yl=this.Ik=this.ym=this.Tp=this.mp=!1;this.we=null;this.Ms=-1;this.yj=this.xj=0;this.Ko=!1;this.vk=this.uf=0;this.Ho=!0;this.eb=this.za=0};var d=b.Rb.prototype;d.Sy=function(){this.Ac=Math.cos(this.zk);this.Bc=Math.sin(this.zk);this.Uj=Math.cos(this.zk-
Math.PI/2);this.Vj=Math.sin(this.zk-Math.PI/2);this.Ac=bb(this.Ac);this.Bc=bb(this.Bc);this.Uj=bb(this.Uj);this.Vj=bb(this.Vj);this.Tr=this.ih;0>this.ih&&(this.Ac*=-1,this.Bc*=-1,this.ih=Math.abs(this.ih))};d.fb=function(){this.Wk=this.wa[0];this.lk=this.wa[1];this.rk=this.wa[2];this.xm=this.wa[3];this.Tr=this.ih=this.wa[4];this.Ep=this.wa[5];this.Fr=0!==this.wa[6];this.ys=this.wa[7]/1E3;this.aB=1===this.wa[8];this.enabled=0!==this.wa[9];this.pl=!1;this.Cn=this.c.Li(this.p);this.Ns=-1;this.Xj=0;this.zk=
w(90);this.Sy();var a=this;this.aB&&!this.c.Ub&&(jQuery(document).keydown(function(b){a.ut(b)}),jQuery(document).keyup(function(b){a.wt(b)}));this.ae||(this.xi=function(b){a.Xm(b)});this.c.cr(this.xi);this.p.ka.isPlatformBehavior=!0};d.Dd=function(){return{ii:this.cs,lfx:this.xj,lfy:this.yj,lfo:this.we?this.we.uid:-1,am:this.uf,en:this.enabled,fall:this.vk,ft:this.Ho,dx:this.za,dy:this.eb,ms:this.Wk,acc:this.lk,dec:this.rk,js:this.xm,g:this.ih,g1:this.Tr,mf:this.Ep,wof:this.pl,woj:this.Cn?this.Cn.uid:
-1,ga:this.zk,edj:this.Fr,cdj:this.Ul,dj:this.Yl,sus:this.ys}};d.Yd=function(a){this.cs=a.ii;this.xj=a.lfx;this.yj=a.lfy;this.Ms=a.lfo;this.uf=a.am;this.enabled=a.en;this.vk=a.fall;this.Ho=a.ft;this.za=a.dx;this.eb=a.dy;this.Wk=a.ms;this.lk=a.acc;this.rk=a.dec;this.xm=a.js;this.ih=a.g;this.Tr=a.g1;this.Ep=a.mf;this.pl=a.wof;this.Ns=a.woj;this.zk=a.ga;this.Fr=a.edj;this.Ul=a.cdj;this.Yl=a.dj;this.ys=a.sus;this.pn=this.Zp=this.Yp=this.Ik=this.ym=this.Tp=this.mp=!1;this.Xj=0;this.Sy()};d.hg=function(){this.we=
-1===this.Ms?null:this.c.di(this.Ms);this.Cn=-1===this.Ns?null:this.c.di(this.Ns)};d.Xm=function(a){this.we==a&&(this.we=null)};d.Rj=function(){this.we=null;this.c.Pt(this.xi)};d.ut=function(a){switch(a.which){case 38:a.preventDefault();this.ym=!0;break;case 37:a.preventDefault();this.mp=!0;break;case 39:a.preventDefault(),this.Tp=!0}};d.wt=function(a){switch(a.which){case 38:a.preventDefault();this.Ik=this.ym=!1;break;case 37:a.preventDefault();this.mp=!1;break;case 39:a.preventDefault(),this.Tp=
!1}};d.kG=function(){return 0>this.ih?-1:1};d.Fw=function(){var a=null,b=null,c,d;c=this.p.x;d=this.p.y;this.p.x+=this.Ac;this.p.y+=this.Bc;this.p.X();if(this.we&&this.c.Tf(this.p,this.we))return this.p.x=c,this.p.y=d,this.p.X(),this.we;(a=this.c.ee(this.p))||0!==this.vk||(b=this.c.Li(this.p,!0));this.p.x=c;this.p.y=d;this.p.X();if(a){if(this.c.Tf(this.p,a))return null;this.Ko=!1;return a}if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.c.Tf(this.p,b[a])||d++;if(1<=d)return this.Ko=!0,
b[0]}return null};d.Vf=function(){};d.Wx=function(){var a=this.c.Oo(this.p),b,c,d,n,m,h,k,q,r;this.ym||this.pn||(this.Ik=!1);var s=this.mp||this.Yp;d=this.Tp||this.Zp;var u=(n=this.ym||this.pn)&&!this.Ik;this.pn=this.Zp=this.Yp=!1;if(this.enabled){this.cs&&(u=n=d=s=!1);n||(this.Xj=0);q=this.we;r=!1;this.Ho&&((this.c.ee(this.p)||this.c.Li(this.p))&&this.c.Qf(this.p,-this.Ac,-this.Bc,4,!0),this.Ho=!1);!q||0!==this.eb||q.y===this.yj&&q.x===this.xj||(b=q.x-this.xj,c=q.y-this.yj,this.p.x+=b,this.p.y+=
c,this.p.X(),this.xj=q.x,this.yj=q.y,r=!0,this.c.ee(this.p)&&this.c.Qf(this.p,-b,-c,2.5*Math.sqrt(b*b+c*c)));var p=this.Fw();if(c=this.c.ee(this.p))if(this.p.ka.inputPredicted)this.c.Qf(this.p,-this.Ac,-this.Bc,10,!1);else if(this.c.jE(this.p,Math.max(this.p.width,this.p.height)/2))this.c.cl(this.p,c);else return;p?(this.Ul=this.Yl=!1,0<this.eb&&(this.pl||(this.c.Kt(this.p,-this.Ac,-this.Bc,p),this.pl=!0),this.eb=0),q!=p)?(this.we=p,this.xj=p.x,this.yj=p.y,this.c.cl(this.p,p)):r&&(c=this.c.ee(this.p))&&
(this.c.cl(this.p,c),0!==b&&(0<b?this.c.Qf(this.p,-this.Uj,-this.Vj):this.c.Qf(this.p,this.Uj,this.Vj)),this.c.Qf(this.p,-this.Ac,-this.Bc)):n||(this.Ul=!0);if(p&&u||!p&&this.Fr&&n&&this.Ul&&!this.Yl)q=this.p.x,r=this.p.y,this.p.x-=this.Ac,this.p.y-=this.Bc,this.p.X(),this.c.ee(this.p)?u=!1:(this.Xj=this.ys,this.c.trigger(Ve.prototype.T.Uz,this.p),this.uf=2,this.eb=-this.xm,u=!0,p?this.Ik=!0:this.Yl=!0),this.p.x=q,this.p.y=r,this.p.X();p||(n&&0<this.Xj?(this.eb=-this.xm,this.Xj-=a):(this.we=null,
this.eb+=this.ih*a,this.eb>this.Ep&&(this.eb=this.Ep)),u&&(this.Ik=!0));this.pl=!!p;s==d&&(0>this.za?(this.za+=this.rk*a,0<this.za&&(this.za=0)):0<this.za&&(this.za-=this.rk*a,0>this.za&&(this.za=0)));s&&!d&&(this.za=0<this.za?this.za-(this.lk+this.rk)*a:this.za-this.lk*a);d&&!s&&(this.za=0>this.za?this.za+(this.lk+this.rk)*a:this.za+this.lk*a);this.za>this.Wk?this.za=this.Wk:this.za<-this.Wk&&(this.za=-this.Wk);s=!1;0!==this.za&&(q=this.p.x,r=this.p.y,b=this.za*a*this.Uj,c=this.za*a*this.Vj,this.p.x+=
this.Uj*(1<this.za?1:-1)-this.Ac,this.p.y+=this.Vj*(1<this.za?1:-1)-this.Bc,this.p.X(),n=!1,m=this.c.ee(this.p),this.p.x=q+b,this.p.y=r+c,this.p.X(),d=this.c.ee(this.p),!d&&p&&(d=this.c.Li(this.p))&&(this.p.x=q,this.p.y=r,this.p.X(),this.c.Tf(this.p,d)?(d=null,n=!1):n=!0,this.p.x=q+b,this.p.y=r+c,this.p.X()),d?(b=Math.abs(this.za*a)+2,m||!this.c.Qf(this.p,-this.Ac,-this.Bc,b,n,d))?(this.c.cl(this.p,d),b=Math.max(Math.abs(this.za*a*2.5),30),this.c.Qf(this.p,this.Uj*(0>this.za?1:-1),this.Vj*(0>this.za?
1:-1),b,!1)?!p||n||this.Ko||(q=this.p.x,r=this.p.y,this.p.x+=this.Ac,this.p.y+=this.Bc,this.c.ee(this.p)?this.c.Qf(this.p,-this.Ac,-this.Bc,3,!1)||(this.p.x=q,this.p.y=r,this.p.X()):(this.p.x=q,this.p.y=r,this.p.X())):(this.p.x=q,this.p.y=r,this.p.X()),n||(this.za=0)):!m&&!u&&Math.abs(this.eb)<Math.abs(this.xm/4)&&(this.eb=0,p||(s=!0)):(q=this.Fw(),p&&!q?(c=Math.ceil(Math.abs(this.za*a))+2,q=this.p.x,r=this.p.y,this.p.x+=this.Ac*c,this.p.y+=this.Bc*c,this.p.X(),this.c.ee(this.p)||this.c.Li(this.p)?
this.c.Qf(this.p,-this.Ac,-this.Bc,c+2,!0):(this.p.x=q,this.p.y=r,this.p.X())):q&&0===this.eb&&this.c.Kt(this.p,-this.Ac,-this.Bc,q)));if(0!==this.eb){q=this.p.x;r=this.p.y;this.p.x+=this.eb*a*this.Ac;this.p.y+=this.eb*a*this.Bc;b=this.p.x;d=this.p.y;this.p.X();c=this.c.ee(this.p);n=!1;if(!c&&0<this.eb&&!p){if((n=0<this.vk?null:this.c.Li(this.p,!0))&&n.length){if(this.Cn){this.p.x=q;this.p.y=r;this.p.X();k=m=0;for(h=n.length;m<h;m++)n[k]=n[m],this.c.Tf(this.p,n[m])||k++;n.length=k;this.p.x=b;this.p.y=
d;this.p.X()}1<=n.length&&(c=n[0])}n=!!c}c&&(this.c.cl(this.p,c),this.Xj=0,b=n?Math.abs(this.eb*a*2.5+10):Math.max(Math.abs(this.eb*a*2.5+10),30),this.c.Qf(this.p,this.Ac*(0>this.eb?1:-1),this.Bc*(0>this.eb?1:-1),b,n,c)?(this.we=c,this.xj=c.x,this.yj=c.y,(this.Ko=n)&&(s=!0),this.eb=0):(this.p.x=q,this.p.y=r,this.p.X(),this.pl=!0,n||(this.eb=0)))}3!==this.uf&&0<this.eb&&!p&&(this.c.trigger(Ve.prototype.T.Rz,this.p),this.uf=3);if(p||s)3===this.uf||s||u&&0===this.eb?(this.c.trigger(Ve.prototype.T.Zz,
this.p),this.uf=0===this.za&&0===this.eb?0:1):(0!==this.uf&&0===this.za&&0===this.eb&&(this.c.trigger(Ve.prototype.T.Yu,this.p),this.uf=0),1===this.uf||0===this.za&&0===this.eb||u||(this.c.trigger(Ve.prototype.T.Vu,this.p),this.uf=1));0<this.vk&&this.vk--;this.Cn=this.c.Li(this.p)}};a.prototype.Uz=function(){return!0};a.prototype.Rz=function(){return!0};a.prototype.Yu=function(){return!0};a.prototype.Vu=function(){return!0};a.prototype.Zz=function(){return!0};b.T=new a;c.prototype.lA=function(a){switch(a){case 0:this.Yp=
!0;break;case 1:this.Zp=!0;break;case 2:this.pn=!0}};b.Fd=new c;b.ue=new function(){}})();function We(a){this.c=a;this.cu=this.Xp=this.on=this.bu=0}
(function(){var a=We.prototype;a.xc=function(a){this.behavior=a;this.c=a.c};a.xc.prototype.fb=function(){};a.Rb=function(a,c){this.type=a;this.behavior=a.behavior;this.p=c;this.c=a.c};var c=a.Rb.prototype;c.fb=function(){this.enabled=0!==this.wa[0]};c.Dd=function(){return{smg:this.behavior.bu,ss:this.behavior.on,se:this.behavior.Xp,smd:this.behavior.cu}};c.Yd=function(a){this.behavior.bu=a.smg;this.behavior.on=a.ss;this.behavior.Xp=a.se;this.behavior.cu=a.smd};c.Vf=function(){};c.tn=function(){if(this.enabled){var a=
this.behavior.Gp.Zf(),c=0,e=0,f,g,l,n=0;f=0;for(g=a.length;f<g;f++){a:{l=a[f];for(var m=void 0,h=void 0,k=void 0,m=0,h=l.ta.length;m<h;++m)if(k=l.ta[m],k.behavior instanceof We){l=k;break a}l=null}l&&l.enabled&&(c+=a[f].x,e+=a[f].y,++n)}a=this.p.S.rc;g=this.c.wj.Rc;l=f=0;g>=this.behavior.on&&g<this.behavior.Xp&&(f=this.behavior.bu*Math.min(this.c.Ni,1),0===this.behavior.cu&&(f*=1-(g-this.behavior.on)/(this.behavior.Xp-this.behavior.on)),g=Math.random()*Math.PI*2,l=Math.random()*f,f=Math.cos(g)*l,
l*=Math.sin(g));a.Yt(c/n+f);a.Zt(e/n+l)}};a.Fd=new function(){}})();function ec(a){this.c=a}(function(){function a(){}var c=ec.prototype;c.xc=function(a){this.behavior=a;this.c=a.c};c.xc.prototype.fb=function(){};c.Rb=function(a,b){this.type=a;this.behavior=a.behavior;this.p=b;this.c=a.c};var b=c.Rb.prototype;b.fb=function(){this.p.ka.solidEnabled=0!==this.wa[0]};b.Vf=function(){};a.prototype.Jq=function(){return this.p.ka.solidEnabled};c.T=new a;c.Fd=new function(){}})();
function cc(){return[gc,fc,hc,ic,ec,Te,Ue,Ve,We,dc.prototype.T.Tu,Ue.prototype.Fd.dA,Ve.prototype.T.Vu,fc.prototype.Fd.hA,Ve.prototype.T.Yu,gc.prototype.T.Az,fc.prototype.Fd.kA,ic.prototype.T.Bz,Ve.prototype.Fd.lA]};
